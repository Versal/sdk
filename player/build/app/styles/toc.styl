@import 'variables'
@import 'nib'

$width = 450px
$handleWidth = 16px
$iconWidth = 16px
$lineHeight = 34px
$zIndex = 200
$tocPath = '../assets/img/toc/'
.toc
  border 1px solid $border
  position fixed
  top 55px
  display none
  width $width
  z-index $zIndex
  background white
  margin 1px 0 0 -1px
  box-shadow $boxShadow
  max-height vendor-value(calc(100% \- $navHeight))
  overflow-y scroll

  ul
    padding 0
    margin 0

  li
    font-size 16px
    padding 0
    margin 0
    border-bottom 1px solid $lightBorder
    list-style none
    background white
    line-height $lineHeight
    height $lineHeight + 1px
    overflow hidden
    position relative
    cursor default

    i
      visibility hidden
      vertical-align middle

    &:hover i
      visibility visible

    input
      position absolute
      vertical-align top
      border 0
      outline none
      cursor default
      background $highlightBg
      width $width
      line-height $lineHeight - 2px
      height $lineHeight - 2px

      text-indent $handleWidth + 5px
      z-index $zIndex + 1

    input[readonly]
      cursor pointer
      background transparent
      user-select none

    input:focus
      cursor text

    .handle
      width $handleWidth
      height $lineHeight
      display inline-block
      margin-right 5px
      cursor move
      background url($tocPath + 'handle.png') no-repeat 5px 10px
      margin 1px
      position absolute
      left 0
      z-index $zIndex + 2

    .lesson-fade
      width 32px
      height $lineHeight
      background linear-gradient(left, rgba(255,255,255,0), white 50%)
      z-index $zIndex + 2
      display block
      position absolute
      right 0
      top 0
      text-align right
      visibility visible

    .delete-icon
      width 16px
      height 16px
      display block
      position absolute
      right 0
      top 12px
      background url($tocPath + 'cross.png') no-repeat
      cursor pointer
      z-index $zIndex + 3

    &:hover
      background $hoverBg

    &.selected
      background $highlightBg

    &.disabled-lesson
      background #ddd

      &:hover
        background #ddd

      .lesson-fade
        display none

      input
        color #888
        cursor default

    &.create-lesson
      color #ccc
      cursor pointer
      text-indent $handleWidth + 5px
      border 0
      line-height $lineHeight

.student
  li
    cursor pointer
    text-indent $handleWidth + 5px

  li:last-child
    border 0

.animated
  animation-duration 0.5s
  animation-fill-mode both

@keyframes flash
  0%, 100%
    background $hoverBg
  50%
    background $greenBg

.flash
  animation-name flash
