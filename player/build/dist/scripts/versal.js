(function(){var a,b,c,d,e,f,g,h,i;for(f=function(a,b,c,d){var e,f,g,h;f=document.createElement("iframe"),f.src=b,f.className=c,e=d?{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}:{height:a.offsetHeight+"px"},e.border="0",e.minWidth="750px";for(g in e)h=e[g],f.style[g]=h;return f.marginheight="0",a.appendChild(f)},c=function(a){var b,c,d,e,f,g;for(c={},g=["course","sid","api","collabUrl","whitelabel","embed","noEditable","revision"],e=0,f=g.length;f>e;e++)b=g[e],d=a.getAttribute("data-"+b),d&&(c[b]=d);return c.fullscreen="true"===a.getAttribute("data-fullscreen"),c},i=document.getElementsByTagName("script"),g=0,h=i.length;h>g;g++)a=i[g],a.src.indexOf("versal.js")>0&&(b=c(a),e=a.src.match(/^(https?:\/\/.+)\/scripts\/versal.js/)[1],f(a.parentNode,e+"/iframe.html","versal-embed-"+b.course,b.fullscreen),b.hasOwnProperty("sid")&&(d=function(a){return b.event="player:launch",a.source.postMessage(JSON.stringify(b),e)},window.addEventListener("message",function(a){if(0===e.indexOf(a.origin))switch(JSON.parse(a.data).event){case"player:ready":return d(a);default:return window.parent.postMessage(a.data,"*")}})))}).call(this);