/*!
 * player v1.7.21
 * a masterpiece! from 344ae5b on 02. June 2016
 */
(function(){var e,t,n;(function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v,m=t&&t.split("/"),g=l.map,y=g&&g["*"]||{};if(e){e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e[0].charAt(0)==="."&&m&&(v=m.slice(0,m.length-1),e=v.concat(e));for(c=0;c<e.length;c++){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===0||c===1&&e[2]===".."||e[c-1]==="..")continue;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}if((m||y)&&g){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(m)for(h=m.length;h>0;h-=1){i=g[m.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&y&&y[r]&&(a=y[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){var n=p.call(arguments,0);return typeof n[0]!="string"&&n.length===1&&n.push(null),s.apply(r,n.concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){if(typeof e!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("../../bower_components/almond/almond",function(){}),function(){var e=this,t=e._,r={},i=Array.prototype,s=Object.prototype,o=Function.prototype,u=i.push,a=i.slice,f=i.concat,l=s.toString,c=s.hasOwnProperty,h=i.forEach,p=i.map,d=i.reduce,v=i.reduceRight,m=i.filter,g=i.every,y=i.some,b=i.indexOf,w=i.lastIndexOf,E=Array.isArray,S=Object.keys,x=o.bind,T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.6.0";var N=T.each=T.forEach=function(e,t,n){if(e==null)return e;if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(n,e[i],i,e)===r)return}else{var o=T.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(n,e[o[i]],o[i],e)===r)return}return e};T.map=T.collect=function(e,t,n){var r=[];return e==null?r:p&&e.map===p?e.map(t,n):(N(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var C="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);N(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(C);return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=T.keys(e);s=o.length}N(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(C);return n},T.find=T.detect=function(e,t,n){var r;return k(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return e==null?r:m&&e.filter===m?e.filter(t,n):(N(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},T.reject=function(e,t,n){return T.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},T.every=T.all=function(e,t,n){t||(t=T.identity);var i=!0;return e==null?i:g&&e.every===g?e.every(t,n):(N(e,function(e,s,o){if(!(i=i&&t.call(n,e,s,o)))return r}),!!i)};var k=T.some=T.any=function(e,t,n){t||(t=T.identity);var i=!1;return e==null?i:y&&e.some===y?e.some(t,n):(N(e,function(e,s,o){if(i||(i=t.call(n,e,s,o)))return r}),!!i)};T.contains=T.include=function(e,t){return e==null?!1:b&&e.indexOf===b?e.indexOf(t)!=-1:k(e,function(e){return e===t})},T.invoke=function(e,t){var n=a.call(arguments,2),r=T.isFunction(t);return T.map(e,function(e){return(r?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,T.property(t))},T.where=function(e,t){return T.filter(e,T.matches(t))},T.findWhere=function(e,t){return T.find(e,T.matches(t))},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return N(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return N(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},T.shuffle=function(e){var t,n=0,r=[];return N(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r},T.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=T.values(e)),e[T.random(e.length-1)]):T.shuffle(e).slice(0,Math.max(0,t))};var L=function(e){return e==null?T.identity:T.isFunction(e)?e:T.property(e)};T.sortBy=function(e,t,n){return t=L(t),T.pluck(T.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,n,r){var i={};return n=L(n),N(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};T.groupBy=A(function(e,t,n){T.has(e,t)?e[t].push(n):e[t]=[n]}),T.indexBy=A(function(e,t,n){e[t]=n}),T.countBy=A(function(e,t){T.has(e,t)?e[t]++:e[t]=1}),T.sortedIndex=function(e,t,n,r){n=L(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},T.toArray=function(e){return e?T.isArray(e)?a.call(e):e.length===+e.length?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return e==null?0:e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:a.call(e,0,t)},T.initial=function(e,t,n){return a.call(e,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return a.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var O=function(e,t,n){return t&&T.every(e,T.isArray)?f.apply(n,e):(N(e,function(e){T.isArray(e)||T.isArguments(e)?t?u.apply(n,e):O(e,t,n):n.push(e)}),n)};T.flatten=function(e,t){return O(e,t,[])},T.without=function(e){return T.difference(e,a.call(arguments,1))},T.partition=function(e,t){var n=[],r=[];return N(e,function(e){(t(e)?n:r).push(e)}),[n,r]},T.uniq=T.unique=function(e,t,n,r){T.isFunction(t)&&(r=n,n=t,t=!1);var i=n?T.map(e,n,r):e,s=[],o=[];return N(i,function(n,r){if(t?!r||o[o.length-1]!==n:!T.contains(o,n))o.push(n),s.push(e[r])}),s},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(e){var t=a.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.contains(t,e)})})},T.difference=function(e){var t=f.apply(i,a.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){var e=T.max(T.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=T.pluck(arguments,""+n);return t},T.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var M=function(){};T.bind=function(e,t){var n,r;if(x&&e.bind===x)return x.apply(e,a.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=a.call(arguments,2),r=function(){if(this instanceof r){M.prototype=e.prototype;var i=new M;M.prototype=null;var s=e.apply(i,n.concat(a.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(a.call(arguments)))}},T.partial=function(e){var t=a.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===T&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},T.bindAll=function(e){var t=a.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return N(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(a.call(arguments,1)))},T.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:T.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=T.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},T.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=T.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=T.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},T.wrap=function(e,t){return T.partial(t,e)},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},T.keys=function(e){if(!T.isObject(e))return[];if(S)return S(e);var t=[];for(var n in e)T.has(e,n)&&t.push(n);return t},T.values=function(e){var t=T.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},T.pairs=function(e){var t=T.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},T.invert=function(e){var t={},n=T.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return N(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=f.apply(i,a.call(arguments,1));return N(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=f.apply(i,a.call(arguments,1));for(var r in e)T.contains(n,r)||(t[r]=e[r]);return t},T.defaults=function(e){return N(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var _=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(T.isFunction(o)&&o instanceof o&&T.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,f=!0;if(i=="[object Array]"){a=e.length,f=a==t.length;if(f)while(a--)if(!(f=_(e[a],t[a],n,r)))break}else{for(var c in e)if(T.has(e,c)){a++;if(!(f=T.has(t,c)&&_(e[c],t[c],n,r)))break}if(f){for(c in t)if(T.has(t,c)&&!(a--))break;f=!a}}return n.pop(),r.pop(),f};T.isEqual=function(e,t){return _(e,t,[],[])},T.isEmpty=function(e){if(e==null)return!0;if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType===1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},N(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!T.has(e,"callee")}),typeof /./!="function"&&(T.isFunction=function(e){return typeof e=="function"}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.constant=function(e){return function(){return e}},T.property=function(e){return function(t){return t[e]}},T.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},T.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},T.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},T.now=Date.now||function(){return(new Date).getTime()};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};D.unescape=T.invert(D.escape);var P={escape:new RegExp("["+T.keys(D.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(D.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return t==null?"":(""+t).replace(P[e],function(t){return D[e][t]})}}),T.result=function(e,t){if(e==null)return void 0;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){N(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),I.call(this,n.apply(T,e))}})};var H=0;T.uniqueId=function(e){var t=++H+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){var r;n=T.defaults({},n,T.templateSettings);var i=new RegExp([(n.escape||B).source,(n.interpolate||B).source,(n.evaluate||B).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(F,function(e){return"\\"+j[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,T);var a=function(e){return r.call(this,e,T)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},T.chain=function(e){return T(e).chain()};var I=function(e){return this._chain?T(e).chain():e};T.mixin(T),N(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],I.call(this,n)}}),N(["concat","join","slice"],function(e){var t=i[e];T.prototype[e]=function(){return I.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof n=="function"&&n.amd&&n("underscore",[],function(){return T})}.call(this),function(e,t){function B(e){var t=e.length,n=E.type(e);return E.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function F(e){var t=j[e]={};return E.each(e.match(x)||[],function(e,n){t[n]=!0}),t}function R(e,n,r,i){if(!E.acceptData(e))return;var s,o,u=E.expando,a=e.nodeType,f=a?E.cache:e,l=a?e[u]:e[u]&&u;if((!l||!f[l]||!i&&!f[l].data)&&r===t&&typeof n=="string")return;l||(a?l=e[u]=h.pop()||E.guid++:l=u),f[l]||(f[l]=a?{}:{toJSON:E.noop});if(typeof n=="object"||typeof n=="function")i?f[l]=E.extend(f[l],n):f[l].data=E.extend(f[l].data,n);return o=f[l],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[E.camelCase(n)]=r),typeof n=="string"?(s=o[n],s==null&&(s=o[E.camelCase(n)])):s=o,s}function U(e,t,n){if(!E.acceptData(e))return;var r,i,s=e.nodeType,o=s?E.cache:e,u=s?e[E.expando]:E.expando;if(!o[u])return;if(t){r=n?o[u]:o[u].data;if(r){E.isArray(t)?t=t.concat(E.map(t,E.camelCase)):t in r?t=[t]:(t=E.camelCase(t),t in r?t=[t]:t=t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!W(r):!E.isEmptyObject(r))return}}if(!n){delete o[u].data;if(!W(o[u]))return}s?E.cleanData([e],!0):E.support.deleteExpando||o!=o.window?delete o[u]:o[u]=null}function z(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(q,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:I.test(r)?E.parseJSON(r):r}catch(s){}E.data(e,n,r)}else r=t}return r}function W(e){var t;for(t in e){if(t==="data"&&E.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function st(){return!0}function ot(){return!1}function ut(){try{return u.activeElement}catch(e){}}function ht(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function pt(e,t,n){if(E.isFunction(t))return E.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return E.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(at.test(t))return E.filter(t,e,n);t=E.filter(t,e)}return E.grep(e,function(e){return E.inArray(e,t)>=0!==n})}function dt(e){var t=vt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function _t(e,t){return E.nodeName(e,"table")&&E.nodeName(t.nodeType===1?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Dt(e){return e.type=(E.find.attr(e,"type")!==null)+"/"+e.type,e}function Pt(e){var t=kt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ht(e,t){var n,r=0;for(;(n=e[r])!=null;r++)E._data(n,"globalEval",!t||E._data(t[r],"globalEval"))}function Bt(e,t){if(t.nodeType!==1||!E.hasData(e))return;var n,r,i,s=E._data(e),o=E._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)E.event.add(t,n,u[n][r])}o.data&&(o.data=E.extend({},o.data))}function jt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!E.support.noCloneEvent&&t[E.expando]){i=E._data(t);for(r in i.events)E.removeEvent(t,r,i.handle);t.removeAttribute(E.expando)}if(n==="script"&&t.text!==e.text)Dt(t).text=e.text,Pt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),E.support.html5Clone&&e.innerHTML&&!E.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&Tt.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function Ft(e,n){var r,i,o=0,u=typeof e.getElementsByTagName!==s?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==s?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;(i=r[o])!=null;o++)!n||E.nodeName(i,n)?u.push(i):E.merge(u,Ft(i,n));return n===t||n&&E.nodeName(e,n)?E.merge([e],u):u}function It(e){Tt.test(e.type)&&(e.defaultChecked=e.checked)}function nn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=tn.length;while(i--){t=tn[i]+n;if(t in e)return t}return r}function rn(e,t){return e=t||e,E.css(e,"display")==="none"||!E.contains(e.ownerDocument,e)}function sn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=E._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&rn(r)&&(s[o]=E._data(r,"olddisplay",fn(r.nodeName)))):s[o]||(i=rn(r),(n&&n!=="none"||!i)&&E._data(r,"olddisplay",i?n:E.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function on(e,t,n){var r=Jt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function un(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=E.css(e,n+en[s],!0,i)),r?(n==="content"&&(o-=E.css(e,"padding"+en[s],!0,i)),n!=="margin"&&(o-=E.css(e,"border"+en[s]+"Width",!0,i))):(o+=E.css(e,"padding"+en[s],!0,i),n!=="padding"&&(o+=E.css(e,"border"+en[s]+"Width",!0,i)));return o}function an(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=Rt(e),o=E.support.boxSizing&&E.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Ut(e,t,s);if(i<0||i==null)i=e.style[t];if(Kt.test(i))return i;r=o&&(E.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+un(e,t,n||(o?"border":"content"),r,s)+"px"}function fn(e){var t=u,n=Gt[e];if(!n){n=ln(e,t);if(n==="none"||!n)qt=(qt||E("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(qt[0].contentWindow||qt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),qt.detach();Gt[e]=n}return n}function ln(e,t){var n=E(t.createElement(e)).appendTo(t.body),r=E.css(n[0],"display");return n.remove(),r}function mn(e,t,n,r){var i;if(E.isArray(t))E.each(t,function(t,i){n||hn.test(e)?r(e,i):mn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&E.type(t)==="object")for(i in t)mn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Dn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(x)||[];if(E.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Pn(e,t,n,r){function o(u){var a;return i[u]=!0,E.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===On;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Hn(e,n){var r,i,s=E.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&E.extend(!0,e,r),e}function Bn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes;while(f[0]==="*")f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}if(o)return o!==f[0]&&f.unshift(o),r[o]}function jn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function Wn(){try{return new e.XMLHttpRequest}catch(t){}}function Xn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Zn(){return setTimeout(function(){Vn=t}),Vn=E.now()}function er(e,t,n){var r,i=(Yn[t]||[]).concat(Yn["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function tr(e,t,n){var r,i,s=0,o=Gn.length,u=E.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Vn||Zn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Vn||Zn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;nr(l,f.opts.specialEasing);for(;s<o;s++){r=Gn[s].call(f,e,l,f.opts);if(r)return r}return E.map(l,er,f),E.isFunction(f.opts.start)&&f.opts.start.call(e,f),E.fx.timer(E.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function nr(e,t){var n,r,i,s,o;for(n in e){r=E.camelCase(n),i=t[r],s=e[n],E.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=E.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function rr(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&rn(e),p=E._data(e,"fxshow");n.queue||(u=E._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,E.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],E.css(e,"display")==="inline"&&E.css(e,"float")==="none"&&(!E.support.inlineBlockNeedsLayout||fn(e.nodeName)==="inline"?c.display="inline-block":c.zoom=1)),n.overflow&&(c.overflow="hidden",E.support.shrinkWrapBlocks||f.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(Jn.exec(i)){delete t[r],s=s||i==="toggle";if(i===(h?"hide":"show"))continue;l[r]=p&&p[r]||E.style(e,r)}}if(!E.isEmptyObject(l)){p?"hidden"in p&&(h=p.hidden):p=E._data(e,"fxshow",{}),s&&(p.hidden=!h),h?E(e).show():f.done(function(){E(e).hide()}),f.done(function(){var t;E._removeData(e,"fxshow");for(t in l)E.style(e,t,l[t])});for(r in l)o=er(h?p[r]:0,r,f),r in p||(p[r]=o.start,h&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function ir(e,t,n,r,i){return new ir.prototype.init(e,t,n,r,i)}function sr(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=en[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function or(e){return E.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var r,i,s=typeof t,o=e.location,u=e.document,a=u.documentElement,f=e.jQuery,l=e.$,c={},h=[],p="1.10.2",d=h.concat,v=h.push,m=h.slice,g=h.indexOf,y=c.toString,b=c.hasOwnProperty,w=p.trim,E=function(e,t){return new E.fn.init(e,t,i)},S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,x=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,L=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,O=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,M=/^-ms-/,_=/-([\da-z])/gi,D=function(e,t){return t.toUpperCase()},P=function(e){if(u.addEventListener||e.type==="load"||u.readyState==="complete")H(),E.ready()},H=function(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",P,!1),e.removeEventListener("load",P,!1)):(u.detachEvent("onreadystatechange",P),e.detachEvent("onload",P))};E.fn=E.prototype={jquery:p,constructor:E,init:function(e,n,r){var i,s;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=N.exec(e);if(i&&(i[1]||!n)){if(i[1]){n=n instanceof E?n[0]:n,E.merge(this,E.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:u,!0));if(C.test(i[1])&&E.isPlainObject(n))for(i in n)E.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}s=u.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=u,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):E.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),E.makeArray(e,this))},selector:"",length:0,toArray:function(){return m.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return E.each(this,e,t)},ready:function(e){return E.ready.promise().done(e),this},slice:function(){return this.pushStack(m.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(E.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:v,sort:[].sort,splice:[].splice},E.fn.init.prototype=E.fn,E.extend=E.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!E.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((s=arguments[a])!=null)for(i in s){e=u[i],r=s[i];if(u===r)continue;l&&r&&(E.isPlainObject(r)||(n=E.isArray(r)))?(n?(n=!1,o=e&&E.isArray(e)?e:[]):o=e&&E.isPlainObject(e)?e:{},u[i]=E.extend(l,o,r)):r!==t&&(u[i]=r)}return u},E.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===E&&(e.$=l),t&&e.jQuery===E&&(e.jQuery=f),E},isReady:!1,readyWait:1,holdReady:function(e){e?E.readyWait++:E.ready(!0)},ready:function(e){if(e===!0?--E.readyWait:E.isReady)return;if(!u.body)return setTimeout(E.ready);E.isReady=!0;if(e!==!0&&--E.readyWait>0)return;r.resolveWith(u,[E]),E.fn.trigger&&E(u).trigger("ready").off("ready")},isFunction:function(e){return E.type(e)==="function"},isArray:Array.isArray||function(e){return E.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||E.type(e)!=="object"||e.nodeType||E.isWindow(e))return!1;try{if(e.constructor&&!b.call(e,"constructor")&&!b.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(E.support.ownLast)for(n in e)return b.call(e,n);for(n in e);return n===t||b.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||u;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=E.buildFragment([e],t,i),i&&E(i).remove(),E.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=E.trim(t);if(t&&k.test(t.replace(A,"@").replace(O,"]").replace(L,"")))return(new Function("return "+t))()}E.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&E.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&E.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(M,"ms-").replace(_,D)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=B(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:w&&!w.call("﻿ ")?function(e){return e==null?"":w.call(e)}:function(e){return e==null?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(B(Object(e))?E.merge(n,typeof e=="string"?[e]:e):v.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=B(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return d.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(s=e[n],n=e,e=s),E.isFunction(e)?(r=m.call(arguments,2),i=function(){return e.apply(n||this,r.concat(m.call(arguments)))},i.guid=e.guid=e.guid||E.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(E.type(r)==="object"){s=!0;for(a in r)E.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,E.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(E(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),E.ready.promise=function(t){if(!r){r=E.Deferred();if(u.readyState==="complete")setTimeout(E.ready);else if(u.addEventListener)u.addEventListener("DOMContentLoaded",P,!1),e.addEventListener("load",P,!1);else{u.attachEvent("onreadystatechange",P),e.attachEvent("onload",P);var n=!1;try{n=e.frameElement==null&&u.documentElement}catch(i){}n&&n.doScroll&&function s(){if(!E.isReady){try{n.doScroll("left")}catch(e){return setTimeout(s,50)}H(),E.ready()}}()}}return r.promise(t)},E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()}),i=E(u),function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,E;(t?t.ownerDocument||t:w)!==h&&c(t),t=t||h,n=n||[];if(!e||typeof e!="string")return n;if((a=t.nodeType)!==1&&a!==9)return[];if(d&&!i){if(s=Z.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){m=p=b,g=t,E=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){l=mt(e),(p=t.getAttribute("id"))?m=p.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+gt(l[f]);g=$.test(e)&&t.parentNode||t,E=l.join(",")}if(E)try{return H.apply(n,g.querySelectorAll(E)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Nt(e.replace(W,"$1"),t,n,i)}function ut(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function at(e){return e[b]=!0,e}function ft(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)s.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(){}function mt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){if(!n||(r=X.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(i=[]);n=!1;if(r=V.exec(u))n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),u=u.slice(n.length);for(o in s.filter)(r=G[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function gt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,s=n&&r==="parentNode",o=x++;return t.first?function(t,n,i){while(t=t[r])if(t.nodeType===1||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=S+" "+o;if(u){while(t=t[r])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[r])if(t.nodeType===1||s){l=t[b]||(t[b]={});if((f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else{f=l[r]=[c],f[1]=e(t,n,u)||i;if(f[1]===!0)return!0}}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Et(e,t,n,r,i,s){return r&&!r[b]&&(r=Et(r)),i&&!i[b]&&(i=Et(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Tt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?j.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):H.apply(o,g)})}function St(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return j.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<i;a++)if(n=s.relative[e[a].type])h=[yt(bt(h),n)];else{n=s.filter[e[a].type].apply(null,e[a].matches);if(n[b]){r=++a;for(;r<i;r++)if(s.relative[e[r].type])break;return Et(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(W,"$1"),n,a<r&&St(e.slice(a,r)),r<i&&St(e=e.slice(r)),r<i&&gt(e))}h.push(n)}return bt(h)}function xt(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=S+=x==null?1:Math.random()||.1;E&&(f=a!==h&&a,i=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}E&&(S=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=D.call(c));g=wt(g)}H.apply(c,g),E&&!u&&g.length>0&&y+t.length>1&&ot.uniqueSort(c)}return E&&(S=N,f=x),w};return r?at(u):u}function Tt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ot(e,t[r],n);return n}function Nt(e,t,n,i){var o,u,f,l,c,h=mt(e);if(!i&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&r.getById&&t.nodeType===9&&d&&s.relative[u[1].type]){t=(s.find.ID(f.matches[0].replace(rt,it),t)||[])[0];if(!t)return n;e=e.slice(u.shift().value.length)}o=G.needsContext.test(e)?0:u.length;while(o--){f=u[o];if(s.relative[l=f.type])break;if(c=s.find[l])if(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t)){u.splice(o,1),e=i.length&&gt(u);if(!e)return H.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,$.test(e)),n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),w=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=!1,L=function(e,t){return e===t?(k=!0,0):0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=new RegExp("^"+I+"*,"+I+"*"),V=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=new RegExp(I+"*[+~]"),J=new RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=new RegExp(z),Q=new RegExp("^"+R+"$"),G={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{H.apply(_=B.call(w.childNodes),w.childNodes),_[w.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},r=ot.support={},c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:w,n=t.defaultView;if(t===h||t.nodeType!==9||!t.documentElement)return h;h=t,p=t.documentElement,d=!u(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){c()}),r.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ft(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ft(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),r.getById=ft(function(e){return p.appendChild(e).id=b,!t.getElementsByName||!t.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==A)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==A&&d)return t.getElementsByClassName(e)},m=[],v=[];if(r.qsa=Y.test(t.querySelectorAll))ft(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+F+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),ft(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")});return(r.matchesSelector=Y.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ft(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),y=Y.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},L=p.compareDocumentPosition?function(e,n){if(e===n)return k=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);if(i)return i&1||!r.sortDetached&&n.compareDocumentPosition(e)===i?e===t||y(w,e)?-1:n===t||y(w,n)?1:l?j.call(l,e)-j.call(l,n):0:i&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,s=e.parentNode,o=n.parentNode,u=[e],a=[n];if(e===n)return k=!0,0;if(!s||!o)return e===t?-1:n===t?1:s?-1:o?1:l?j.call(l,e)-j.call(l,n):0;if(s===o)return ct(e,n);r=e;while(r=r.parentNode)u.unshift(r);r=n;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?ct(u[i],a[i]):u[i]===w?-1:a[i]===w?1:0},t},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){(e.ownerDocument||e)!==h&&c(e),t=t.replace(J,"='$1']");if(r.matchesSelector&&d&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(i){}return ot(t,h,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ot.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,n=[],i=0,s=0;k=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(L);if(k){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=o(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(i===3||i===4)return e.nodeValue;return n},s=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&K.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[b]||(c[b]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=j.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return Q.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[n<0?n+t:n]}),even:dt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=ht(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=pt(n);vt.prototype=s.filters=s.pseudos,s.setFilters=new vt,a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=mt(e)),n=t.length;while(n--)s=St(t[n]),s[b]?r.push(s):i.push(s);s=C(e,xt(i,r))}return s},r.sortStable=b.split("").sort(L).join("")===b,r.detectDuplicates=k,c(),r.sortDetached=ft(function(e){return e.compareDocumentPosition(h.createElement("div"))&1}),ft(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||lt("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!r.attributes||!ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&lt("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ft(function(e){return e.getAttribute("disabled")==null})||lt(F,function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),E.find=ot,E.expr=ot.selectors,E.expr[":"]=E.expr.pseudos,E.unique=ot.uniqueSort,E.text=ot.getText,E.isXMLDoc=ot.isXML,E.contains=ot.contains}(e);var j={};E.Callbacks=function(e){e=typeof e=="string"?j[e]||F(e):E.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;for(;a&&o<s;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){E.each(t,function(t,n){var r=E.type(n);r==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&r!=="string"&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&E.each(arguments,function(e,t){var r;while((r=E.inArray(t,a,r))>-1)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)}),this},has:function(e){return e?E.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],s=0,this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return a&&(!i||f)&&(t=t||[],t=[e,t.slice?t.slice():t],n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},E.extend({Deferred:function(e){var t=[["resolve","done",E.Callbacks("once memory"),"resolved"],["reject","fail",E.Callbacks("once memory"),"rejected"],["notify","progress",E.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return E.Deferred(function(n){E.each(t,function(t,s){var o=s[0],u=E.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&E.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?E.extend(e,r):r}},i={};return r.pipe=r.then,E.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=m.call(arguments),r=n.length,i=r!==1||e&&E.isFunction(e.promise)?r:0,s=i===1?e:E.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?m.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&E.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),E.support=function(t){var n,r,i,o,a,f,l,c,h,p=u.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*")||[],r=p.getElementsByTagName("a")[0];if(!r||!r.style||!n.length)return t;o=u.createElement("select"),f=o.appendChild(u.createElement("option")),i=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute=p.className!=="t",t.leadingWhitespace=p.firstChild.nodeType===3,t.tbody=!p.getElementsByTagName("tbody").length,t.htmlSerialize=!!p.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized=r.getAttribute("href")==="/a",t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!i.value,t.optSelected=f.selected,t.enctype=!!u.createElement("form").enctype,t.html5Clone=u.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}i=u.createElement("input"),i.setAttribute("value",""),t.input=i.getAttribute("value")==="",i.value="t",i.setAttribute("type","radio"),t.radioValue=i.value==="t",i.setAttribute("checked","t"),i.setAttribute("name","t"),a=u.createDocumentFragment(),a.appendChild(i),t.appendChecked=i.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=p.style.backgroundClip==="content-box";for(h in E(t))break;return t.ownLast=h!=="0",E(function(){var n,r,i,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=u.getElementsByTagName("body")[0];if(!a)return;n=u.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=p.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=i[0].offsetHeight===0,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&i[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",E.swap(a,a.style.zoom!=null?{zoom:1}:{},function(){t.boxSizing=p.offsetWidth===4}),e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px",r=p.appendChild(u.createElement("div")),r.style.cssText=p.style.cssText=o,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==s&&(p.innerHTML="",p.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=p.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=i=r=null}),n=o=a=f=r=i=null,t}({});var I=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,q=/([A-Z])/g;E.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?E.cache[e[E.expando]]:e[E.expando],!!e&&!W(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return U(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return U(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&E.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),E.fn.extend({data:function(e,n){var r,i,s=null,o=0,u=this[0];if(e===t){if(this.length){s=E.data(u);if(u.nodeType===1&&!E._data(u,"parsedAttrs")){r=u.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")===0&&(i=E.camelCase(i.slice(5)),z(u,i,s[i]));E._data(u,"parsedAttrs",!0)}}return s}return typeof e=="object"?this.each(function(){E.data(this,e)}):arguments.length>1?this.each(function(){E.data(this,e,n)}):u?z(u,e,E.data(u,e)):null},removeData:function(e){return this.each(function(){E.removeData(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=E._data(e,t),n&&(!r||E.isArray(n)?r=E._data(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),s=E._queueHooks(e,t),o=function(){E.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return E._data(e,n)||E._data(e,n,{empty:E.Callbacks("once memory").add(function(){E._removeData(e,t+"queue"),E._removeData(e,n)})})}}),E.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?E.queue(this[0],e):n===t?this:this.each(function(){var t=E.queue(this,e,n);E._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&E.dequeue(this,e)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},delay:function(e,t){return e=E.fx?E.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=E.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=E._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var X,V,$=/[\t\r\n\f]/g,J=/\r/g,K=/^(?:input|select|textarea|button|object)$/i,Q=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Y=E.support.getSetAttribute,Z=E.support.input;E.fn.extend({attr:function(e,t){return E.access(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})},prop:function(e,t){return E.access(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return e=E.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(E.isFunction(e))return this.each(function(t){E(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(x)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace($," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=E.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(E.isFunction(e))return this.each(function(t){E(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(x)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace($," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?E.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):E.isFunction(e)?this.each(function(n){E(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=E(this),o=e.match(x)||[];while(t=o[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===s||n==="boolean")this.className&&E._data(this,"__className__",this.className),this.className=this.className||e===!1?"":E._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace($," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return r=E.valHooks[s.type]||E.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,typeof n=="string"?n.replace(J,""):n==null?"":n);return}return i=E.isFunction(e),this.each(function(n){var s;if(this.nodeType!==1)return;i?s=e.call(this,n,E(this).val()):s=e,s==null?s="":typeof s=="number"?s+="":E.isArray(s)&&(s=E.map(s,function(e){return e==null?"":e+""})),r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t)this.value=s})}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return t!=null?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(E.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!E.nodeName(n.parentNode,"optgroup"))){t=E(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=E.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=E.inArray(E(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}},attr:function(e,n,r){var i,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;if(typeof e.getAttribute===s)return E.prop(e,n,r);if(u!==1||!E.isXMLDoc(e))n=n.toLowerCase(),i=E.attrHooks[n]||(E.expr.match.bool.test(n)?V:X);if(r===t)return i&&"get"in i&&(o=i.get(e,n))!==null?o:(o=E.find.attr(e,n),o==null?t:o);if(r!==null)return i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r);E.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(x);if(s&&e.nodeType===1)while(n=s[i++])r=E.propFix[n]||n,E.expr.match.bool.test(n)?Z&&Y||!G.test(n)?e[r]=!1:e[E.camelCase("default-"+n)]=e[r]=!1:E.attr(e,n,""),e.removeAttribute(Y?n:r)},attrHooks:{type:{set:function(e,t){if(!E.support.radioValue&&t==="radio"&&E.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!E.isXMLDoc(e),o&&(n=E.propFix[n]||n,s=E.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):K.test(e.nodeName)||Q.test(e.nodeName)&&e.href?0:-1}}}}),V={set:function(e,t,n){return t===!1?E.removeAttr(e,n):Z&&Y||!G.test(n)?e.setAttribute(!Y&&E.propFix[n]||n,n):e[E.camelCase("default-"+n)]=e[n]=!0,n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,n){var r=E.expr.attrHandle[n]||E.find.attr;E.expr.attrHandle[n]=Z&&Y||!G.test(n)?function(e,n,i){var s=E.expr.attrHandle[n],o=i?t:(E.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return E.expr.attrHandle[n]=s,o}:function(e,n,r){return r?t:e[E.camelCase("default-"+n)]?n.toLowerCase():null}});if(!Z||!Y)E.attrHooks.value={set:function(e,t,n){if(!E.nodeName(e,"input"))return X&&X.set(e,t,n);e.defaultValue=t}};Y||(X={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},E.expr.attrHandle.id=E.expr.attrHandle.name=E.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.value!==""?i.value:null},E.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:X.set},E.attrHooks.contenteditable={set:function(e,t,n){X.set(e,t===""?!1:t,n)}},E.each(["width","height"],function(e,t){E.attrHooks[t]={set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}}})),E.support.hrefNormalized||E.each(["href","src"],function(e,t){E.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),E.support.style||(E.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),E.support.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.support.enctype||(E.propFix.enctype="encoding"),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(E.isArray(t))return e.checked=E.inArray(E(e).val(),t)>=0}},E.support.checkOn||(E.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var et=/^(?:input|select|textarea)$/i,tt=/^key/,nt=/^(?:mouse|contextmenu)|click/,rt=/^(?:focusinfocus|focusoutblur)$/,it=/^([^.]*)(?:\.(.+)|)$/;E.event={global:{},add:function(e,n,r,i,o){var u,a,f,l,c,h,p,d,v,m,g,y=E._data(e);if(!y)return;r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=E.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof E===s||!!e&&E.event.triggered===e.type?t:E.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(x)||[""],f=n.length;while(f--){u=it.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort();if(!v)continue;c=E.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=E.event.special[v]||{},p=E.extend({type:v,origType:g,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[],d.delegateCount=0;if(!c.setup||c.setup.call(e,i,m,h)===!1)e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h)}c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),E.event.global[v]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=E.hasData(e)&&E._data(e);if(!m||!(l=m.events))return;t=(t||"").match(x)||[""],f=t.length;while(f--){u=it.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in l)E.event.remove(e,p+t[f],n,r,!0);continue}c=E.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],(i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&E.removeEvent(e,p,m.handle),delete l[p])}E.isEmptyObject(l)&&(delete m.handle,E._removeData(e,"events"))},trigger:function(n,r,i,s){var o,a,f,l,c,h,p,d=[i||u],v=b.call(n,"type")?n.type:n,m=b.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||u;if(i.nodeType===3||i.nodeType===8)return;if(rt.test(v+E.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=v.indexOf(":")<0&&"on"+v,n=n[E.expando]?n:new E.Event(v,typeof n=="object"&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=r==null?[n]:E.makeArray(r,[n]),c=E.event.special[v]||{};if(!s&&c.trigger&&c.trigger.apply(i,r)===!1)return;if(!s&&!c.noBubble&&!E.isWindow(i)){l=c.delegateType||v,rt.test(l+v)||(f=f.parentNode);for(;f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||u)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,o=(E._data(f,"events")||{})[n.type]&&E._data(f,"handle"),o&&o.apply(f,r),o=a&&f[a],o&&E.acceptData(f)&&o.apply&&o.apply(f,r)===!1&&n.preventDefault();n.type=v;if(!s&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),r)===!1)&&E.acceptData(i)&&a&&i[v]&&!E.isWindow(i)){h=i[a],h&&(i[a]=null),E.event.triggered=v;try{i[v]()}catch(g){}E.event.triggered=t,h&&(i[a]=h)}return n.result},dispatch:function(e){e=E.event.fix(e);var n,r,i,s,o,u=[],a=m.call(arguments),f=(E._data(this,"events")||{})[e.type]||[],l=E.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=E.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,r=((E.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.nodeType===1&&(f.disabled!==!0||e.type!=="click")){s=[];for(o=0;o<a;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?E(r,this).index(f)>=0:E.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[E.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=nt.test(i)?this.mouseHooks:tt.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new E.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||u),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,o=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||u,s=i.documentElement,r=i.body,e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&o!==t&&(e.which=o&1?1:o&2?3:o&4?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ut()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ut()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(E.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(e){return E.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=E.extend(new E.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?E.event.trigger(i,null,t):E.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},E.removeEvent=u.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===s&&(e[r]=null),e.detachEvent(r,n))},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?st:ot):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||E.now(),this[E.expando]=!0},E.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=st;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=st;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=st,this.stopPropagation()}},E.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!E.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),E.support.submitBubbles||(E.event.special.submit={setup:function(){if(E.nodeName(this,"form"))return!1;E.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=E.nodeName(n,"input")||E.nodeName(n,"button")?n.form:t;r&&!E._data(r,"submitBubbles")&&(E.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),E._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&E.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(E.nodeName(this,"form"))return!1;E.event.remove(this,"._submit")}}),E.support.changeBubbles||(E.event.special.change={setup:function(){if(et.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")E.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),E.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),E.event.simulate("change",this,e,!0)});return!1}E.event.add(this,"beforeactivate._change",function(e){var t=e.target;et.test(t.nodeName)&&!E._data(t,"changeBubbles")&&(E.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&E.event.simulate("change",this.parentNode,e,!0)}),E._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return E.event.remove(this,"._change"),!et.test(this.nodeName)}}),E.support.focusinBubbles||E.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){E.event.simulate(t,e.target,E.event.fix(e),!0)};E.event.special[t]={setup:function(){n++===0&&u.addEventListener(e,r,!0)},teardown:function(){--n===0&&u.removeEventListener(e,r,!0)}}}),E.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=ot;else if(!i)return this;return s===1&&(u=i,i=function(e){return E().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=E.guid++)),this.each(function(){E.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=ot),this.each(function(){E.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}});var at=/^.[^:#\[\.,]*$/,ft=/^(?:parents|prev(?:Until|All))/,lt=E.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(typeof e!="string")return this.pushStack(E(e).filter(function(){for(t=0;t<i;t++)if(E.contains(r[t],this))return!0}));for(t=0;t<i;t++)E.find(e,r[t],n);return n=this.pushStack(i>1?E.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=E(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(E.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(pt(this,e||[],!0))},filter:function(e){return this.pushStack(pt(this,e||[],!1))},is:function(e){return!!pt(this,typeof e=="string"&&lt.test(e)?E(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=lt.test(e)||typeof e!="string"?E(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&E.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?E.unique(s):s)},index:function(e){return e?typeof e=="string"?E.inArray(this[0],E(e)):E.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?E(e,t):E.makeArray(e&&e.nodeType?[e]:e),r=E.merge(this.get(),n);return this.pushStack(E.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return E.dir(e,"parentNode")},parentsUntil:function(e,t,n){return E.dir(e,"parentNode",n)},next:function(e){return ht(e,"nextSibling")},prev:function(e){return ht(e,"previousSibling")},nextAll:function(e){return E.dir(e,"nextSibling")},prevAll:function(e){return E.dir(e,"previousSibling")},nextUntil:function(e,t,n){return E.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return E.dir(e,"previousSibling",n)},siblings:function(e){return E.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return E.sibling(e.firstChild)},contents:function(e){return E.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:E.merge([],e.childNodes)}},function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=E.filter(r,i)),this.length>1&&(ct[e]||(i=E.unique(i)),ft.test(e)&&(i=i.reverse())),this.pushStack(i)}}),E.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return e.nodeType===1}))},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!E(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",mt=/ jQuery\d+="(?:null|\d+)"/g,gt=new RegExp("<(?:"+vt+")[\\s/>]","i"),yt=/^\s+/,bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wt=/<([\w:]+)/,Et=/<tbody/i,St=/<|&#?\w+;/,xt=/<(?:script|style|link)/i,Tt=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ct=/^$|\/(?:java|ecma)script/i,kt=/^true\/(.*)/,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:E.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ot=dt(u),Mt=Ot.appendChild(u.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,E.fn.extend({text:function(e){return E.access(this,function(e){return e===t?E.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=_t(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=_t(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?E.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&E.cleanData(Ft(n)),n.parentNode&&(t&&E.contains(n.ownerDocument,n)&&Ht(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&E.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&E.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return E.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(mt,""):t;if(typeof e=="string"&&!xt.test(e)&&(E.support.htmlSerialize||!gt.test(e))&&(E.support.leadingWhitespace||!yt.test(e))&&!At[(wt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(bt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(E.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=E.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),E(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,s,o,u,a,f=0,l=this.length,c=this,h=l-1,p=e[0],v=E.isFunction(p);if(v||!(l<=1||typeof p!="string"||E.support.checkClone||!Nt.test(p)))return this.each(function(r){var i=c.eq(r);v&&(e[0]=p.call(this,r,i.html())),i.domManip(e,t,n)});if(l){a=E.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=a.firstChild,a.childNodes.length===1&&(a=r);if(r){o=E.map(Ft(a,"script"),Dt),s=o.length;for(;f<l;f++)i=a,f!==h&&(i=E.clone(i,!0,!0),s&&E.merge(o,Ft(i,"script"))),t.call(this[f],i,f);if(s){u=o[o.length-1].ownerDocument,E.map(o,Pt);for(f=0;f<s;f++)i=o[f],Ct.test(i.type||"")&&!E._data(i,"globalEval")&&E.contains(u,i)&&(i.src?E._evalUrl(i.src):E.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Lt,"")))}a=r=null}}return this}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){E.fn[e]=function(e){var n,r=0,i=[],s=E(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),E(s[r])[t](n),v.apply(i,n.get());return this.pushStack(i)}}),E.extend({clone:function(e,t,n){var r,i,s,o,u,a=E.contains(e.ownerDocument,e);E.support.html5Clone||E.isXMLDoc(e)||!gt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Mt.innerHTML=e.outerHTML,Mt.removeChild(s=Mt.firstChild));if((!E.support.noCloneEvent||!E.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!E.isXMLDoc(e)){r=Ft(s),u=Ft(e);for(o=0;(i=u[o])!=null;++o)r[o]&&jt(i,r[o])}if(t)if(n){u=u||Ft(e),r=r||Ft(s);for(o=0;(i=u[o])!=null;o++)Bt(i,r[o])}else Bt(e,s);return r=Ft(s,"script"),r.length>0&&Ht(r,!a&&Ft(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=dt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(E.type(s)==="object")E.merge(p,s.nodeType?[s]:s);else if(!St.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(wt.exec(s)||["",""])[1].toLowerCase(),l=At[a]||At._default,u.innerHTML=l[1]+s.replace(bt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!E.support.leadingWhitespace&&yt.test(s)&&p.push(t.createTextNode(yt.exec(s)[0]));if(!E.support.tbody){s=a==="table"&&!Et.test(s)?u.firstChild:l[1]==="<table>"&&!Et.test(s)?u:0,i=s&&s.childNodes.length;while(i--)E.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}E.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),E.support.appendChecked||E.grep(Ft(p,"input"),It),d=0;while(s=p[d++]){if(r&&E.inArray(s,r)!==-1)continue;o=E.contains(s.ownerDocument,s),u=Ft(h.appendChild(s),"script"),o&&Ht(u);if(n){i=0;while(s=u[i++])Ct.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,i,o,u=0,a=E.expando,f=E.cache,l=E.support.deleteExpando,c=E.event.special;for(;(n=e[u])!=null;u++)if(t||E.acceptData(n)){i=n[a],o=i&&f[i];if(o){if(o.events)for(r in o.events)c[r]?E.event.remove(n,r):E.removeEvent(n,r,o.handle);f[i]&&(delete f[i],l?delete n[a]:typeof n.removeAttribute!==s?n.removeAttribute(a):n[a]=null,h.push(i))}}},_evalUrl:function(e){return E.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),E.fn.extend({wrapAll:function(e){if(E.isFunction(e))return this.each(function(t){E(this).wrapAll(e.call(this,t))});if(this[0]){var t=E(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return E.isFunction(e)?this.each(function(t){E(this).wrapInner(e.call(this,t))}):this.each(function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=E.isFunction(e);return this.each(function(n){E(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){E.nodeName(this,"body")||E(this).replaceWith(this.childNodes)}).end()}});var qt,Rt,Ut,zt=/alpha\([^)]*\)/i,Wt=/opacity\s*=\s*([^)]*)/,Xt=/^(top|right|bottom|left)$/,Vt=/^(none|table(?!-c[ea]).+)/,$t=/^margin/,Jt=new RegExp("^("+S+")(.*)$","i"),Kt=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Qt=new RegExp("^([+-])=("+S+")","i"),Gt={BODY:"block"},Yt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:0,fontWeight:400},en=["Top","Right","Bottom","Left"],tn=["Webkit","O","Moz","ms"];E.fn.extend({css:function(e,n){return E.access(this,function(e,n,r){var i,s,o={},u=0;if(E.isArray(n)){s=Rt(e),i=n.length;for(;u<i;u++)o[n[u]]=E.css(e,n[u],!1,s);return o}return r!==t?E.style(e,n,r):E.css(e,n)},e,n,arguments.length>1)},show:function(){return sn(this,!0)},hide:function(){return sn(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){rn(this)?E(this).show():E(this).hide()})}}),E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ut(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":E.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=E.camelCase(n),f=e.style;n=E.cssProps[a]||(E.cssProps[a]=nn(f,a)),u=E.cssHooks[n]||E.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Qt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(E.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!E.cssNumber[a]&&(r+="px"),!E.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=E.camelCase(n);return n=E.cssProps[a]||(E.cssProps[a]=nn(e.style,a)),u=E.cssHooks[n]||E.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Ut(e,n,i)),o==="normal"&&n in Zt&&(o=Zt[n]),r===""||r?(s=parseFloat(o),r===!0||E.isNumeric(s)?s||0:o):o}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Ut=function(e,n,r){var i,s,o,u=r||Rt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!E.contains(e.ownerDocument,e)&&(a=E.style(e,n)),Kt.test(a)&&$t.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):u.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Ut=function(e,n,r){var i,s,o,u=r||Rt(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Kt.test(a)&&!Xt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),E.each(["height","width"],function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&Vt.test(E.css(e,"display"))?E.swap(e,Yt,function(){return an(e,t,r)}):an(e,t,r)},set:function(e,n,r){var i=r&&Rt(e);return on(e,n,r?un(e,t,r,E.support.boxSizing&&E.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),E.support.opacity||(E.cssHooks.opacity={get:function(e,t){return Wt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=E.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&E.trim(s.replace(zt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=zt.test(s)?s.replace(zt,i):s+" "+i}}),E(function(){E.support.reliableMarginRight||(E.cssHooks.marginRight={get:function(e,t){if(t)return E.swap(e,{display:"inline-block"},Ut,[e,"marginRight"])}}),!E.support.pixelPosition&&E.fn.position&&E.each(["top","left"],function(e,t){E.cssHooks[t]={get:function(e,n){if(n)return n=Ut(e,t),Kt.test(n)?E(e).position()[t]+"px":n}}})}),E.expr&&E.expr.filters&&(E.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!E.support.reliableHiddenOffsets&&(e.style&&e.style.display||E.css(e,"display"))==="none"},E.expr.filters.visible=function(e){return!E.expr.filters.hidden(e)}),E.each({margin:"",padding:"",border:"Width"},function(e,t){E.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+en[r]+t]=s[r]||s[r-2]||s[0];return i}},$t.test(e)||(E.cssHooks[e+t].set=on)});var cn=/%20/g,hn=/\[\]$/,pn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,vn=/^(?:input|select|textarea|keygen)/i;E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&vn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Tt.test(e))}).map(function(e,t){var n=E(this).val();return n==null?null:E.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(pn,"\r\n")}}):{name:t.name,value:n.replace(pn,"\r\n")}}).get()}}),E.param=function(e,n){var r,i=[],s=function(e,t){t=E.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=E.ajaxSettings&&E.ajaxSettings.traditional);if(E.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){s(this.name,this.value)});else for(r in e)mn(r,e[r],n,s);return i.join("&").replace(cn,"+")},E.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var gn,yn,bn=E.now(),wn=/\?/,En=/#.*$/,Sn=/([?&])_=[^&]*/,xn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,Cn=/^\/\//,kn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ln=E.fn.load,An={},On={},Mn="*/".concat("*");try{yn=o.href}catch(_n){yn=u.createElement("a"),yn.href="",yn=yn.href}gn=kn.exec(yn.toLowerCase())||[],E.fn.load=function(e,n,r){if(typeof e!="string"&&Ln)return Ln.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),E.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(o="POST"),u.length>0&&E.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?E("<div>").append(E.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Tn.test(gn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":E.parseJSON,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Hn(Hn(e,E.ajaxSettings),t):Hn(E.ajaxSettings,e)},ajaxPrefilter:Dn(An),ajaxTransport:Dn(On),ajax:function(e,n){function N(e,n,r,i){var l,g,y,w,x,T=n;if(b===2)return;b=2,u&&clearTimeout(u),f=t,o=i||"",S.readyState=e>0?4:0,l=e>=200&&e<300||e===304,r&&(w=Bn(c,S,r)),w=jn(c,w,S,l);if(l)c.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(E.lastModified[s]=x),x=S.getResponseHeader("etag"),x&&(E.etag[s]=x)),e===204||c.type==="HEAD"?T="nocontent":e===304?T="notmodified":(T=w.state,g=w.data,y=w.error,l=!y);else{y=T;if(e||!T)T="error",e<0&&(e=0)}S.status=e,S.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,S]):d.rejectWith(h,[S,T,y]),S.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[S,c,l?g:y]),v.fireWith(h,[S,T]),a&&(p.trigger("ajaxComplete",[S,c]),--E.active||E.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=E.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?E(h):E.event,d=E.Deferred(),v=E.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!l){l={};while(t=xn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return f&&f.abort(t),N(0,t),this}};d.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,c.url=((e||c.url||yn)+"").replace(En,"").replace(Cn,gn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=E.trim(c.dataType||"*").toLowerCase().match(x)||[""],c.crossDomain==null&&(r=kn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===gn[1]&&r[2]===gn[2]&&(r[3]||(r[1]==="http:"?"80":"443"))===(gn[3]||(gn[1]==="http:"?"80":"443")))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=E.param(c.data,c.traditional)),Pn(An,c,n,S);if(b===2)return S;a=c.global,a&&E.active++===0&&E.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Nn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(wn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Sn.test(s)?s.replace(Sn,"$1_="+bn++):s+(wn.test(s)?"&":"?")+"_="+bn++)),c.ifModified&&(E.lastModified[s]&&S.setRequestHeader("If-Modified-Since",E.lastModified[s]),E.etag[s]&&S.setRequestHeader("If-None-Match",E.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",c.contentType),S.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Mn+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)S.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,S,c)!==!1&&b!==2){w="abort";for(i in{success:1,error:1,complete:1})S[i](c[i]);f=Pn(On,c,n,S);if(!f)N(-1,"No Transport");else{S.readyState=1,a&&p.trigger("ajaxSend",[S,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){S.abort("timeout")},c.timeout));try{b=1,f.send(g,N)}catch(T){if(!(b<2))throw T;N(-1,T)}}return S}return S.abort()},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,n){return E.get(e,t,n,"script")}}),E.each(["get","post"],function(e,n){E[n]=function(e,r,i,s){return E.isFunction(r)&&(s=s||i,i=r,r=t),E.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),E.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=u.head||E("head")[0]||u.documentElement;return{send:function(t,i){n=u.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],In=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||E.expando+"_"+bn++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(In.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&In.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=E.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(In,"$1"+s):n.jsonp!==!1&&(n.url+=(wn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||E.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(s)),u&&E.isFunction(o)&&o(u[0]),u=o=t}),"script"});var qn,Rn,Un=0,zn=e.ActiveXObject&&function(){var e;for(e in qn)qn[e](t,!0)};E.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Wn()||Xn()}:Wn,Rn=E.ajaxSettings.xhr(),E.support.cors=!!Rn&&"withCredentials"in Rn,Rn=E.support.ajax=!!Rn,Rn&&E.ajaxTransport(function(n){if(!n.crossDomain||E.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=E.noop,zn&&delete qn[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),typeof a.responseText=="string"&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?a.readyState===4?setTimeout(r):(o=++Un,zn&&(qn||(qn={},E(e).unload(zn)),qn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Vn,$n,Jn=/^(?:toggle|show|hide)$/,Kn=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),Qn=/queueHooks$/,Gn=[rr],Yn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Kn.exec(t),s=i&&i[3]||(E.cssNumber[e]?"":"px"),o=(E.cssNumber[e]||s!=="px"&&+r)&&Kn.exec(E.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,E.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};E.Animation=E.extend(tr,{tweener:function(e,t){E.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Yn[n]=Yn[n]||[],Yn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}}),E.Tween=ir,ir.prototype={constructor:ir,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(E.cssNumber[n]?"":"px")},cur:function(){var e=ir.propHooks[this.prop];return e&&e.get?e.get(this):ir.propHooks._default.get(this)},run:function(e){var t,n=ir.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ir.propHooks._default.set(this),this}},ir.prototype.init.prototype=ir.prototype,ir.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=E.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):e.elem.style&&(e.elem.style[E.cssProps[e.prop]]!=null||E.cssHooks[e.prop])?E.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},ir.propHooks.scrollTop=ir.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.each(["toggle","show","hide"],function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(sr(t,!0),e,r,i)}}),E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(rn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),s=E.speed(t,n,r),o=function(){var t=tr(this,E.extend({},e),s);(i||E._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=E.timers,o=E._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Qn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&E.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=E._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=E.timers,o=r?r.length:0;n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),E.each({slideDown:sr("show"),slideUp:sr("hide"),slideToggle:sr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),E.speed=function(e,t,n){var r=e&&typeof e=="object"?E.extend({},e):{complete:n||!n&&t||E.isFunction(e)&&e,duration:e,easing:n&&t||t&&!E.isFunction(t)&&t};r.duration=E.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in E.fx.speeds?E.fx.speeds[r.duration]:E.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){E.isFunction(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},E.timers=[],E.fx=ir.prototype.init,E.fx.tick=function(){var e,n=E.timers,r=0;Vn=E.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||E.fx.stop(),Vn=t},E.fx.timer=function(e){e()&&E.timers.push(e)&&E.fx.start()},E.fx.interval=13,E.fx.start=function(){$n||($n=setInterval(E.fx.tick,E.fx.interval))},E.fx.stop=function(){clearInterval($n),$n=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fx.step={},E.expr&&E.expr.filters&&(E.expr.filters.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length}),E.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){E.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u)return;return n=u.documentElement,E.contains(n,o)?(typeof o.getBoundingClientRect!==s&&(i=o.getBoundingClientRect()),r=or(u),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},E.offset={setOffset:function(e,t,n){var r=E.css(e,"position");r==="static"&&(e.style.position="relative");var i=E(e),s=i.offset(),o=E.css(e,"top"),u=E.css(e,"left"),a=(r==="absolute"||r==="fixed")&&E.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),E.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},E.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return E.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),E.nodeName(e[0],"html")||(n=e.offset()),n.top+=E.css(e[0],"borderTopWidth",!0),n.left+=E.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-E.css(r,"marginTop",!0),left:t.left-n.left-E.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||a;while(e&&!E.nodeName(e,"html")&&E.css(e,"position")==="static")e=e.offsetParent;return e||a})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);E.fn[e]=function(i){return E.access(this,function(e,i,s){var o=or(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?E(o).scrollLeft():s,r?s:E(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),E.each({Height:"height",Width:"width"},function(e,n){E.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){E.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return E.access(this,function(n,r,i){var s;return E.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?E.css(n,r,u):E.style(n,r,i,u)},n,o?i:t,o,null)}})}),E.fn.size=function(){return this.length},E.fn.andSelf=E.fn.addBack,typeof module=="object"&&module&&typeof module.exports=="object"?module.exports=E:(e.jQuery=e.$=E,typeof n=="function"&&n.amd&&n("jquery",[],function(){return E}))}(window),function(){var e=this,n=e.Backbone,r=[],i=r.push,s=r.slice,o=r.splice,u;typeof exports!="undefined"?u=exports:u=e.Backbone={},u.VERSION="1.0.0";var a=e._;!a&&typeof t!="undefined"&&(a=t("underscore")),u.$=e.jQuery||e.Zepto||e.ender||e.$,u.noConflict=function(){return e.Backbone=n,this},u.emulateHTTP=!1,u.emulateJSON=!1;var f=u.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var r=this,i=a.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,s,o,u,f,l,h;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:a.keys(this._events);for(u=0,f=o.length;u<f;u++){e=o[u];if(s=this._events[e]){this._events[e]=r=[];if(t||n)for(l=0,h=s.length;l<h;l++)i=s[l],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;typeof t=="object"&&(n=this),e&&((r={})[e._listenerId]=e);for(var s in r)r[s].off(t,n,this),i&&delete this._listeners[s];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};a.each(p,function(e,t){f[t]=function(t,n,r){var i=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=a.uniqueId("l"));return i[s]=t,typeof n=="object"&&(r=this),t[e](n,r,this),this}}),f.bind=f.on,f.unbind=f.off,a.extend(u,f);var d=u.Model=function(e,t){var n,r=e||{};t||(t={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(t,v)),t.parse&&(r=this.parse(r,t)||{});if(n=a.result(this,"defaults"))r=a.defaults({},r,n);this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},v=["url","urlRoot","collection"];a.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return a.clone(this.attributes)},sync:function(){return u.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s,o,u,f,l,c;if(e==null)return this;typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,u=n.silent,o=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=a.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],a.isEqual(c[r],t)||o.push(r),a.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete c[r]:c[r]=t;if(!u){o.length&&(this._pending=!0);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(f)return this;if(!u)while(this._pending)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e){if(a.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){if(!t.set(t.parse(r,e),e))return!1;n&&n(t,r,e),t.trigger("sync",t,r,e)},F(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,s,o=this.attributes;e==null||typeof e=="object"?(r=e,n=t):(r={})[e]=t;if(r&&(!n||!n.wait)&&!this.set(r,n))return!1;n=a.extend({validate:!0},n);if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=a.extend({},o,r)),n.parse===void 0&&(n.parse=!0);var u=this,f=n.success;return n.success=function(e){u.attributes=o;var t=u.parse(e,n);n.wait&&(t=a.extend(r||{},t));if(a.isObject(t)&&!u.set(t,n))return!1;f&&f(u,e,n),u.trigger("sync",u,e,n)},F(this,n),i=this.isNew()?"create":n.patch?"patch":"update",i==="patch"&&(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),s},destroy:function(e){e=e?a.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)};if(this.isNew())return e.success(),!1;F(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||j();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,a.extend(t||{},{validationError:n})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];a.each(m,function(e){d.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),a[e].apply(a,t)}});var g=u.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},y={add:!0,remove:!0,merge:!0},b={add:!0,merge:!1,remove:!1};a.extend(g.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return u.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.defaults(t||{},b))},remove:function(e,t){e=a.isArray(e)?e.slice():[e],t||(t={});var n,r,i,s;for(n=0,r=e.length;n<r;n++){s=this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byId[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},set:function(e,t){t=a.defaults(t||{},y),t.parse&&(e=this.parse(e,t)),a.isArray(e)||(e=e?[e]:[]);var n,r,s,u,f,l,c=t.at,h=this.comparator&&c==null&&t.sort!==!1,p=a.isString(this.comparator)?this.comparator:null,d=[],v=[],m={};for(n=0,r=e.length;n<r;n++){if(!(s=this._prepareModel(e[n],t)))continue;(f=this.get(s))?(t.remove&&(m[f.cid]=!0),t.merge&&(f.set(s.attributes,t),h&&!l&&f.hasChanged(p)&&(l=!0))):t.add&&(d.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,s.id!=null&&(this._byId[s.id]=s))}if(t.remove){for(n=0,r=this.length;n<r;++n)m[(s=this.models[n]).cid]||v.push(s);v.length&&this.remove(v,t)}d.length&&(h&&(l=!0),this.length+=d.length,c!=null?o.apply(this.models,[c,0].concat(d)):i.apply(this.models,d)),l&&this.sort({silent:!0});if(t.silent)return this;for(n=0,r=d.length;n<r;n++)(s=d[n]).trigger("add",s,this,t);return l&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,a.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,a.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return a.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),a.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=a.isFunction(t)?t:function(e){return e.get(t)};return a.sortedIndex(this.models,e,r,n)},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){t=t?a.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var w=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(w,function(e){g.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),a[e].apply(a,t)}});var E=["groupBy","countBy","sortBy"];a.each(E,function(e){g.prototype[e]=function(t,n){var r=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,r,n)}});var S=u.View=function(e){this.cid=a.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];a.extend(S.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof u.$?e:u.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];a.isFunction(n)||(n=this[e[t]]);if(!n)continue;var r=t.match(x),i=r[1],s=r[2];n=a.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.on(i,n):this.$el.on(i,s,n)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=a.extend({},a.result(this,"options"),e)),a.extend(this,a.pick(e,T)),this.options=e},_ensureElement:function(){if(!this.el){var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var t=u.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}else this.setElement(a.result(this,"el"),!1)}}),u.sync=function(e,t,n){var r=N[e];a.defaults(n||(n={}),{emulateHTTP:u.emulateHTTP,emulateJSON:u.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=a.result(t,"url")||j()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1),i.type==="PATCH"&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled)&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var o=n.xhr=u.ajax(a.extend(i,n));return t.trigger("request",t,o,n),o};var N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};u.ajax=function(){return u.$.ajax.apply(u.$,arguments)};var C=u.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(C.prototype,f,{initialize:function(){},route:function(e,t,n){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var r=this;return u.history.route(e,function(i){var s=r._extractParameters(e,i);n&&n.apply(r,s),r.trigger.apply(r,["route:"+t].concat(s)),r.trigger("route",t,s),u.history.trigger("route",r,t,s)}),this},navigate:function(e,t){return u.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;this.routes=a.result(this,"routes");var e,t=a.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/]+)"}).replace(A,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,function(e){return e?decodeURIComponent(e):null})}});var M=u.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/;M.started=!1,a.extend(M.prototype,f,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(H,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=P.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(D,"/"),r&&this._wantsHashChange&&(this.iframe=u.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?u.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?u.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){u.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=a.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),u.history=new M;var B=function(e,t){var n=this,r;e&&a.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},a.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&a.extend(r.prototype,e),r.__super__=n.prototype,r};d.extend=g.extend=C.extend=S.extend=M.extend=B;var j=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),n("backbone",["underscore","jquery"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),Backbone.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength()},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength()},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(r,function(e){n.prototype[e]=function(){var n=t.values(this._views),r=[n].concat(t.toArray(arguments));return t[e].apply(t,r)}}),n}(Backbone,_),Backbone.Wreqr=function(e,t,n){var r={};return r.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)},this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)throw new Error("Handler not found for '"+e+"'");return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),r.CommandStorage=function(){var t=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)};return n.extend(t.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),t}(),r.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,r){var i=this.storage.getCommands(e);n.each(i.instances,function(e){t.apply(r,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,r=e.storageType||this.storageType;n.isFunction(r)?t=new r:t=r,this.storage=t}})}(r),r.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.getHandler(e).apply(this,t)}})}(r),r.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),r}(Backbone,Backbone.Marionette,_);var r=function(e,t,n){function s(e){return i.call(e)}function o(e,t){var n=new Error(e);throw n.name=t||"Error",n}var r={};t.Marionette=r,r.$=t.$;var i=Array.prototype.slice;return r.extend=t.Model.extend,r.getOption=function(e,t){if(!e||!t)return;var n;return e.options&&t in e.options&&e.options[t]!==undefined?n=e.options[t]:n=e[t],n},r.triggerMethod=function(){function t(e,t,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi,r=function(r){var i="on"+r.replace(e,t),s=this[i];n.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(n.isFunction(s))return s.apply(this,n.tail(arguments))};return r}(),r.MonitorDOMRefresh=function(){function e(e){e._isShown=!0,r(e)}function t(e){e._isRendered=!0,r(e)}function r(e){e._isShown&&e._isRendered&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}return function(n){n.listenTo(n,"show",function(){e(n)}),n.listenTo(n,"render",function(){t(n)})}}(),function(e){function t(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];i||o("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,r,i,e)})}function r(e,t,n,r){e.listenTo(t,n,r,e)}function i(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];e.stopListening(t,r,i,e)})}function s(e,t,n,r){e.stopListening(t,n,r,e)}function u(e,t,r,i,s){if(!t||!r)return;n.isFunction(r)&&(r=r.call(e)),n.each(r,function(r,o){n.isFunction(r)?i(e,t,o,r):s(e,t,o,r)})}e.bindEntityEvents=function(e,n,i){u(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){u(e,t,n,s,i)}}(r),r.Callbacks=function(){this._deferred=r.$.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,r){t&&(n=t),e.call(n,r)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=r.$.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),r.Controller=function(e){this.triggerMethod=r.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),r.Region=function(e){this.options=e||{},this.el=r.getOption(this,"el");if(!this.el){var t=new Error("An 'el' must be specified for a region.");throw t.name="NoElError",t}if(this.initialize){var n=Array.prototype.slice.apply(arguments);this.initialize.apply(this,n)}},n.extend(r.Region,{buildRegion:function(e,t){var r=typeof e=="string",i=typeof e.selector=="string",s=typeof e.regionType=="undefined",o=typeof e=="function";if(!o&&!r&&!i)throw new Error("Region must be specified as a Region type, a selector string or an object with selector property");var u,a;r&&(u=e),e.selector&&(u=e.selector),o&&(a=e),!o&&s&&(a=t),e.regionType&&(a=e.regionType);var f=new a({el:u});return e.parentEl&&(f.getEl=function(t){var r=e.parentEl;return n.isFunction(r)&&(r=r()),r.find(t)}),f}}),n.extend(r.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,r.triggerMethod.call(this,"show",e),r.triggerMethod.call(e,"show")},ensureEl:function(){if(!this.$el||this.$el.length===0)this.$el=this.getEl(this.el)},getEl:function(e){return r.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;if(!e||e.isClosed)return;e.close?e.close():e.remove&&e.remove(),r.triggerMethod.call(this,"close"),delete this.currentView},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),r.Region.extend=r.extend,r.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var r={};return n.each(e,function(e,i){typeof e=="string"&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(i,e);r[i]=s},this),r},addRegion:function(t,r){var i,s=n.isObject(r),o=n.isString(r),u=!!r.selector;return o||s&&u?i=e.Region.buildRegion(r,e.Region):n.isFunction(r)?i=e.Region.buildRegion(r,e.Region):i=r,this._store(t,i),this.triggerMethod("region:add",t,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions();var t=Array.prototype.slice.call(arguments);e.Controller.prototype.close.apply(this,t)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}}),r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return n.each(r,function(e){t.prototype[e]=function(){var t=n.values(this._regions),r=[t].concat(n.toArray(arguments));return n[e].apply(n,r)}}),t}(r),r.TemplateCache=function(e){this.templateId=e},n.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=s(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=r.$(e).html();return(!t||t.length===0)&&o("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),r.Renderer={render:function(e,t){if(!e){var n=new Error("Cannot render the template since it's false, null or undefined.");throw n.name="TemplateNotFoundError",n}var i;return typeof e=="function"?i=e:i=r.TemplateCache.get(e),i(t)}},r.View=t.View.extend({constructor:function(){n.bindAll(this,"render");var e=Array.prototype.slice.apply(arguments);t.View.prototype.constructor.apply(this,e),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:r.triggerMethod,getTemplate:function(){return r.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=r.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},configureTriggers:function(){if(!this.triggers)return;var e={},t=n.result(this,"triggers");return n.each(t,function(t,n){e[n]=function(e){e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation();var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(t,n)}},this),e},delegateEvents:function(e){this._delegateDOMEvents(e),r.bindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.bindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var r={},i=this.configureTriggers();n.extend(r,e,i),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),r.unbindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.unbindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(this.isClosed)return;var e=this.triggerMethod("before:close");if(e===!1)return;this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove()},bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings)return;n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings}}),r.ItemView=r.View.extend({constructor:function(){r.View.prototype.constructor.apply(this,s(arguments))},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=r.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){if(this.isClosed)return;this.triggerMethod("item:before:close"),r.View.prototype.close.apply(this,s(arguments)),this.triggerMethod("item:closed")}}),r.CollectionView=r.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),r.View.prototype.constructor.apply(this,s(arguments)),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(e,t,n){this.closeEmptyView();var r=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,r,i)},onShowCalled:function(){this.children.each(function(e){r.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var e=r.getOption(this,"emptyView");if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(e){var t=r.getOption(this,"itemView");return t||o("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var s=r.getOption(this,"itemViewOptions");n.isFunction(s)&&(s=s.call(this,e,i));var o=this.buildItemView(e,t,s);this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,i),this._isShown&&r.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o)},addChildViewEventForwarding:function(e){var t=r.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var n=s(arguments);n[0]=t+":"+n[0],n.splice(1,0,e),r.triggerMethod.apply(this,n)},this)},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,r){var i=n.extend({model:e},r);return new t(i)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},checkEmpty:function(){(!this.collection||this.collection.length===0)&&this.showEmptyView()},appendHtml:function(e,t,n){e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){if(this.isClosed)return;this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),r.View.prototype.close.apply(this,s(arguments))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.prototype.constructor.apply(this,s(arguments))},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(e){var t=r.getOption(this,"itemView")||this.constructor;return t||o("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(r.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return r.Renderer.render(t,e)},appendHtml:function(e,t,n){var r=this.getItemViewContainer(e);r.append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=r.getOption(e,"itemViewContainer");if(i){var s=n.isFunction(i)?i():i;t=e.$(s),t.length<=0&&o("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),r.Layout=r.ItemView.extend({regionType:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.prototype.constructor.call(this,e)},render:function(){this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var e=Array.prototype.slice.apply(arguments),t=r.ItemView.prototype.render.apply(this,e);return t},close:function(){if(this.isClosed)return;this.regionManager.close();var e=Array.prototype.slice.apply(arguments);r.ItemView.prototype.close.apply(this,e)},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:r.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),n.isFunction(this.regions)?t=this.regions(e):t=this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new r.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),r.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,s(arguments)),this.options=e||{};var n=r.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(!t)return;var r=n.keys(t).reverse();n.each(r,function(n){this._addAppRoute(e,n,t[n])},this)},_getController:function(){return r.getOption(this,"controller")},_addAppRoute:function(e,t,r){var i=e[r];if(!i)throw new Error("Method '"+r+"' was not found on the controller");this.route(t,r,n.bind(i,e))}}),r.Application=function(e){this._initRegionManager(),this._initCallbacks=new r.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=r.triggerMethod},n.extend(r.Application.prototype,t.Events,{execute:function(){var e=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,e)},request:function(){var e=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,e)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=s(arguments);return n.unshift(this),r.Module.create.apply(r.Module,n)},_initRegionManager:function(){this._regionManager=new r.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}}),r.Application.extend=r.extend,r.Module=function(e,t){this.moduleName=e,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=r.triggerMethod},n.extend(r.Module.prototype,t.Events,{addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){if(this._isInitialized)return;n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e)},stop:function(){if(!this._isInitialized)return;this._isInitialized=!1,r.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),r.triggerMethod.call(this,"stop")},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(!e)return;var s=n.flatten([this,this.app,t,r,r.$,n,i]);e.apply(this,s)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks}}),n.extend(r.Module,{create:function(e,t,r){var i=e,o=s(arguments);o.splice(0,3),t=t.split(".");var u=t.length,a=[];return a[u-1]=r,n.each(t,function(t,n){var r=i;i=this._getModule(r,t,e),this._addModuleDefinition(r,i,a[n],o)},this),i},_getModule:function(e,t,n,i,s){var o=e[t];return o||(o=new r.Module(t,n),e[t]=o,e.submodules[t]=o),o},_addModuleDefinition:function(e,t,r,i){var s,o;n.isFunction(r)?(s=r,o=!0):n.isObject(r)?(s=r.define,o=r.startWithParent):o=!0,s&&t.addDefinition(s,i),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),r}(this,Backbone,_);n("marionette",["backbone"],function(e){return function(){var t,n;return t||e.Backbone.Marionette}}(this)),function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof n=="function"&&n.amd)n("react",[],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.React=e()}}(function(){var e,n,r;return function i(e,n,r){function s(u,a){if(!n[u]){if(!e[u]){var f=typeof t=="function"&&t;if(!a&&f)return f(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[u]={exports:{}};e[u][0].call(c.exports,function(t){var n=e[u][1][t];return s(n?n:t)},c,c.exports,i,e,n,r)}return n[u].exports}var o=typeof t=="function"&&t;for(var u=0;u<r.length;u++)s(r[u]);return s}({1:[function(e,t,n){var r=e(22),i=e(26),s=e(37),o=e(29),u=e(64),a=e(94),f=e(96),l=e(118),c=e(140),h=e(143),p=e(173),d=!1;i.addons={CSSTransitionGroup:o,LinkedStateMixin:r,PureRenderMixin:s,TransitionGroup:a,batchedUpdates:function(){return p(d,"React.addons.batchedUpdates is deprecated. Use ReactDOM.unstable_batchedUpdates instead."),d=!0,f.batchedUpdates.apply(this,arguments)},cloneWithProps:l,createFragment:u.create,shallowCompare:c,update:h},i.addons.Perf=e(55),i.addons.TestUtils=e(91),t.exports=i},{118:118,140:140,143:143,173:173,22:22,26:26,29:29,37:37,55:55,64:64,91:91,94:94,96:96}],2:[function(e,t,n){var r=e(72),i=e(122),s=e(155),o={componentDidMount:function(){this.props.autoFocus&&s(i(this))}},u={Mixin:o,focusDOMComponent:function(){s(r.getNode(this._rootNodeID))}};t.exports=u},{122:122,155:155,72:72}],3:[function(e,t,n){function m(){var e=window.opera;return typeof e=="object"&&typeof e.version=="function"&&parseInt(e.version(),10)<=12}function S(e){return(e.ctrlKey||e.altKey||e.metaKey)&&(!e.ctrlKey||!e.altKey)}function x(e){switch(e){case b.topCompositionStart:return w.compositionStart;case b.topCompositionEnd:return w.compositionEnd;case b.topCompositionUpdate:return w.compositionUpdate}}function T(e,t){return e===b.topKeyDown&&t.keyCode===c}function N(e,t){switch(e){case b.topKeyUp:return l.indexOf(t.keyCode)!==-1;case b.topKeyDown:return t.keyCode!==c;case b.topKeyPress:case b.topMouseDown:case b.topBlur:return!0;default:return!1}}function C(e){var t=e.detail;return typeof t=="object"&&"data"in t?t.data:null}function L(e,t,n,r,s){var a,f;h?a=x(e):k?N(e,r)&&(a=w.compositionEnd):T(e,r)&&(a=w.compositionStart);if(!a)return null;v&&(!k&&a===w.compositionStart?k=o.getPooled(t):a===w.compositionEnd&&k&&(f=k.getData()));var l=u.getPooled(a,n,r,s);if(f)l.data=f;else{var c=C(r);c!==null&&(l.data=c)}return i.accumulateTwoPhaseDispatches(l),l}function A(e,t){switch(e){case b.topCompositionEnd:return C(t);case b.topKeyPress:var n=t.which;if(n!==g)return null;return E=!0,y;case b.topTextInput:var r=t.data;if(r===y&&E)return null;return r;default:return null}}function O(e,t){if(k){if(e===b.topCompositionEnd||N(e,t)){var n=k.getData();return o.release(k),k=null,n}return null}switch(e){case b.topPaste:return null;case b.topKeyPress:if(t.which&&!S(t))return String.fromCharCode(t.which);return null;case b.topCompositionEnd:return v?null:t.data;default:return null}}function M(e,t,n,r,s){var o;d?o=A(e,r):o=O(e,r);if(!o)return null;var u=a.getPooled(w.beforeInput,n,r,s);return u.data=o,i.accumulateTwoPhaseDispatches(u),u}var r=e(15),i=e(19),s=e(147),o=e(20),u=e(103),a=e(107),f=e(166),l=[9,13,27,32],c=229,h=s.canUseDOM&&"CompositionEvent"in window,p=null;s.canUseDOM&&"documentMode"in document&&(p=document.documentMode);var d=s.canUseDOM&&"TextEvent"in window&&!p&&!m(),v=s.canUseDOM&&(!h||p&&p>8&&p<=11),g=32,y=String.fromCharCode(g),b=r.topLevelTypes,w={beforeInput:{phasedRegistrationNames:{bubbled:f({onBeforeInput:null}),captured:f({onBeforeInputCapture:null})},dependencies:[b.topCompositionEnd,b.topKeyPress,b.topTextInput,b.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:f({onCompositionEnd:null}),captured:f({onCompositionEndCapture:null})},dependencies:[b.topBlur,b.topCompositionEnd,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:f({onCompositionStart:null}),captured:f({onCompositionStartCapture:null})},dependencies:[b.topBlur,b.topCompositionStart,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:f({onCompositionUpdate:null}),captured:f({onCompositionUpdateCapture:null})},dependencies:[b.topBlur,b.topCompositionUpdate,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]}},E=!1,k=null,_={eventTypes:w,extractEvents:function(e,t,n,r,i){return[L(e,t,n,r,i),M(e,t,n,r,i)]}};t.exports=_},{103:103,107:107,147:147,15:15,166:166,19:19,20:20}],4:[function(e,t,n){function i(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},s=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){s.forEach(function(t){r[i(t,e)]=r[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},u={isUnitlessNumber:r,shorthandPropertyExpansions:o};t.exports=u},{}],5:[function(e,t,n){var r=e(4),i=e(147),s=e(78),o=e(149),u=e(119),a=e(160),f=e(168),l=e(173),c=f(function(e){return a(e)}),h=!1,p="cssFloat";if(i.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(v){h=!0}document.documentElement.style.cssFloat===undefined&&(p="styleFloat")}var m=/^(?:webkit|moz|o)[A-Z]/,g=/;\s*$/,y={},b={},w=function(e){if(y.hasOwnProperty(e)&&y[e])return;y[e]=!0,l(!1,"Unsupported style property %s. Did you mean %s?",e,o(e))},E=function(e){if(y.hasOwnProperty(e)&&y[e])return;y[e]=!0,l(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1))},S=function(e,t){if(b.hasOwnProperty(t)&&b[t])return;b[t]=!0,l(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(g,""))},x=function(e,t){e.indexOf("-")>-1?w(e):m.test(e)?E(e):g.test(t)&&S(e,t)},T={createMarkupForStyles:function(e){var t="";for(var n in e){if(!e.hasOwnProperty(n))continue;var r=e[n];x(n,r),r!=null&&(t+=c(n)+":",t+=u(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var i in t){if(!t.hasOwnProperty(i))continue;x(i,t[i]);var s=u(i,t[i]);i==="float"&&(i=p);if(s)n[i]=s;else{var o=h&&r.shorthandPropertyExpansions[i];if(o)for(var a in o)n[a]="";else n[i]=""}}}};s.measureMethods(T,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=T},{119:119,147:147,149:149,160:160,168:168,173:173,4:4,78:78}],6:[function(e,t,n){function o(){this._callbacks=null,this._contexts=null}var r=e(25),i=e(24),s=e(161);i(o.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?s(!1,"Mismatched list of contexts in callback queue"):undefined,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(o),t.exports=o},{161:161,24:24,25:25}],7:[function(e,t,n){function b(e){var t=e.nodeName&&e.nodeName.toLowerCase();return t==="select"||t==="input"&&e.type==="file"}function E(e){var t=a.getPooled(d.change,m,e,f(e));s.accumulateTwoPhaseDispatches(t),u.batchedUpdates(S,t)}function S(e){i.enqueueEvents(e),i.processEventQueue(!1)}function x(e,t){v=e,m=t,v.attachEvent("onchange",E)}function T(){if(!v)return;v.detachEvent("onchange",E),v=null,m=null}function N(e,t,n){if(e===p.topChange)return n}function C(e,t,n){e===p.topFocus?(T(),x(t,n)):e===p.topBlur&&T()}function A(e,t){v=e,m=t,g=e.value,y=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(v,"value",L),v.attachEvent("onpropertychange",M)}function O(){if(!v)return;delete v.value,v.detachEvent("onpropertychange",M),v=null,m=null,g=null,y=null}function M(e){if(e.propertyName!=="value")return;var t=e.srcElement.value;if(t===g)return;g=t,E(e)}function _(e,t,n){if(e===p.topInput)return n}function D(e,t,n){e===p.topFocus?(O(),A(t,n)):e===p.topBlur&&O()}function P(e,t,n){if(e===p.topSelectionChange||e===p.topKeyUp||e===p.topKeyDown)if(v&&v.value!==g)return g=v.value,m}function H(e){return e.nodeName&&e.nodeName.toLowerCase()==="input"&&(e.type==="checkbox"||e.type==="radio")}function B(e,t,n){if(e===p.topClick)return n}var r=e(15),i=e(16),s=e(19),o=e(147),u=e(96),a=e(105),f=e(128),l=e(133),c=e(134),h=e(166),p=r.topLevelTypes,d={change:{phasedRegistrationNames:{bubbled:h({onChange:null}),captured:h({onChangeCapture:null})},dependencies:[p.topBlur,p.topChange,p.topClick,p.topFocus,p.topInput,p.topKeyDown,p.topKeyUp,p.topSelectionChange]}},v=null,m=null,g=null,y=null,w=!1;o.canUseDOM&&(w=l("change")&&(!("documentMode"in document)||document.documentMode>8));var k=!1;o.canUseDOM&&(k=l("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return y.get.call(this)},set:function(e){g=""+e,y.set.call(this,e)}},j={eventTypes:d,extractEvents:function(e,t,n,r,i){var o,u;b(t)?w?o=N:u=C:c(t)?k?o=_:(o=P,u=D):H(t)&&(o=B);if(o){var f=o(e,t,n);if(f){var l=a.getPooled(d.change,f,r,i);return l.type="change",s.accumulateTwoPhaseDispatches(l),l}}u&&u(e,t,n)}};t.exports=j},{105:105,128:128,133:133,134:134,147:147,15:15,16:16,166:166,19:19,96:96}],8:[function(e,t,n){var r=0,i={createReactRootIndex:function(){return r++}};t.exports=i},{}],9:[function(e,t,n){function f(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var r=e(12),i=e(74),s=e(78),o=e(138),u=e(139),a=e(161),l={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:u,processUpdates:function(e,t){var n,s=null,l=null;for(var c=0;c<e.length;c++){n=e[c];if(n.type===i.MOVE_EXISTING||n.type===i.REMOVE_NODE){var h=n.fromIndex,p=n.parentNode.childNodes[h],d=n.parentID;p?undefined:a(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",h,d),s=s||{},s[d]=s[d]||[],s[d][h]=p,l=l||[],l.push(p)}}var v;t.length&&typeof t[0]=="string"?v=r.dangerouslyRenderMarkup(t):v=t;if(l)for(var m=0;m<l.length;m++)l[m].parentNode.removeChild(l[m]);for(var g=0;g<e.length;g++){n=e[g];switch(n.type){case i.INSERT_MARKUP:f(n.parentNode,v[n.markupIndex],n.toIndex);break;case i.MOVE_EXISTING:f(n.parentNode,s[n.parentID][n.fromIndex],n.toIndex);break;case i.SET_MARKUP:o(n.parentNode,n.content);break;case i.TEXT_CONTENT:u(n.parentNode,n.content);break;case i.REMOVE_NODE:}}}};s.measureMethods(l,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=l},{12:12,138:138,139:139,161:161,74:74,78:78}],10:[function(e,t,n){function i(e,t){return(e&t)===t}var r=e(161),s={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=s,n=e.Properties||{},o=e.DOMAttributeNamespaces||{},a=e.DOMAttributeNames||{},f=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&u._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var c in n){u.properties.hasOwnProperty(c)?r(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",c):undefined;var h=c.toLowerCase(),p=n[c],d={attributeName:h,attributeNamespace:null,propertyName:c,mutationMethod:null,mustUseAttribute:i(p,t.MUST_USE_ATTRIBUTE),mustUseProperty:i(p,t.MUST_USE_PROPERTY),hasSideEffects:i(p,t.HAS_SIDE_EFFECTS),hasBooleanValue:i(p,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(p,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(p,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(p,t.HAS_OVERLOADED_BOOLEAN_VALUE)};!d.mustUseAttribute||!d.mustUseProperty?undefined:r(!1,"DOMProperty: Cannot require using both attribute and property: %s",c),!d.mustUseProperty&&!!d.hasSideEffects?r(!1,"DOMProperty: Properties that have side effects must use property: %s",c):undefined,d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?undefined:r(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",c),u.getPossibleStandardName[h]=c;if(a.hasOwnProperty(c)){var v=a[c];d.attributeName=v,u.getPossibleStandardName[v]=c}o.hasOwnProperty(c)&&(d.attributeNamespace=o[c]),f.hasOwnProperty(c)&&(d.propertyName=f[c]),l.hasOwnProperty(c)&&(d.mutationMethod=l[c]),u.properties[c]=d}}},o={},u={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n=o[e],r;return n||(o[e]=n={}),t in n||(r=document.createElement(e),n[t]=r[t]),n[t]},injection:s};t.exports=u},{161:161}],11:[function(e,t,n){function l(e){return f.hasOwnProperty(e)?!0:a.hasOwnProperty(e)?!1:u.test(e)?(f[e]=!0,!0):(a[e]=!0,o(!1,"Invalid attribute name: `%s`",e),!1)}function c(e,t){return t==null||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var r=e(10),i=e(78),s=e(136),o=e(173),u=/^[a-zA-Z_][\w\.\-]*$/,a={},f={},h={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},p={},d=function(e){if(h.hasOwnProperty(e)&&h[e]||p.hasOwnProperty(e)&&p[e])return;p[e]=!0;var t=e.toLowerCase(),n=r.isCustomAttribute(t)?t:r.getPossibleStandardName.hasOwnProperty(t)?r.getPossibleStandardName[t]:null;o(n==null,"Unknown DOM property %s. Did you mean %s?",e,n)},v={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(c(n,t))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?i+'=""':i+"="+s(t)}return r.isCustomAttribute(e)?t==null?"":e+"="+s(t):(d(e),null)},createMarkupForCustomAttribute:function(e,t){return!l(e)||t==null?"":e+"="+s(t)},setValueForProperty:function(e,t,n){var i=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(i){var s=i.mutationMethod;if(s)s(e,n);else if(c(i,n))this.deleteValueForProperty(e,t);else if(i.mustUseAttribute){var o=i.attributeName,u=i.attributeNamespace;u?e.setAttributeNS(u,o,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===!0?e.setAttribute(o,""):e.setAttribute(o,""+n)}else{var a=i.propertyName;if(!i.hasSideEffects||""+e[a]!=""+n)e[a]=n}}else r.isCustomAttribute(t)?v.setValueForAttribute(e,t,n):d(t)},setValueForAttribute:function(e,t,n){if(!l(t))return;n==null?e.removeAttribute(t):e.setAttribute(t,""+n)},deleteValueForProperty:function(e,t){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var i=n.mutationMethod;if(i)i(e,undefined);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var s=n.propertyName,o=r.getDefaultValueForProperty(e.nodeName,s);if(!n.hasSideEffects||""+e[s]!==o)e[s]=o}}else r.isCustomAttribute(t)?e.removeAttribute(t):d(t)}};i.measureMethods(v,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=v},{10:10,136:136,173:173,78:78}],12:[function(e,t,n){function l(e){return e.substring(1,e.indexOf(" "))}var r=e(147),i=e(152),s=e(153),o=e(157),u=e(161),a=/^(<[^ \/>]+)/,f="data-danger-index",c={dangerouslyRenderMarkup:function(e){r.canUseDOM?undefined:u(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");var t,n={};for(var c=0;c<e.length;c++)e[c]?undefined:u(!1,"dangerouslyRenderMarkup(...): Missing markup."),t=l(e[c]),t=o(t)?t:"*",n[t]=n[t]||[],n[t][c]=e[c];var h=[],p=0;for(t in n){if(!n.hasOwnProperty(t))continue;var d=n[t],v;for(v in d)if(d.hasOwnProperty(v)){var m=d[v];d[v]=m.replace(a,"$1 "+f+'="'+v+'" ')}var g=i(d.join(""),s);for(var y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(f)?(v=+b.getAttribute(f),b.removeAttribute(f),h.hasOwnProperty(v)?u(!1,"Danger: Assigning to an already-occupied result index."):undefined,h[v]=b,p+=1):console.error("Danger: Discarding unexpected node:",b)}}return p!==h.length?u(!1,"Danger: Did not assign to every index of resultList."):undefined,h.length!==e.length?u(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,h.length):undefined,h},dangerouslyReplaceNodeWithMarkup:function(e,t){r.canUseDOM?undefined:u(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),t?undefined:u(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),e.tagName.toLowerCase()==="html"?u(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):undefined;var n;typeof t=="string"?n=i(t,s)[0]:n=t,e.parentNode.replaceChild(n,e)}};t.exports=c},{147:147,152:152,153:153,157:157,161:161}],13:[function(e,t,n){var r=e(166),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=i},{166:166}],14:[function(e,t,n){var r=e(15),i=e(19),s=e(109),o=e(72),u=e(166),a=r.topLevelTypes,f=o.getFirstReactDOM,l={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[a.topMouseOut,a.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[a.topMouseOut,a.topMouseOver]}},c=[null,null],h={eventTypes:l,extractEvents:function(e,t,n,r,u){if(e===a.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==a.topMouseOut&&e!==a.topMouseOver)return null;var h;if(t.window===t)h=t;else{var p=t.ownerDocument;p?h=p.defaultView||p.parentWindow:h=window}var d,v,m="",g="";e===a.topMouseOut?(d=t,m=n,v=f(r.relatedTarget||r.toElement),v?g=o.getID(v):v=h,v=v||h):(d=h,v=t,g=n);if(d===v)return null;var y=s.getPooled(l.mouseLeave,m,r,u);y.type="mouseleave",y.target=d,y.relatedTarget=v;var b=s.getPooled(l.mouseEnter,g,r,u);return b.type="mouseenter",b.target=v,b.relatedTarget=d,i.accumulateEnterLeaveDispatches(y,b,m,g),c[0]=y,c[1]=b,c}};t.exports=h},{109:109,15:15,166:166,19:19,72:72}],15:[function(e,t,n){var r=e(165),i=r({bubbled:null,captured:null}),s=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),o={topLevelTypes:s,PropagationPhases:i};t.exports=o},{165:165}],16:[function(e,t,n){function m(){var e=v&&v.traverseTwoPhase&&v.traverseEnterLeave;f(e,"InstanceHandle not injected before use!")}var r=e(17),i=e(18),s=e(61),o=e(115),u=e(124),a=e(161),f=e(173),l={},c=null,h=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return h(e,!0)},d=function(e){return h(e,!1)},v=null,g={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){v=e,m()},getInstanceHandle:function(){return m(),v},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){typeof n!="function"?a(!1,"Expected %s listener to be a function, instead got type %s",t,typeof n):undefined;var i=l[t]||(l[t]={});i[e]=n;var s=r.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var i=l[t];i&&delete i[e]},deleteAllListeners:function(e){for(var t in l){if(!l[t][e])continue;var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e]}},extractEvents:function(e,t,n,i,s){var u,a=r.plugins;for(var f=0;f<a.length;f++){var l=a[f];if(l){var c=l.extractEvents(e,t,n,i,s);c&&(u=o(u,c))}}return u},enqueueEvents:function(e){e&&(c=o(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,p):u(t,d),c?a(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):undefined,s.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=g},{115:115,124:124,161:161,17:17,173:173,18:18,61:61}],17:[function(e,t,n){function o(){if(!i)return;for(var e in s){var t=s[e],n=i.indexOf(e);n>-1?undefined:r(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e);if(f.plugins[n])continue;t.extractEvents?undefined:r(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),f.plugins[n]=t;var o=t.eventTypes;for(var a in o)u(o[a],t,a)?undefined:r(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",a,e)}}function u(e,t,n){f.eventNameDispatchConfigs.hasOwnProperty(n)?r(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n):undefined,f.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];a(o,t,n)}return!0}return e.registrationName?(a(e.registrationName,t,n),!0):!1}function a(e,t,n){f.registrationNameModules[e]?r(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):undefined,f.registrationNameModules[e]=t,f.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var r=e(161),i=null,s={},f={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){i?r(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):undefined,i=Array.prototype.slice.call(e),o()},injectEventPluginsByName:function(e){var t=!1;for(var n in e){if(!e.hasOwnProperty(n))continue;var i=e[n];if(!s.hasOwnProperty(n)||s[n]!==i)s[n]?r(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n):undefined,s[n]=i,t=!0}t&&o()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return f.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames){if(!t.phasedRegistrationNames.hasOwnProperty(n))continue;var r=f.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){i=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];f.plugins.length=0;var t=f.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=f.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=f},{161:161}],18:[function(e,t,n){function f(e){return e===a.topMouseUp||e===a.topTouchEnd||e===a.topTouchCancel}function l(e){return e===a.topMouseMove||e===a.topTouchMove}function c(e){return e===a.topMouseDown||e===a.topTouchStart}function p(e,t,n,r){var s=e.type||"unknown-event";e.currentTarget=u.Mount.getNode(r),t?i.invokeGuardedCallbackWithCatch(s,n,e,r):i.invokeGuardedCallback(s,n,e,r),e.currentTarget=null}function d(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;h(e);if(Array.isArray(n))for(var i=0;i<n.length;i++){if(e.isPropagationStopped())break;p(e,t,n[i],r[i])}else n&&p(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null}function v(e){var t=e._dispatchListeners,n=e._dispatchIDs;h(e);if(Array.isArray(t))for(var r=0;r<t.length;r++){if(e.isPropagationStopped())break;if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function m(e){var t=v(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function g(e){h(e);var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?s(!1,"executeDirectDispatch(...): Invalid `event`."):undefined;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function y(e){return!!e._dispatchListeners}var r=e(15),i=e(61),s=e(161),o=e(173),u={Mount:null,injectMount:function(e){u.Mount=e,o(e&&e.getNode&&e.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},a=r.topLevelTypes,h;h=function(e){var t=e._dispatchListeners,n=e._dispatchIDs,r=Array.isArray(t),i=Array.isArray(n),s=i?n.length:n?1:0,u=r?t.length:t?1:0;o(i===r&&s===u,"EventPluginUtils: Invalid `event`.")};var b={isEndish:f,isMoveish:l,isStartish:c,executeDirectDispatch:g,executeDispatchesInOrder:d,executeDispatchesInOrderStopAtTrue:m,hasDispatches:y,getNode:function(e){return u.Mount.getNode(e)},getID:function(e){return u.Mount.getID(e)},injection:u};t.exports=b},{15:15,161:161,173:173,61:61}],19:[function(e,t,n){function l(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return f(e,r)}function c(e,t,n){s(e,"Dispatching id must not be null");var r=t?a.bubbled:a.captured,i=l(e,n,r);i&&(n._dispatchListeners=o(n._dispatchListeners,i),n._dispatchIDs=o(n._dispatchIDs,e))}function h(e){e&&e.dispatchConfig.phasedRegistrationNames&&i.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,c,e)}function p(e){e&&e.dispatchConfig.phasedRegistrationNames&&i.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,c,e)}function d(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=f(e,r);i&&(n._dispatchListeners=o(n._dispatchListeners,i),n._dispatchIDs=o(n._dispatchIDs,e))}}function v(e){e&&e.dispatchConfig.registrationName&&d(e.dispatchMarker,null,e)}function m(e){u(e,h)}function g(e){u(e,p)}function y(e,t,n,r){i.injection.getInstanceHandle().traverseEnterLeave(n,r,d,e,t)}function b(e){u(e,v)}var r=e(15),i=e(16),s=e(173),o=e(115),u=e(124),a=r.PropagationPhases,f=i.getListener,w={accumulateTwoPhaseDispatches:m,accumulateTwoPhaseDispatchesSkipTarget:g,accumulateDirectDispatches:b,accumulateEnterLeaveDispatches:y};t.exports=w},{115:115,124:124,15:15,16:16,173:173}],20:[function(e,t,n){function o(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var r=e(25),i=e(24),s=e(131);i(o.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t=this._startText,n=t.length,r,i=this.getText(),s=i.length;for(e=0;e<n;e++)if(t[e]!==i[e])break;var o=n-e;for(r=1;r<=o;r++)if(t[n-r]!==i[s-r])break;var u=r>1?1-r:undefined;return this._fallbackText=i.slice(e,u),this._fallbackText}}),r.addPoolingTo(o),t.exports=o},{131:131,24:24,25:25}],21:[function(e,t,n){var r=e(10),i=e(147),s=r.injection.MUST_USE_ATTRIBUTE,o=r.injection.MUST_USE_PROPERTY,u=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_SIDE_EFFECTS,f=r.injection.HAS_NUMERIC_VALUE,l=r.injection.HAS_POSITIVE_NUMERIC_VALUE,c=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,h;if(i.canUseDOM){var p=document.implementation;h=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|u,allowTransparency:s,alt:null,async:u,autoComplete:null,autoPlay:u,capture:s|u,cellPadding:null,cellSpacing:null,charSet:s,challenge:s,checked:o|u,classID:s,className:h?s:o,cols:s|l,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:o|u,coords:null,crossOrigin:null,data:null,dateTime:s,"default":u,defer:u,dir:null,disabled:s|u,download:c,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:u,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:o,inputMode:s,integrity:null,is:s,keyParams:s,keyType:s,kind:null,label:null,lang:null,list:s,loop:o|u,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,minLength:s,multiple:o|u,muted:o|u,name:null,nonce:s,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:o|u,rel:null,required:u,reversed:u,role:s,rows:s|l,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:s|u,selected:o|u,shape:null,size:s|l,sizes:s,span:l,spellCheck:null,src:null,srcDoc:o,srcLang:null,srcSet:s,start:f,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:o|a,width:s,wmode:s,wrap:null,about:s,datatype:s,inlist:s,prefix:s,property:s,resource:s,"typeof":s,vocab:s,autoCapitalize:s,autoCorrect:s,autoSave:null,color:null,itemProp:s,itemScope:s|u,itemType:s,itemID:s,itemRef:s,results:null,security:s,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=d},{10:10,147:147}],22:[function(e,t,n){var r=e(70),i=e(90),s={linkState:function(e){return new r(this.state[e],i.createStateKeySetter(this,e))}};t.exports=s},{70:70,90:90}],23:[function(e,t,n){function a(e){e.checkedLink!=null&&e.valueLink!=null?s(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):undefined}function f(e){a(e),e.value!=null||e.onChange!=null?s(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):undefined}function l(e){a(e),e.checked!=null||e.onChange!=null?s(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):undefined}function p(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var r=e(82),i=e(81),s=e(161),o=e(173),u={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},c={value:function(e,t,n){return!e[t]||u[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:r.func},h={},d={checkPropTypes:function(e,t,n){for(var r in c){if(c.hasOwnProperty(r))var s=c[r](t,r,e,i.prop);if(s instanceof Error&&!(s.message in h)){h[s.message]=!0;var u=p(n);o(!1,"Failed form propType: %s%s",s.message,u)}}},getValue:function(e){return e.valueLink?(f(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(l(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){if(e.valueLink)return f(e),e.valueLink.requestChange(t.target.value);if(e.checkedLink)return l(e),e.checkedLink.requestChange(t.target.checked);if(e.onChange)return e.onChange.call(undefined,t)}};t.exports=d},{161:161,173:173,81:81,82:82}],24:[function(e,t,n){function r(e,t){if(e==null)throw new TypeError("Object.assign target cannot be null or undefined");var n=Object(e),r=Object.prototype.hasOwnProperty;for(var i=1;i<arguments.length;i++){var s=arguments[i];if(s==null)continue;var o=Object(s);for(var u in o)r.call(o,u)&&(n[u]=o[u])}return n}t.exports=r},{}],25:[function(e,t,n){var r=e(161),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},s=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},o=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},u=function(e,t,n,r){var i=this;if(i.instancePool.length){var s=i.instancePool.pop();return i.call(s,e,t,n,r),s}return new i(e,t,n,r)},a=function(e,t,n,r,i){var s=this;if(s.instancePool.length){var o=s.instancePool.pop();return s.call(o,e,t,n,r,i),o}return new s(e,t,n,r,i)},f=function(e){var t=this;e instanceof t?undefined:r(!1,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,c=i,h=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=l),n.release=f,n},p={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:s,threeArgumentPooler:o,fourArgumentPooler:u,fiveArgumentPooler:a};t.exports=p},{161:161}],26:[function(e,t,n){var r=e(40),i=e(50),s=e(69),o=e(24),u=e(120),a={};o(a,s),o(a,{findDOMNode:u("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:u("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:u("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:u("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:u("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),a.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,a.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,t.exports=a},{120:120,24:24,40:40,50:50,69:69}],27:[function(e,t,n){var r=e(68),i=e(122),s=e(173),o="_getDOMNodeDidWarn",u={getDOMNode:function(){return s(this.constructor[o],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",r.get(this).getName()||this.tagName||"Unknown"),this.constructor[o]=!0,i(this)}};t.exports=u},{122:122,173:173,68:68}],28:[function(e,t,n){function m(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=p++,c[e[v]]={}),c[e[v]]}var r=e(15),i=e(16),s=e(17),o=e(62),u=e(78),a=e(114),f=e(24),l=e(133),c={},h=!1,p=0,d={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=f({},o,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!!g.ReactEventListener&&!!g.ReactEventListener.isEnabled()},listenTo:function(e,t){var n=t,i=m(n),o=s.registrationNameDependencies[e],u=r.topLevelTypes;for(var a=0;a<o.length;a++){var f=o[a];if(!i.hasOwnProperty(f)||!i[f])f===u.topWheel?l("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):l("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):f===u.topScroll?l("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):f===u.topFocus||f===u.topBlur?(l("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):l("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):d.hasOwnProperty(f)&&g.ReactEventListener.trapBubbledEvent(f,d[f],n),i[f]=!0}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!h){var e=a.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});u.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=g},{114:114,133:133,15:15,16:16,17:17,24:24,62:62,78:78}],29:[function(e,t,n){function u(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(e[t]==null)return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: "+"this can cause unreliable animations and won't be supported in "+"a future version of React. See "+"https://fb.me/react-animation-transition-group-timeout for more "+"information.");if(typeof e[t]!="number")return new Error(t+" must be a number (in milliseconds)")}}}var r=e(26),i=e(24),s=e(94),o=e(30),a=r.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:o.propTypes.name,transitionAppear:r.PropTypes.bool,transitionEnter:r.PropTypes.bool,transitionLeave:r.PropTypes.bool,transitionAppearTimeout:u("Appear"),transitionEnterTimeout:u("Enter"),transitionLeaveTimeout:u("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return r.createElement(o,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return r.createElement(s,i({},this.props,{childFactory:this._wrapChild}))}});t.exports=a},{24:24,26:26,30:30,94:94}],30:[function(e,t,n){var r=e(26),i=e(40),s=e(145),o=e(93),u=e(135),a=17,f=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=i.findDOMNode(this);if(!r){t&&t();return}var u=this.props.name[e]||this.props.name+"-"+e,a=this.props.name[e+"Active"]||u+"-active",f=null,l=function(e){if(e&&e.target!==r)return;clearTimeout(f),s.removeClass(r,u),s.removeClass(r,a),o.removeEndEventListener(r,l),t&&t()};s.addClass(r,u),this.queueClass(a),n?(f=setTimeout(l,n),this.transitionTimeouts.push(f)):o.addEndEventListener(r,l)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,a))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(s.addClass.bind(s,i.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return u(this.props.children)}});t.exports=f},{135:135,145:145,26:26,40:40,93:93}],31:[function(e,t,n){function a(e,t,n){var r=e[n]===undefined;u(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),t!=null&&r&&(e[n]=i(t,null))}var r=e(84),i=e(132),s=e(141),o=e(142),u=e(173),f={instantiateChildren:function(e,t,n){if(e==null)return null;var r={};return o(e,a,r),r},updateChildren:function(e,t,n,o){if(!t&&!e)return null;var u;for(u in t){if(!t.hasOwnProperty(u))continue;var a=e&&e[u],f=a&&a._currentElement,l=t[u];if(a!=null&&s(f,l))r.receiveComponent(a,l,n,o),t[u]=a;else{a&&r.unmountComponent(a,u);var c=i(l,null);t[u]=c}}for(u in e)e.hasOwnProperty(u)&&(!t||!t.hasOwnProperty(u))&&r.unmountComponent(e[u]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];r.unmountComponent(n)}}};t.exports=f},{132:132,141:141,142:142,173:173,84:84}],32:[function(e,t,n){function l(e){return(""+e).replace(f,"//")}function c(e,t){this.func=e,this.context=t,this.count=0}function h(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function p(e,t,n){if(e==null)return e;var r=c.getPooled(t,n);o(e,h,r),c.release(r)}function d(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function v(e,t,n){var r=e.result,o=e.keyPrefix,u=e.func,a=e.context,f=u.call(a,t,e.count++);Array.isArray(f)?m(f,r,n,s.thatReturnsArgument):f!=null&&(i.isValidElement(f)&&(f=i.cloneAndReplaceKey(f,o+(f!==t?l(f.key||"")+"/":"")+n)),r.push(f))}function m(e,t,n,r,i){var s="";n!=null&&(s=l(n)+"/");var u=d.getPooled(t,s,r,i);o(e,v,u),d.release(u)}function g(e,t,n){if(e==null)return e;var r=[];return m(e,r,null,t,n),r}function y(e,t,n){return null}function b(e,t){return o(e,y,null)}function w(e){var t=[];return m(e,t,null,s.thatReturnsArgument),t}var r=e(25),i=e(57),s=e(153),o=e(142),u=r.twoArgumentPooler,a=r.fourArgumentPooler,f=/\/(?!\/)/g;c.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(c,u),d.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(d,a);var E={forEach:p,map:g,mapIntoWithKeyPrefixInternal:m,count:b,toArray:w};t.exports=E},{142:142,153:153,25:25,57:57}],33:[function(e,t,n){function y(){g||(g=!0,p(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."))}function E(e,t,n){for(var r in t)t.hasOwnProperty(r)&&p(typeof t[r]=="function","%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",o[n],r)}function S(e,t){var n=b.hasOwnProperty(t)?b[t]:null;O.hasOwnProperty(t)&&(n!==v.OVERRIDE_BASE?l(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):undefined),e.hasOwnProperty(t)&&(n!==v.DEFINE_MANY&&n!==v.DEFINE_MANY_MERGED?l(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):undefined)}function x(e,t){if(!t)return;typeof t=="function"?l(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):undefined,i.isValidElement(t)?l(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):undefined;var n=e.prototype;t.hasOwnProperty(d)&&w.mixins(e,t.mixins);for(var r in t){if(!t.hasOwnProperty(r))continue;if(r===d)continue;var s=t[r];S(n,r);if(w.hasOwnProperty(r))w[r](e,s);else{var o=b.hasOwnProperty(r),u=n.hasOwnProperty(r),a=typeof s=="function",f=a&&!o&&!u&&t.autobind!==!1;if(f)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=s,n[r]=s;else if(u){var c=b[r];!o||c!==v.DEFINE_MANY_MERGED&&c!==v.DEFINE_MANY?l(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",c,r):undefined,c===v.DEFINE_MANY_MERGED?n[r]=C(n[r],s):c===v.DEFINE_MANY&&(n[r]=k(n[r],s))}else n[r]=s,typeof s=="function"&&t.displayName&&(n[r].displayName=t.displayName+"_"+r)}}}function T(e,t){if(!t)return;for(var n in t){var r=t[n];if(!t.hasOwnProperty(n))continue;var i=n in w;i?l(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n):undefined;var s=n in e;s?l(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):undefined,e[n]=r}}function N(e,t){!e||!t||typeof e!="object"||typeof t!="object"?l(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):undefined;for(var n in t)t.hasOwnProperty(n)&&(e[n]!==undefined?l(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n):undefined,e[n]=t[n]);return e}function C(e,t){return function(){var r=e.apply(this,arguments),i=t.apply(this,arguments);if(r==null)return i;if(i==null)return r;var s={};return N(s,r),N(s,i),s}}function k(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function L(e,t){var n=t.bind(e);n.__reactBoundContext=e,n.__reactBoundMethod=t,n.__reactBoundArguments=null;var r=e.constructor.displayName,i=n.bind;return n.bind=function(s){for(var o=arguments.length,u=Array(o>1?o-1:0),a=1;a<o;a++)u[a-1]=arguments[a];if(s!==e&&s!==null)p(!1,"bind(): React component methods may only be bound to the component instance. See %s",r);else if(!u.length)return p(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",r),n;var f=i.apply(n,arguments);return f.__reactBoundContext=e,f.__reactBoundMethod=t,f.__reactBoundArguments=u,f},n}function A(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=L(e,n)}}var r=e(34),i=e(57),s=e(81),o=e(80),u=e(76),a=e(24),f=e(154),l=e(161),c=e(165),h=e(166),p=e(173),d=h({mixins:null}),v=c({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),m=[],g=!1,b={mixins:v.DEFINE_MANY,statics:v.DEFINE_MANY,propTypes:v.DEFINE_MANY,contextTypes:v.DEFINE_MANY,childContextTypes:v.DEFINE_MANY,getDefaultProps:v.DEFINE_MANY_MERGED,getInitialState:v.DEFINE_MANY_MERGED,getChildContext:v.DEFINE_MANY_MERGED,render:v.DEFINE_ONCE,componentWillMount:v.DEFINE_MANY,componentDidMount:v.DEFINE_MANY,componentWillReceiveProps:v.DEFINE_MANY,shouldComponentUpdate:v.DEFINE_ONCE,componentWillUpdate:v.DEFINE_MANY,componentDidUpdate:v.DEFINE_MANY,componentWillUnmount:v.DEFINE_MANY,updateComponent:v.OVERRIDE_BASE},w={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)x(e,t[n])},childContextTypes:function(e,t){E(e,t,s.childContext),e.childContextTypes=a({},e.childContextTypes,t)},contextTypes:function(e,t){E(e,t,s.context),e.contextTypes=a({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=C(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){E(e,t,s.prop),e.propTypes=a({},e.propTypes,t)},statics:function(e,t){T(e,t)},autobind:function(){}},O={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){y(),this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){y(),this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},M=function(){};a(M.prototype,r.prototype,O);var _={createClass:function(e){var t=function(e,n,r){p(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&A(this),this.props=e,this.context=n,this.refs=f,this.updater=r||u,this.state=null;var i=this.getInitialState?this.getInitialState():null;typeof i=="undefined"&&this.getInitialState._isMockFunction&&(i=null),typeof i=="object"&&!Array.isArray(i)?undefined:l(!1,"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=i};t.prototype=new M,t.prototype.constructor=t,m.forEach(x.bind(null,t)),x(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={}),t.prototype.render?undefined:l(!1,"createClass(...): Class specification must implement a `render` method."),p(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),p(!t.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component");for(var n in b)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){m.push(e)}}};t.exports=_},{154:154,161:161,165:165,166:166,173:173,24:24,34:34,57:57,76:76,80:80,81:81}],34:[function(e,t,n){function a(e,t,n){this.props=e,this.context=t,this.refs=s,this.updater=n||r}var r=e(76),i=e(117),s=e(154),o=e(161),u=e(173);a.prototype.isReactComponent={},a.prototype.setState=function(e,t){typeof e!="object"&&typeof e!="function"&&e!=null?o(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):undefined,u(e!=null,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};var f={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},l=function(e,t){i&&Object.defineProperty(a.prototype,e,{get:function(){return u(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1]),undefined}})};for(var c in f)f.hasOwnProperty(c)&&l(c,f[c]);t.exports=a},{117:117,154:154,161:161,173:173,76:76}],35:[function(e,t,n){var r=e(45),i=e(72),s={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};t.exports=s},{45:45,72:72}],36:[function(e,t,n){var r=e(161),i=!1,s={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):undefined,s.unmountIDFromEnvironment=e.unmountIDFromEnvironment,s.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,s.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};t.exports=s},{161:161}],37:[function(e,t,n){var r=e(140),i={shouldComponentUpdate:function(e,t){return r(this,e,t)}};t.exports=i},{140:140}],38:[function(e,t,n){function g(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function y(e){}var r=e(36),i=e(39),s=e(57),o=e(68),u=e(78),a=e(81),f=e(80),l=e(84),c=e(95),h=e(24),p=e(154),d=e(161),v=e(141),m=e(173);y.prototype.render=function(){var e=o.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var b=1,w={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=b++,this._rootNodeID=e;var r=this._processProps(this._currentElement.props),u=this._processContext(n),a=this._currentElement.type,f,h,v="prototype"in a;if(v){i.current=this;try{f=new a(r,u,c)}finally{i.current=null}}if(!v||f===null||f===!1||s.isValidElement(f))h=f,f=new y(a);f.render==null?m(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",a.displayName||a.name||"Component"):m(a.prototype&&a.prototype.isReactComponent||!v||!(f instanceof a),"%s(...): React component classes must extend React.Component.",a.displayName||a.name||"Component"),f.props=r,f.context=u,f.refs=p,f.updater=c,this._instance=f,o.set(f,this),m(!f.getInitialState||f.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),m(!f.getDefaultProps||f.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),m(!f.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),m(!f.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),m(typeof f.componentShouldUpdate!="function","%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),m(typeof f.componentDidUnmount!="function","%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),m(typeof f.componentWillRecieveProps!="function","%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var g=f.state;g===undefined&&(f.state=g=null),typeof g=="object"&&!Array.isArray(g)?undefined:d(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,f.componentWillMount&&(f.componentWillMount(),this._pendingStateQueue&&(f.state=this._processPendingState(f.props,f.context))),h===undefined&&(h=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(h);var w=l.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return f.componentDidMount&&t.getReactMountReady().enqueue(f.componentDidMount,f),w},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),l.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,o.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return p;t={};for(var i in r)t[i]=e[i];return t},_processContext:function(e){var t=this._maskContext(e),n=this._currentElement.type;return n.contextTypes&&this._checkPropTypes(n.contextTypes,t,a.context),t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){typeof t.childContextTypes!="object"?d(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):undefined,this._checkPropTypes(t.childContextTypes,r,a.childContext);for(var i in r)i in t.childContextTypes?undefined:d(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",i);return h({},e,r)}return e},_processProps:function(e){var t=this._currentElement.type;return t.propTypes&&this._checkPropTypes(t.propTypes,e,a.prop),e},_checkPropTypes:function(e,t,n){var r=this.getName();for(var i in e)if(e.hasOwnProperty(i)){var s;try{typeof e[i]!="function"?d(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",f[n],i):undefined,s=e[i](t,i,r,n)}catch(o){s=o}if(s instanceof Error){var u=g(this);n===a.prop?m(!1,"Failed Composite propType: %s%s",s.message,u):m(!1,"Failed Context Types: %s%s",s.message,u)}}},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){this._pendingElement!=null&&l.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(this._pendingStateQueue!==null||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,i){var s=this._instance,o=this._context===i?s.context:this._processContext(i),u;t===n?u=n.props:(u=this._processProps(n.props),s.componentWillReceiveProps&&s.componentWillReceiveProps(u,o));var a=this._processPendingState(u,o),f=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(u,a,o);m(typeof f!="undefined","%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),f?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,u,a,o,e,i)):(this._currentElement=n,this._context=i,s.props=u,s.state=a,s.context=o)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;this._pendingReplaceState=!1,this._pendingStateQueue=null;if(!r)return n.state;if(i&&r.length===1)return r[0];var s=h({},i?r[0]:n.state);for(var o=i?1:0;o<r.length;o++){var u=r[o];h(s,typeof u=="function"?u.call(n,s,e,t):u)}return s},_performComponentUpdate:function(e,t,n,r,i,s){var o=this._instance,u=Boolean(o.componentDidUpdate),a,f,l;u&&(a=o.props,f=o.state,l=o.context),o.componentWillUpdate&&o.componentWillUpdate(t,n,r),this._currentElement=e,this._context=s,o.props=t,o.state=n,o.context=r,this._updateRenderedComponent(i,s),u&&i.getReactMountReady().enqueue(o.componentDidUpdate.bind(o,a,f,l),o)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(v(r,i))l.receiveComponent(n,i,e,this._processChildContext(t));else{var s=this._rootNodeID,o=n._rootNodeID;l.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i);var u=l.mountComponent(this._renderedComponent,s,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(o,u)}},_replaceNodeWithMarkupByID:function(e,t){r.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return typeof t=="undefined"&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var e;i.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{i.current=null}return e!==null&&e!==!1&&!s.isValidElement(e)?d(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):undefined,e},attachRef:function(e,t){var n=this.getPublicInstance();n==null?d(!1,"Stateless function components cannot have refs."):undefined;var r=t.getPublicInstance(),i=t&&t.getName?t.getName():"a component";m(r!=null,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,i,this.getName());var s=n.refs===p?n.refs={}:n.refs;s[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof y?null:e},_instantiateReactComponent:null};u.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var E={Mixin:w};t.exports=E},{141:141,154:154,161:161,173:173,24:24,36:36,39:39,57:57,68:68,78:78,80:80,81:81,84:84,95:95}],39:[function(e,t,n){var r={current:null};t.exports=r},{}],40:[function(e,t,n){var r=e(39),i=e(51),s=e(54),o=e(67),u=e(72),a=e(78),f=e(84),l=e(96),c=e(97),h=e(122),p=e(137),d=e(173);s.inject();var v=a.measure("React","render",u.render),m={findDOMNode:h,render:v,unmountComponentAtNode:u.unmountComponentAtNode,version:c,unstable_batchedUpdates:l.batchedUpdates,unstable_renderSubtreeIntoContainer:p};typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:o,Mount:u,Reconciler:f,TextComponent:i});var g=e(147);if(g.canUseDOM&&window.top===window.self){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var y=document.documentMode&&document.documentMode<8;d(!y,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');var b=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze];for(var w=0;w<b.length;w++)if(!b[w]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}t.exports=m},{122:122,137:137,147:147,173:173,39:39,51:51,54:54,67:67,72:72,78:78,84:84,96:96,97:97}],41:[function(e,t,n){var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(e,t,n){if(!t.disabled)return t;var i={};for(var s in t)t.hasOwnProperty(s)&&!r[s]&&(i[s]=t[s]);return i}};t.exports=i},{}],42:[function(e,t,n){function F(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function q(){var e=this._reactInternalComponent;return A(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",F(e)),this}function R(){var e=this._reactInternalComponent;return A(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",F(e)),!!e}function U(){var e=this._reactInternalComponent;A(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",F(e))}function z(e,t){var n=this._reactInternalComponent;A(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",F(n));if(!n)return;y.enqueueSetPropsInternal(n,e),t&&y.enqueueCallbackInternal(n,t)}function W(e,t){var n=this._reactInternalComponent;A(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",F(n));if(!n)return;y.enqueueReplacePropsInternal(n,e),t&&y.enqueueCallbackInternal(n,t)}function X(e){if(typeof e=="object"){if(Array.isArray(e))return"["+e.map(X).join(", ")+"]";var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);t.push(r+": "+X(e[n]))}return"{"+t.join(", ")+"}"}return typeof e=="string"?JSON.stringify(e):typeof e=="function"?"[function object]":String(e)}function $(e,t,n){if(e==null||t==null)return;if(k(e,t))return;var r=n._tag,i=n._currentElement._owner,s;i&&(s=i.getName());var o=s+"|"+r;if(V.hasOwnProperty(o))return;V[o]=!0,A(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",r,i?"of `"+s+"`":"using <"+r+">",X(e),X(t))}function J(e,t){if(!t)return;rt[e._tag]&&A(t.children==null&&t.dangerouslySetInnerHTML==null,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),t.dangerouslySetInnerHTML!=null&&(t.children!=null?S(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):undefined,typeof t.dangerouslySetInnerHTML=="object"&&B in t.dangerouslySetInnerHTML?undefined:S(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),A(t.innerHTML==null,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),A(!t.contentEditable||t.children==null,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),t.style!=null&&typeof t.style!="object"?S(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",F(e)):undefined}function K(e,t,n,r){A(t!=="onScroll"||x("scroll",!0),"This browser doesn't support the `onScroll` event");var i=v.findReactContainerForID(e);if(i){var s=i.nodeType===j?i.ownerDocument:i;M(t,s)}r.getReactMountReady().enqueue(Q,{id:e,registrationName:t,listener:n})}function Q(){var e=this;a.putListener(e.id,e.registrationName,e.listener)}function Y(){var e=this;e._rootNodeID?undefined:S(!1,"Must be mounted to trap events");var t=v.getNode(e._rootNodeID);t?undefined:S(!1,"trapBubbledEvent(...): Requires node to be rendered.");switch(e._tag){case"iframe":e._wrapperState.listeners=[a.trapBubbledEvent(u.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(a.trapBubbledEvent(u.topLevelTypes[n],G[n],t));break;case"img":e._wrapperState.listeners=[a.trapBubbledEvent(u.topLevelTypes.topError,"error",t),a.trapBubbledEvent(u.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[a.trapBubbledEvent(u.topLevelTypes.topReset,"reset",t),a.trapBubbledEvent(u.topLevelTypes.topSubmit,"submit",t)]}}function Z(){c.mountReadyWrapper(this)}function et(){p.postUpdateWrapper(this)}function ut(e){ot.call(st,e)||(it.test(e)?undefined:S(!1,"Invalid tag: %s",e),st[e]=!0)}function at(e,t){e=b({},e);var n=e[L.ancestorInfoContextKey];return e[L.ancestorInfoContextKey]=L.updatedAncestorInfo(n,t._tag,t),e}function ft(e,t){return e.indexOf("-")>=0||t.is!=null}function lt(e){ut(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,this._unprocessedContextDev=null,this._processedContextDev=null}var r=e(2),i=e(5),s=e(10),o=e(11),u=e(15),a=e(28),f=e(35),l=e(41),c=e(46),h=e(47),p=e(48),d=e(52),v=e(72),m=e(73),g=e(78),y=e(95),b=e(24),w=e(117),E=e(121),S=e(161),x=e(133),T=e(166),N=e(138),C=e(139),k=e(171),L=e(144),A=e(173),O=a.deleteListener,M=a.listenTo,_=a.registrationNameModules,D={string:!0,number:!0},P=T({children:null}),H=T({style:null}),B=T({__html:null}),j=1,I;I={props:{enumerable:!1,get:function(){var e=this._reactInternalComponent;return A(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",F(e)),e._currentElement.props}}};var V={},G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},tt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},nt={listing:!0,pre:!0,textarea:!0},rt=b({menuitem:!0},tt),it=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,st={},ot={}.hasOwnProperty;lt.displayName="ReactDOMComponent",lt.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var i=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(Y,this);break;case"button":i=l.getNativeProps(this,i,n);break;case"input":c.mountWrapper(this,i,n),i=c.getNativeProps(this,i,n);break;case"option":h.mountWrapper(this,i,n),i=h.getNativeProps(this,i,n);break;case"select":p.mountWrapper(this,i,n),i=p.getNativeProps(this,i,n),n=p.processChildContext(this,i,n);break;case"textarea":d.mountWrapper(this,i,n),i=d.getNativeProps(this,i,n)}J(this,i),n[L.ancestorInfoContextKey]&&L(this._tag,this,n[L.ancestorInfoContextKey]),this._unprocessedContextDev=n,this._processedContextDev=at(n,this),n=this._processedContextDev;var s;if(t.useCreateElement){var u=n[v.ownerDocumentContextKey],a=u.createElement(this._currentElement.type);o.setAttributeForID(a,this._rootNodeID),v.getID(a),this._updateDOMProperties({},i,t,a),this._createInitialChildren(t,i,n,a),s=a}else{var f=this._createOpenTagMarkupAndPutListeners(t,i),m=this._createContentMarkup(t,i,n);!m&&tt[this._tag]?s=f+"/>":s=f+">"+m+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(Z,this);case"button":case"select":case"textarea":i.autoFocus&&t.getReactMountReady().enqueue(r.focusDOMComponent,this)}return s},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t){if(!t.hasOwnProperty(r))continue;var s=t[r];if(s==null)continue;if(_.hasOwnProperty(r))s&&K(this._rootNodeID,r,s,e);else{r===H&&(s&&(this._previousStyle=s,s=this._previousStyleCopy=b({},t.style)),s=i.createMarkupForStyles(s));var u=null;this._tag!=null&&ft(this._tag,t)?r!==P&&(u=o.createMarkupForCustomAttribute(r,s)):u=o.createMarkupForProperty(r,s),u&&(n+=" "+u)}}if(e.renderToStaticMarkup)return n;var a=o.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(i!=null)i.__html!=null&&(r=i.__html);else{var s=D[typeof t.children]?t.children:null,o=s!=null?null:t.children;if(s!=null)r=E(s);else if(o!=null){var u=this.mountChildren(o,e,n);r=u.join("")}}return nt[this._tag]&&r.charAt(0)==="\n"?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(i!=null)i.__html!=null&&N(r,i.__html);else{var s=D[typeof t.children]?t.children:null,o=s!=null?null:t.children;if(s!=null)C(r,s);else if(o!=null){var u=this.mountChildren(o,e,n);for(var a=0;a<u.length;a++)r.appendChild(u[a])}}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,s=this._currentElement.props;switch(this._tag){case"button":i=l.getNativeProps(this,i),s=l.getNativeProps(this,s);break;case"input":c.updateWrapper(this),i=c.getNativeProps(this,i),s=c.getNativeProps(this,s);break;case"option":i=h.getNativeProps(this,i),s=h.getNativeProps(this,s);break;case"select":i=p.getNativeProps(this,i),s=p.getNativeProps(this,s);break;case"textarea":d.updateWrapper(this),i=d.getNativeProps(this,i),s=d.getNativeProps(this,s)}this._unprocessedContextDev!==r&&(this._unprocessedContextDev=r,this._processedContextDev=at(r,this)),r=this._processedContextDev,J(this,s),this._updateDOMProperties(i,s,e,null),this._updateDOMChildren(i,s,e,r),!w&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=s),this._tag==="select"&&e.getReactMountReady().enqueue(et,this)},_updateDOMProperties:function(e,t,n,r){var u,a,f;for(u in e){if(t.hasOwnProperty(u)||!e.hasOwnProperty(u))continue;if(u===H){var l=this._previousStyleCopy;for(a in l)l.hasOwnProperty(a)&&(f=f||{},f[a]="");this._previousStyleCopy=null}else if(_.hasOwnProperty(u))e[u]&&O(this._rootNodeID,u);else if(s.properties[u]||s.isCustomAttribute(u))r||(r=v.getNode(this._rootNodeID)),o.deleteValueForProperty(r,u)}for(u in t){var c=t[u],h=u===H?this._previousStyleCopy:e[u];if(!t.hasOwnProperty(u)||c===h)continue;if(u===H){c?($(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=c,c=this._previousStyleCopy=b({},c)):this._previousStyleCopy=null;if(h){for(a in h)h.hasOwnProperty(a)&&(!c||!c.hasOwnProperty(a))&&(f=f||{},f[a]="");for(a in c)c.hasOwnProperty(a)&&h[a]!==c[a]&&(f=f||{},f[a]=c[a])}else f=c}else if(_.hasOwnProperty(u))c?K(this._rootNodeID,u,c,n):h&&O(this._rootNodeID,u);else if(ft(this._tag,t))r||(r=v.getNode(this._rootNodeID)),u===P&&(c=null),o.setValueForAttribute(r,u,c);else if(s.properties[u]||s.isCustomAttribute(u))r||(r=v.getNode(this._rootNodeID)),c!=null?o.setValueForProperty(r,u,c):o.deleteValueForProperty(r,u)}f&&(r||(r=v.getNode(this._rootNodeID)),i.setValueForStyles(r,f))},_updateDOMChildren:function(e,t,n,r){var i=D[typeof e.children]?e.children:null,s=D[typeof t.children]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=i!=null?null:e.children,f=s!=null?null:t.children,l=i!=null||o!=null,c=s!=null||u!=null;a!=null&&f==null?this.updateChildren(null,n,r):l&&!c&&this.updateTextContent(""),s!=null?i!==s&&this.updateTextContent(""+s):u!=null?o!==u&&this.updateMarkup(""+u):f!=null&&this.updateChildren(f,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":c.unmountWrapper(this);break;case"html":case"head":case"body":S(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}this.unmountChildren(),a.deleteAllListeners(this._rootNodeID),f.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null;if(this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=v.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=q,e.isMounted=R,e.setState=U,e.replaceState=U,e.forceUpdate=U,e.setProps=z,e.replaceProps=W,w?Object.defineProperties(e,I):e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},g.measureMethods(lt,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),b(lt.prototype,lt.Mixin,m.Mixin),t.exports=lt},{10:10,11:11,117:117,121:121,133:133,138:138,139:139,144:144,15:15,161:161,166:166,171:171,173:173,2:2,24:24,28:28,35:35,41:41,46:46,47:47,48:48,5:5,52:52,72:72,73:73,78:78,95:95}],43:[function(e,t,n){function o(e){return i.createFactory(e)}var r=e(57),i=e(58),s=e(167),u=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},o);t.exports=u},{167:167,57:57,58:58}],44:[function(e,t,n){var r={useCreateElement:!1};t.exports=r},{}],45:[function(e,t,n){var r=e(9),i=e(11),s=e(72),o=e(78),u=e(161),a={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},f={updatePropertyByID:function(e,t,n){var r=s.getNode(e);a.hasOwnProperty(t)?u(!1,"updatePropertyByID(...): %s",a[t]):undefined,n!=null?i.setValueForProperty(r,t,n):i.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=s.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=s.getNode(e[n].parentID);r.processUpdates(e,t)}};o.measureMethods(f,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=f},{11:11,161:161,72:72,78:78,9:9}],46:[function(e,t,n){function l(){this._rootNodeID&&c.updateWrapper(this)}function h(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);o.asap(l,this);var r=t.name;if(t.type==="radio"&&r!=null){var u=s.getNode(this._rootNodeID),c=u;while(c.parentNode)c=c.parentNode;var h=c.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]');for(var p=0;p<h.length;p++){var d=h[p];if(d===u||d.form!==u.form)continue;var v=s.getID(d);v?undefined:a(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var m=f[v];m?undefined:a(!1,"ReactDOMInput: Unknown radio button ID %s.",v),o.asap(l,m)}}return n}var r=e(45),i=e(23),s=e(72),o=e(96),u=e(24),a=e(161),f={},c={getNativeProps:function(e,t,n){var r=i.getValue(t),s=i.getChecked(t),o=u({},t,{defaultChecked:undefined,defaultValue:undefined,value:r!=null?r:e._wrapperState.initialValue,checked:s!=null?s:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){i.checkPropTypes("input",t,e._currentElement._owner);var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:n!=null?n:null,onChange:h.bind(e)}},mountReadyWrapper:function(e){f[e._rootNodeID]=e},unmountWrapper:function(e){delete f[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;n!=null&&r.updatePropertyByID(e._rootNodeID,"checked",n||!1);var s=i.getValue(t);s!=null&&r.updatePropertyByID(e._rootNodeID,"value",""+s)}};t.exports=c},{161:161,23:23,24:24,45:45,72:72,96:96}],47:[function(e,t,n){var r=e(32),i=e(48),s=e(24),o=e(173),u=i.valueContextKey,a={mountWrapper:function(e,t,n){o(t.selected==null,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var r=n[u],i=null;if(r!=null){i=!1;if(Array.isArray(r)){for(var s=0;s<r.length;s++)if(""+r[s]==""+t.value){i=!0;break}}else i=""+r==""+t.value}e._wrapperState={selected:i}},getNativeProps:function(e,t,n){var i=s({selected:undefined,children:undefined},t);e._wrapperState.selected!=null&&(i.selected=e._wrapperState.selected);var u="";return r.forEach(t.children,function(e){if(e==null)return;typeof e=="string"||typeof e=="number"?u+=e:o(!1,"Only strings and numbers are supported as <option> children.")}),u&&(i.children=u),i}};t.exports=a},{173:173,24:24,32:32,48:48}],48:[function(e,t,n){function f(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=r.getValue(e);t!=null&&p(this,Boolean(e.multiple),t)}}function l(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function h(e,t){var n=e._currentElement._owner;r.checkPropTypes("select",t,n);for(var i=0;i<c.length;i++){var s=c[i];if(t[s]==null)continue;t.multiple?u(Array.isArray(t[s]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",s,l(n)):u(!Array.isArray(t[s]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",s,l(n))}}function p(e,t,n){var r,s,o=i.getNode(e._rootNodeID).options;if(t){r={};for(s=0;s<n.length;s++)r[""+n[s]]=!0;for(s=0;s<o.length;s++){var u=r.hasOwnProperty(o[s].value);o[s].selected!==u&&(o[s].selected=u)}}else{r=""+n;for(s=0;s<o.length;s++)if(o[s].value===r){o[s].selected=!0;return}o.length&&(o[0].selected=!0)}}function v(e){var t=this._currentElement.props,n=r.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,s.asap(f,this),n}var r=e(23),i=e(72),s=e(96),o=e(24),u=e(173),a="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),c=["value","defaultValue"],d={valueContextKey:a,getNativeProps:function(e,t,n){return o({},t,{onChange:e._wrapperState.onChange,value:undefined})},mountWrapper:function(e,t){h(e,t);var n=r.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:n!=null?n:t.defaultValue,onChange:v.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=o({},n);return r[a]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=undefined;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var i=r.getValue(t);i!=null?(e._wrapperState.pendingUpdate=!1,p(e,Boolean(t.multiple),i)):n!==Boolean(t.multiple)&&(t.defaultValue!=null?p(e,Boolean(t.multiple),t.defaultValue):p(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=d},{173:173,23:23,24:24,72:72,96:96}],49:[function(e,t,n){function o(e,t,n,r){return e===n&&t===r}function u(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var s=i.text.length,o=s+r;return{start:s,end:o}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||t.rangeCount===0)return null;var n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,s=t.focusOffset,u=t.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(a){return null}var f=o(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=f?0:u.toString().length,c=u.cloneRange();c.selectNodeContents(e),c.setEnd(u.startContainer,u.startOffset);var h=o(c.startContainer,c.startOffset,c.endContainer,c.endOffset),p=h?0:c.toString().length,d=p+l,v=document.createRange();v.setStart(n,r),v.setEnd(i,s);var m=v.collapsed;return{start:m?d:p,end:m?p:d}}function f(e,t){var n=document.selection.createRange().duplicate(),r,i;typeof t.end=="undefined"?(r=t.start,i=r):t.start>t.end?(r=t.end,i=t.start):(r=t.start,i=t.end),n.moveToElementText(e),n.moveStart("character",r),n.setEndPoint("EndToStart",n),n.moveEnd("character",i-r),n.select()}function l(e,t){if(!window.getSelection)return;var n=window.getSelection(),r=e[s()].length,o=Math.min(t.start,r),u=typeof t.end=="undefined"?o:Math.min(t.end,r);if(!n.extend&&o>u){var a=u;u=o,o=a}var f=i(e,o),l=i(e,u);if(f&&l){var c=document.createRange();c.setStart(f.node,f.offset),n.removeAllRanges(),o>u?(n.addRange(c),n.extend(l.node,l.offset)):(c.setEnd(l.node,l.offset),n.addRange(c))}}var r=e(147),i=e(130),s=e(131),c=r.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:c?u:a,setOffsets:c?f:l};t.exports=h},{130:130,131:131,147:147}],50:[function(e,t,n){var r=e(54),i=e(88),s=e(97);r.inject();var o={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:s};t.exports=o},{54:54,88:88,97:97}],51:[function(e,t,n){var r=e(9),i=e(11),s=e(35),o=e(72),u=e(24),a=e(121),f=e(139),l=e(144),c=function(e){};u(c.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){n[l.ancestorInfoContextKey]&&l("span",null,n[l.ancestorInfoContextKey]),this._rootNodeID=e;if(t.useCreateElement){var r=n[o.ownerDocumentContextKey],s=r.createElement("span");return i.setAttributeForID(s,e),o.getID(s),f(s,this._stringText),s}var u=a(this._stringText);return t.renderToStaticMarkup?u:"<span "+i.createMarkupForID(e)+">"+u+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var i=o.getNode(this._rootNodeID);r.updateTextContent(i,n)}}},unmountComponent:function(){s.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},{11:11,121:121,139:139,144:144,24:24,35:35,72:72,9:9}],52:[function(e,t,n){function f(){this._rootNodeID&&l.updateWrapper(this)}function c(e){var t=this._currentElement.props,n=r.executeOnChange(t,e);return s.asap(f,this),n}var r=e(23),i=e(45),s=e(96),o=e(24),u=e(161),a=e(173),l={getNativeProps:function(e,t,n){t.dangerouslySetInnerHTML!=null?u(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):undefined;var r=o({},t,{defaultValue:undefined,value:undefined,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){r.checkPropTypes("textarea",t,e._currentElement._owner);var n=t.defaultValue,i=t.children;i!=null&&(a(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),n!=null?u(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):undefined,Array.isArray(i)&&(i.length<=1?undefined:u(!1,"<textarea> can only have at most one child."),i=i[0]),n=""+i),n==null&&(n="");var s=r.getValue(t);e._wrapperState={initialValue:""+(s!=null?s:n),onChange:c.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=r.getValue(t);n!=null&&i.updatePropertyByID(e._rootNodeID,"value",""+n)}};t.exports=l},{161:161,173:173,23:23,24:24,45:45,96:96}],53:[function(e,t,n){function l(){this.reinitializeTransaction()}var r=e(96),i=e(113),s=e(24),o=e(153),u={initialize:o,close:function(){h.isBatchingUpdates=!1}},a={initialize:o,close:r.flushBatchedUpdates.bind(r)},f=[a,u];s(l.prototype,i.Mixin,{getTransactionWrappers:function(){return f}});var c=new l,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,s){var o=h.isBatchingUpdates;h.isBatchingUpdates=!0,o?e(t,n,r,i,s):c.perform(e,null,t,n,r,i,s)}};t.exports=h},{113:113,153:153,24:24,96:96}],54:[function(e,t,n){function N(){if(T)return;T=!0,m.EventEmitter.injectReactEventListener(v),m.EventPluginHub.injectEventPluginOrder(o),m.EventPluginHub.injectInstanceHandle(g),m.EventPluginHub.injectMount(y),m.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:S,EnterLeaveEventPlugin:u,ChangeEventPlugin:i,SelectEventPlugin:w,BeforeInputEventPlugin:r}),m.NativeComponent.injectGenericComponentClass(p),m.NativeComponent.injectTextComponentClass(d),m.Class.injectMixin(l),m.DOMProperty.injectDOMPropertyConfig(f),m.DOMProperty.injectDOMPropertyConfig(x),m.EmptyComponent.injectEmptyComponent("noscript"),m.Updates.injectReconcileTransaction(b),m.Updates.injectBatchingStrategy(h),m.RootIndex.injectCreateReactRootIndex(a.canUseDOM?s.createReactRootIndex:E.createReactRootIndex),m.Component.injectEnvironment(c);var t=a.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var n=e(55);n.start()}}var r=e(3),i=e(7),s=e(8),o=e(13),u=e(14),a=e(147),f=e(21),l=e(27),c=e(35),h=e(53),p=e(42),d=e(51),v=e(63),m=e(65),g=e(67),y=e(72),b=e(83),w=e(99),E=e(100),S=e(101),x=e(98),T=!1;t.exports={inject:N}},{100:100,101:101,13:13,14:14,147:147,21:21,27:27,3:3,35:35,42:42,51:51,53:53,55:55,63:63,65:65,67:67,7:7,72:72,8:8,83:83,98:98,99:99}],55:[function(e,t,n){function a(e){return Math.floor(e*100)/100}function f(e,t,n){e[t]=(e[t]||0)+n}var r=e(10),i=e(56),s=e(72),o=e(78),u=e(170),l={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){l._injected||o.injection.injectMeasure(l.measure),l._allMeasurements.length=0,o.enableMeasure=!0},stop:function(){o.enableMeasure=!1},getLastMeasurements:function(){return l._allMeasurements},printExclusive:function(e){e=e||l._allMeasurements;var t=i.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":a(e.inclusive),"Exclusive mount time (ms)":a(e.exclusive),"Exclusive render time (ms)":a(e.render),"Mount time per instance (ms)":a(e.exclusive/e.count),"Render time per instance (ms)":a(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||l._allMeasurements;var t=i.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":a(e.time),Instances:e.count}})),console.log("Total time:",i.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=i.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||l._allMeasurements,console.table(l.getMeasurementsSummaryMap(e)),console.log("Total time:",i.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||l._allMeasurements;var t=i.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[r.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",i.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var i=l._allMeasurements[l._allMeasurements.length-1].writes;i[e]=i[e]||[],i[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a,c,h;if(t==="_renderNewRootComponent"||t==="flushBatchedUpdates")return l._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),h=u(),c=n.apply(this,i),l._allMeasurements[l._allMeasurements.length-1].totalTime=u()-h,c;if(t==="_mountImageIntoNode"||e==="ReactBrowserEventEmitter"||e==="ReactDOMIDOperations"||e==="CSSPropertyOperations"||e==="DOMChildrenOperations"||e==="DOMPropertyOperations"){h=u(),c=n.apply(this,i),a=u()-h;if(t==="_mountImageIntoNode"){var p=s.getID(i[1]);l._recordWrite(p,t,a,i[0])}else if(t==="dangerouslyProcessChildrenUpdates")i[0].forEach(function(e){var t={};e.fromIndex!==null&&(t.fromIndex=e.fromIndex),e.toIndex!==null&&(t.toIndex=e.toIndex),e.textContent!==null&&(t.textContent=e.textContent),e.markupIndex!==null&&(t.markup=i[1][e.markupIndex]),l._recordWrite(e.parentID,e.type,a,t)});else{var d=i[0];typeof d=="object"&&(d=s.getID(i[0])),l._recordWrite(d,t,a,Array.prototype.slice.call(i,1))}return c}if(e!=="ReactCompositeComponent"||t!=="mountComponent"&&t!=="updateComponent"&&t!=="_renderValidatedComponent")return n.apply(this,i);if(this._currentElement.type===s.TopLevelWrapper)return n.apply(this,i);var v=t==="mountComponent"?i[0]:this._rootNodeID,m=t==="_renderValidatedComponent",g=t==="mountComponent",y=l._mountStack,b=l._allMeasurements[l._allMeasurements.length-1];m?f(b.counts,v,1):g&&(b.created[v]=!0,y.push(0)),h=u(),c=n.apply(this,i),a=u()-h;if(m)f(b.render,v,a);else if(g){var w=y.pop();y[y.length-1]+=a,f(b.exclusive,v,a-w),f(b.inclusive,v,a)}else f(b.inclusive,v,a);return b.displayNames[v]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},c}}};t.exports=l},{10:10,170:170,56:56,72:72,78:78}],56:[function(e,t,n){function o(e){var t=0;for(var n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function u(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(n){e.writes[n].forEach(function(e){t.push({id:n,type:s[e.type]||e.type,args:e.args})})})}),t}function a(e){var t={},n;for(var s=0;s<e.length;s++){var o=e[s],u=r({},o.exclusive,o.inclusive);for(var a in u)n=o.displayNames[a].current,t[n]=t[n]||{componentName:n,inclusive:0,exclusive:0,render:0,count:0},o.render[a]&&(t[n].render+=o.render[a]),o.exclusive[a]&&(t[n].exclusive+=o.exclusive[a]),o.inclusive[a]&&(t[n].inclusive+=o.inclusive[a]),o.counts[a]&&(t[n].count+=o.counts[a])}var f=[];for(n in t)t[n].exclusive>=i&&f.push(t[n]);return f.sort(function(e,t){return t.exclusive-e.exclusive}),f}function f(e,t){var n={},s;for(var o=0;o<e.length;o++){var u=e[o],a=r({},u.exclusive,u.inclusive),f;t&&(f=l(u));for(var c in a){if(t&&!f[c])continue;var h=u.displayNames[c];s=h.owner+" > "+h.current,n[s]=n[s]||{componentName:s,time:0,count:0},u.inclusive[c]&&(n[s].time+=u.inclusive[c]),u.counts[c]&&(n[s].count+=u.counts[c])}}var p=[];for(s in n)n[s].time>=i&&p.push(n[s]);return p.sort(function(e,t){return t.time-e.time}),p}function l(e){var t={},n=Object.keys(e.writes),i=r({},e.exclusive,e.inclusive);for(var s in i){var o=!1;for(var u=0;u<n.length;u++)if(n[u].indexOf(s)===0){o=!0;break}e.created[s]&&(o=!0),!o&&e.counts[s]>0&&(t[s]=!0)}return t}var r=e(24),i=1.2,s={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},c={getExclusiveSummary:a,getInclusiveSummary:f,getDOMSummary:u,getTotalTime:o};t.exports=c},{24:24}],57:[function(e,t,n){var r=e(39),i=e(24),s=e(117),o=typeof Symbol=="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103,u={key:!0,ref:!0,__self:!0,__source:!0},a=function(e,t,n,r,i,u,a){var f={$$typeof:o,type:e,key:t,ref:n,props:a,_owner:u};return f._store={},s?(Object.defineProperty(f._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(f,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(f,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i})):(f._store.validated=!1,f._self=r,f._source=i),Object.freeze(f.props),Object.freeze(f),f};a.createElement=function(e,t,n){var i,s={},o=null,f=null,l=null,c=null;if(t!=null){f=t.ref===undefined?null:t.ref,o=t.key===undefined?null:""+t.key,l=t.__self===undefined?null:t.__self,c=t.__source===undefined?null:t.__source;for(i in t)t.hasOwnProperty(i)&&!u.hasOwnProperty(i)&&(s[i]=t[i])}var h=arguments.length-2;if(h===1)s.children=n;else if(h>1){var p=Array(h);for(var d=0;d<h;d++)p[d]=arguments[d+2];s.children=p}if(e&&e.defaultProps){var v=e.defaultProps;for(i in v)typeof s[i]=="undefined"&&(s[i]=v[i])}return a(e,o,f,l,c,r.current,s)},a.createFactory=function(e){var t=a.createElement.bind(null,e);return t.type=e,t},a.cloneAndReplaceKey=function(e,t){var n=a(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},a.cloneAndReplaceProps=function(e,t){var n=a(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n._store.validated=e._store.validated,n},a.cloneElement=function(e,t,n){var s,o=i({},e.props),f=e.key,l=e.ref,c=e._self,h=e._source,p=e._owner;if(t!=null){t.ref!==undefined&&(l=t.ref,p=r.current),t.key!==undefined&&(f=""+t.key);for(s in t)t.hasOwnProperty(s)&&!u.hasOwnProperty(s)&&(o[s]=t[s])}var d=arguments.length-2;if(d===1)o.children=n;else if(d>1){var v=Array(d);for(var m=0;m<d;m++)v[m]=arguments[m+2];o.children=v}return a(e.type,f,l,c,h,p,o)},a.isValidElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===o},t.exports=a},{117:117,24:24,39:39}],58:[function(e,t,n){function c(){if(o.current){var e=o.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function d(e,t){if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var n=v("uniqueKey",e,t);if(n===null)return;l(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',n.parentOrOwner||"",n.childOwner||"",n.url||"")}function v(e,t,n){var r=c();if(!r){var i=typeof n=="string"?n:n.displayName||n.name;i&&(r=" Check the top-level render call using <"+i+">.")}var s=h[e]||(h[e]={});if(s[r])return null;s[r]=!0;var u={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==o.current&&(u.childOwner=" It was passed a child from "+t._owner.getName()+"."),u}function m(e,t){if(typeof e!="object")return;if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];r.isValidElement(i)&&d(i,t)}else if(r.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var s=a(e);if(s&&s!==e.entries){var o=s.call(e),u;while(!(u=o.next()).done)r.isValidElement(u.value)&&d(u.value,t)}}}function g(e,t,n,r){for(var i in t)if(t.hasOwnProperty(i)){var o;try{typeof t[i]!="function"?f(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",s[r],i):undefined,o=t[i](n,i,e,r)}catch(u){o=u}l(!o||o instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",s[r],i,typeof o);if(o instanceof Error&&!(o.message in p)){p[o.message]=!0;var a=c();l(!1,"Failed propType: %s%s",o.message,a)}}}function y(e){var t=e.type;if(typeof t!="function")return;var n=t.displayName||t.name;t.propTypes&&g(n,t.propTypes,e.props,i.prop),typeof t.getDefaultProps=="function"&&l(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}var r=e(57),i=e(81),s=e(80),o=e(39),u=e(117),a=e(129),f=e(161),l=e(173),h={},p={},b={createElement:function(e,t,n){var i=typeof e=="string"||typeof e=="function";l(i,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",c());var s=r.createElement.apply(this,arguments);if(s==null)return s;if(i)for(var o=2;o<arguments.length;o++)m(arguments[o],e);return y(s),s},createFactory:function(e){var t=b.createElement.bind(null,e);return t.type=e,u&&Object.defineProperty(t,"type",{enumerable:!1,get:function(){return l(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,n){var i=r.cloneElement.apply(this,arguments);for(var s=2;s<arguments.length;s++)m(arguments[s],i.type);return y(i),i}};t.exports=b},{117:117,129:129,161:161,173:173,39:39,57:57,80:80,81:81}],59:[function(e,t,n){function f(){i.registerNullComponentID(this._rootNodeID)}var r=e(57),i=e(60),s=e(84),o=e(24),u,a={injectEmptyComponent:function(e){u=r.createElement(e)}},l=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(u)};o(l.prototype,{construct:function(e){},mountComponent:function(e,t,n){return t.getReactMountReady().enqueue(f,this),this._rootNodeID=e,s.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){s.unmountComponent(this._renderedComponent),i.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=a,t.exports=l},{24:24,57:57,60:60,84:84}],60:[function(e,t,n){function i(e){return!!r[e]}function s(e){r[e]=!0}function o(e){delete r[e]}var r={},u={isNullComponentID:i,registerNullComponentID:s,deregisterNullComponentID:o};t.exports=u},{}],61:[function(e,t,n){function i(e,t,n,i){try{return t(n,i)}catch(s){return r===null&&(r=s),undefined}}var r=null,s={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};if(typeof window!="undefined"&&typeof window.dispatchEvent=="function"&&typeof document!="undefined"&&typeof document.createEvent=="function"){var o=document.createElement("react");s.invokeGuardedCallback=function(e,t,n,r){var i=t.bind(null,n,r),s="react-"+e;o.addEventListener(s,i,!1);var u=document.createEvent("Event");u.initEvent(s,!1,!1),o.dispatchEvent(u),o.removeEventListener(s,i,!1)}}t.exports=s},{}],62:[function(e,t,n){function i(e){r.enqueueEvents(e),r.processEventQueue(!1)}var r=e(16),s={handleTopLevel:function(e,t,n,s,o){var u=r.extractEvents(e,t,n,s,o);i(u)}};t.exports=s},{16:16}],63:[function(e,t,n){function p(e){var t=u.getID(e),n=o.getReactRootIDFromNodeID(t),r=u.findReactContainerForID(n),i=u.getFirstReactDOM(r);return i}function d(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function v(e){void g,m(e)}function m(e){var t=u.getFirstReactDOM(l(e.nativeEvent))||window,n=t;while(n)e.ancestors.push(n),n=p(n);for(var r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=u.getID(t)||"";b._handleTopLevel(e.topLevelType,t,i,e.nativeEvent,l(e.nativeEvent))}}function g(e){var t=e.nativeEvent.path,n=t[0],r=0;for(var i=0;i<t.length;i++){var s=t[i];s.nodeType===h&&(n=t[i+1]);var a=u.getFirstReactDOM(s);if(a===s){var f=u.getID(s),c=o.getReactRootIDFromNodeID(f);e.ancestors.push(s);var p=u.getID(s)||"";r++,b._handleTopLevel(e.topLevelType,s,p,e.nativeEvent,n);while(f!==c)i++,s=t[i],f=u.getID(s)}}r===0&&b._handleTopLevel(e.topLevelType,window,"",e.nativeEvent,l(e.nativeEvent))}function y(e){var t=c(window);e(t)}var r=e(146),i=e(147),s=e(25),o=e(67),u=e(72),a=e(96),f=e(24),l=e(128),c=e(158),h=11;f(d.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),s.addPoolingTo(d,s.twoArgumentPooler);var b={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(e){b._handleTopLevel=e},setEnabled:function(e){b._enabled=!!e},isEnabled:function(){return b._enabled},trapBubbledEvent:function(e,t,n){var i=n;return i?r.listen(i,t,b.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var i=n;return i?r.capture(i,t,b.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=y.bind(null,e);r.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(!b._enabled)return;var n=d.getPooled(e,t);try{a.batchedUpdates(v,n)}finally{d.release(n)}}};t.exports=b},{128:128,146:146,147:147,158:158,24:24,25:25,67:67,72:72,96:96}],64:[function(e,t,n){var r=e(32),i=e(57),s=e(153),o=e(161),u=e(173),a=/^\d+$/,f=!1,l={create:function(e){if(typeof e!="object"||!e||Array.isArray(e))return u(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(i.isValidElement(e))return u(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;e.nodeType===1?o(!1,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components."):undefined;var t=[];for(var n in e)!f&&a.test(n)&&(u(!1,"React.addons.createFragment(...): Child objects should have non-numeric keys so ordering is preserved."),f=!0),r.mapIntoWithKeyPrefixInternal(e[n],t,n,s.thatReturnsArgument);return t}};t.exports=l},{153:153,161:161,173:173,32:32,57:57}],65:[function(e,t,n){var r=e(10),i=e(16),s=e(36),o=e(33),u=e(59),a=e(28),f=e(75),l=e(78),c=e(86),h=e(96),p={Component:s.injection,Class:o.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:i.injection,EventEmitter:a.injection,NativeComponent:f.injection,Perf:l.injection,RootIndex:c.injection,Updates:h.injection};t.exports=p},{10:10,16:16,28:28,33:33,36:36,59:59,75:75,78:78,86:86,96:96}],66:[function(e,t,n){function u(e){return i(document.documentElement,e)}var r=e(49),i=e(150),s=e(155),o=e(156),a={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&e.type==="text"||t==="textarea"||e.contentEditable==="true")},getSelectionInformation:function(){var e=o();return{focusedElem:e,selectionRange:a.hasSelectionCapabilities(e)?a.getSelection(e):null}},restoreSelection:function(e){var t=o(),n=e.focusedElem,r=e.selectionRange;t!==n&&u(n)&&(a.hasSelectionCapabilities(n)&&a.setSelection(n,r),s(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&e.nodeName.toLowerCase()==="input"){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;typeof i=="undefined"&&(i=n);if("selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&e.nodeName&&e.nodeName.toLowerCase()==="input"){var s=e.createTextRange();s.collapse(!0),s.moveStart("character",n),s.moveEnd("character",i-n),s.select()}else r.setOffsets(e,t)}};t.exports=a},{150:150,155:155,156:156,49:49}],67:[function(e,t,n){function a(e){return s+e.toString(36)}function f(e,t){return e.charAt(t)===s||t===e.length}function l(e){return e===""||e.charAt(0)===s&&e.charAt(e.length-1)!==s}function c(e,t){return t.indexOf(e)===0&&f(t,e.length)}function h(e){return e?e.substr(0,e.lastIndexOf(s)):""}function p(e,t){!l(e)||!l(t)?i(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t):undefined,c(e,t)?undefined:i(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t);if(e===t)return e;var n=e.length+o,r;for(r=n;r<t.length;r++)if(f(t,r))break;return t.substr(0,r)}function d(e,t){var n=Math.min(e.length,t.length);if(n===0)return"";var r=0;for(var s=0;s<=n;s++)if(f(e,s)&&f(t,s))r=s;else if(e.charAt(s)!==t.charAt(s))break;var o=e.substr(0,r);return l(o)?undefined:i(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,o),o}function v(e,t,n,r,s,o){e=e||"",t=t||"",e===t?i(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e):undefined;var a=c(t,e);!a&&!c(e,t)?i(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t):undefined;var f=0,l=a?h:p;for(var d=e;;d=l(d,t)){var v;(!s||d!==e)&&(!o||d!==t)&&(v=n(d,a,r));if(v===!1||d===t)break;f++<u?undefined:i(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t,d)}}var r=e(86),i=e(161),s=".",o=s.length,u=1e4,m={createReactRootID:function(){return a(r.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===s&&e.length>1){var t=e.indexOf(s,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var s=d(e,t);s!==e&&v(e,s,n,r,!1,!0),s!==t&&v(s,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(v("",e,t,n,!0,!1),v(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(v("",e,t,n,!0,!0),v(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){v("",e,t,n,!0,!1)},getFirstCommonAncestorID:d,_getNextDescendantID:p,isAncestorIDOf:c,SEPARATOR:s};t.exports=m},{161:161,86:86}],68:[function(e,t,n){var r={remove:function(e){e._reactInternalInstance=undefined},get:function(e){return e._reactInternalInstance},has:function(e){return e._reactInternalInstance!==undefined},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],69:[function(e,t,n){var r=e(32),i=e(34),s=e(33),o=e(43),u=e(57),a=e(58),f=e(82),l=e(97),c=e(24),h=e(135),p=u.createElement,d=u.createFactory,v=u.cloneElement;p=a.createElement,d=a.createFactory,v=a.cloneElement;var m={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:h},Component:i,createElement:p,cloneElement:v,isValidElement:u.isValidElement,PropTypes:f,createClass:s.createClass,createFactory:d,createMixin:function(e){return e},DOM:o,version:l,__spread:c};t.exports=m},{135:135,24:24,32:32,33:33,34:34,43:43,57:57,58:58,82:82,97:97}],70:[function(e,t,n){function i(e,t){this.value=e,this.requestChange=t}function s(e){var t={value:typeof e=="undefined"?r.PropTypes.any.isRequired:e.isRequired,requestChange:r.PropTypes.func.isRequired};return r.PropTypes.shape(t)}var r=e(26);i.PropTypes={link:s},t.exports=i},{26:26}],71:[function(e,t,n){var r=e(116),i=/\/?>/,s={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(i," "+s.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(s.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};t.exports=s},{116:116}],72:[function(e,t,n){function H(e,t){var n=Math.min(e.length,t.length);for(var r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function B(e){return e?e.nodeType===L?e.documentElement:e.firstChild:null}function j(e){var t=B(e);return t&&et.getID(t)}function F(e){var t=I(e);if(t)if(C.hasOwnProperty(t)){var n=C[t];n!==e&&(z(n,t)?w(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",N,t):undefined,C[t]=e)}else C[t]=e;return t}function I(e){return e&&e.getAttribute&&e.getAttribute(N)||""}function q(e,t){var n=I(e);n!==t&&delete C[n],e.setAttribute(N,t),C[t]=e}function R(e){if(!C.hasOwnProperty(e)||!z(C[e],e))C[e]=et.findReactNodeByID(e);return C[e]}function U(e){var t=l.get(e)._rootNodeID;if(a.isNullComponentID(t))return null;if(!C.hasOwnProperty(t)||!z(C[t],t))C[t]=et.findReactNodeByID(t);return C[t]}function z(e,t){if(e){I(e)!==t?w(!1,"ReactMount: Unexpected modification of `%s`",N):undefined;var n=et.findReactContainerForID(t);if(n&&y(n,e))return!0}return!1}function W(e){delete C[e]}function V(e){var t=C[e];if(!t||!z(t,e))return!1;X=t}function $(e){X=null,f.traverseAncestors(e,V);var t=X;return X=null,t}function J(e,t,n,r,i,s){o.useCreateElement&&(s=m({},s),n.nodeType===L?s[O]=n:s[O]=n.ownerDocument),s===g&&(s={});var u=n.nodeName.toLowerCase();s[x.ancestorInfoContextKey]=x.updatedAncestorInfo(null,u,null);var a=p.mountComponent(e,t,r,s);e._renderedComponent._topLevelWrapper=e,et._mountImageIntoNode(a,n,i,r)}function K(e,t,n,r,i){var s=v.ReactReconcileTransaction.getPooled(r);s.perform(J,null,e,t,n,s,r,i),v.ReactReconcileTransaction.release(s)}function Q(e,t){p.unmountComponent(e),t.nodeType===L&&(t=t.documentElement);while(t.lastChild)t.removeChild(t.lastChild)}function G(e){var t=j(e);return t?t!==f.getReactRootIDFromNodeID(t):!1}function Y(e){for(;e&&e.parentNode!==e;e=e.parentNode){if(e.nodeType!==1)continue;var t=I(e);if(!t)continue;var n=f.getReactRootIDFromNodeID(t),r=e,i;do{i=I(r),r=r.parentNode;if(r==null)return null}while(i!==n);if(r===_[n])return e}return null}var r=e(10),i=e(28),s=e(39),o=e(44),u=e(57),a=e(60),f=e(67),l=e(68),c=e(71),h=e(78),p=e(84),d=e(95),v=e(96),m=e(24),g=e(154),y=e(150),b=e(132),w=e(161),E=e(138),S=e(141),x=e(144),T=e(173),N=r.ID_ATTRIBUTE_NAME,C={},k=1,L=9,A=11,O="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),M={},_={},D={},P=[],X=null,Z=function(){};Z.prototype.isReactComponent={},Z.displayName="TopLevelWrapper",Z.prototype.render=function(){return this.props};var et={TopLevelWrapper:Z,_instancesByReactRootID:M,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return et.scrollMonitor(n,function(){d.enqueueElementInternal(e,t),r&&d.enqueueCallbackInternal(e,r)}),D[j(n)]=B(n),e},_registerComponent:function(e,t){!t||t.nodeType!==k&&t.nodeType!==L&&t.nodeType!==A?w(!1,"_registerComponent(...): Target container is not a DOM element."):undefined,i.ensureScrollValueMonitoring();var n=et.registerContainer(t);return M[n]=e,n},_renderNewRootComponent:function(e,t,n,r){T(s.current==null,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",s.current&&s.current.getName()||"ReactCompositeComponent");var i=b(e,null),o=et._registerComponent(i,t);return v.batchedUpdates(K,i,o,t,n,r),D[o]=B(t),i},renderSubtreeIntoContainer:function(e,t,n,r){return e==null||e._reactInternalInstance==null?w(!1,"parentComponent must be a valid React Component"):undefined,et._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){u.isValidElement(t)?undefined:w(!1,"ReactDOM.render(): Invalid component element.%s",typeof t=="string"?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":typeof t=="function"?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":t!=null&&t.props!==undefined?" This may be caused by unintentionally loading two independent copies of React.":""),T(!n||!n.tagName||n.tagName.toUpperCase()!=="BODY","render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var i=new u(Z,null,null,null,null,null,t),s=M[j(n)];if(s){var o=s._currentElement,a=o.props;if(S(a,t)){var f=s._renderedComponent.getPublicInstance(),l=r&&function(){r.call(f)};return et._updateRootComponent(s,i,n,l),f}et.unmountComponentAtNode(n)}var c=B(n),h=c&&!!I(c),p=G(n);T(!p,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render.");if(!h||c.nextSibling){var d=c;while(d){if(I(d)){T(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}d=d.nextSibling}}var v=h&&!s&&!p,m=et._renderNewRootComponent(i,n,v,e!=null?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):g)._renderedComponent.getPublicInstance();return r&&r.call(m),m},render:function(e,t,n){return et._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=j(e);return t&&(t=f.getReactRootIDFromNodeID(t)),t||(t=f.createReactRootID()),_[t]=e,t},unmountComponentAtNode:function(e){T(s.current==null,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",s.current&&s.current.getName()||"ReactCompositeComponent"),!e||e.nodeType!==k&&e.nodeType!==L&&e.nodeType!==A?w(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):undefined;var t=j(e),n=M[t];if(!n){var r=G(e),i=I(e),o=i&&i===f.getReactRootIDFromNodeID(i);return T(!r,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return v.batchedUpdates(Q,n,e),delete M[t],delete _[t],delete D[t],!0},findReactContainerForID:function(e){var t=f.getReactRootIDFromNodeID(e),n=_[t],r=D[t];if(r&&r.parentNode!==n){T(I(r)===t,"ReactMount: Root element ID differed from reactRootID.");var i=n.firstChild;i&&t===I(i)?D[t]=i:T(!1,"ReactMount: Root element has been removed from its original container. New container: %s",r.parentNode)}return n},findReactNodeByID:function(e){var t=et.findReactContainerForID(e);return et.findComponentRoot(t,e)},getFirstReactDOM:function(e){return Y(e)},findComponentRoot:function(e,t){var n=P,r=0,i=$(t)||e;T(i!=null,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",t),n[0]=i.firstChild,n.length=1;while(r<n.length){var s=n[r++],o;while(s){var u=et.getID(s);u?t===u?o=s:f.isAncestorIDOf(u,t)&&(n.length=r=0,n.push(s.firstChild)):n.push(s.firstChild),s=s.nextSibling}if(o)return n.length=0,o}n.length=0,w(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,et.getID(e))},_mountImageIntoNode:function(e,t,n,r){!t||t.nodeType!==k&&t.nodeType!==L&&t.nodeType!==A?w(!1,"mountComponentIntoNode(...): Target container is not valid."):undefined;if(n){var i=B(t);if(c.canReuseMarkup(e,i))return;var s=i.getAttribute(c.CHECKSUM_ATTR_NAME);i.removeAttribute(c.CHECKSUM_ATTR_NAME);var o=i.outerHTML;i.setAttribute(c.CHECKSUM_ATTR_NAME,s);var u=e,a;t.nodeType===k?(a=document.createElement("div"),a.innerHTML=e,u=a.innerHTML):(a=document.createElement("iframe"),document.body.appendChild(a),a.contentDocument.write(e),u=a.contentDocument.documentElement.outerHTML,document.body.removeChild(a));var f=H(u,o),l=" (client) "+u.substring(f-20,f+20)+"\n (server) "+o.substring(f-20,f+20);t.nodeType===L?w(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",l):undefined,T(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",l)}t.nodeType===L?w(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):undefined;if(r.useCreateElement){while(t.lastChild)t.removeChild(t.lastChild);t.appendChild(e)}else E(t,e)},ownerDocumentContextKey:O,getReactRootID:j,getID:F,setID:q,getNode:R,getNodeFromInstance:U,isValid:z,purgeID:W};h.measureMethods(et,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=et},{10:10,132:132,138:138,141:141,144:144,150:150,154:154,161:161,173:173,24:24,28:28,39:39,44:44,57:57,60:60,67:67,68:68,71:71,78:78,84:84,95:95,96:96}],73:[function(e,t,n){function h(e,t,n){l.push({parentID:e,parentNode:null,type:i.INSERT_MARKUP,markupIndex:c.push(t)-1,content:null,fromIndex:null,toIndex:n})}function p(e,t,n){l.push({parentID:e,parentNode:null,type:i.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function d(e,t){l.push({parentID:e,parentNode:null,type:i.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function v(e,t){l.push({parentID:e,parentNode:null,type:i.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function m(e,t){l.push({parentID:e,parentNode:null,type:i.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function g(){l.length&&(r.processChildrenUpdates(l,c),y())}function y(){l.length=0,c.length=0}var r=e(36),i=e(74),s=e(39),o=e(84),u=e(31),a=e(123),f=0,l=[],c=[],b={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){if(this._currentElement)try{return s.current=this._currentElement._owner,u.instantiateChildren(e,t,n)}finally{s.current=null}return u.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var i;if(this._currentElement){try{s.current=this._currentElement._owner,i=a(t)}finally{s.current=null}return u.updateChildren(e,i,n,r)}return i=a(t),u.updateChildren(e,i,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],s=0;for(var u in r)if(r.hasOwnProperty(u)){var a=r[u],f=this._rootNodeID+u,l=o.mountComponent(a,f,t,n);a._mountIndex=s++,i.push(l)}return i},updateTextContent:function(e){f++;var t=!0;try{var n=this._renderedChildren;u.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{f--,f||(t?y():g())}},updateMarkup:function(e){f++;var t=!0;try{var n=this._renderedChildren;u.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{f--,f||(t?y():g())}},updateChildren:function(e,t,n){f++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{f--,f||(r?y():g())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,i=this._reconcilerUpdateChildren(r,e,t,n);this._renderedChildren=i;if(!i&&!r)return;var s,o=0,u=0;for(s in i){if(!i.hasOwnProperty(s))continue;var a=r&&r[s],f=i[s];a===f?(this.moveChild(a,u,o),o=Math.max(a._mountIndex,o),a._mountIndex=u):(a&&(o=Math.max(a._mountIndex,o),this._unmountChild(a)),this._mountChildByNameAtIndex(f,s,u,t,n)),u++}for(s in r)r.hasOwnProperty(s)&&(!i||!i.hasOwnProperty(s))&&this._unmountChild(r[s])},unmountChildren:function(){var e=this._renderedChildren;u.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&p(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){h(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){d(this._rootNodeID,e._mountIndex)},setTextContent:function(e){m(this._rootNodeID,e)},setMarkup:function(e){v(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,i){var s=this._rootNodeID+t,u=o.mountComponent(e,s,r,i);e._mountIndex=n,this.createChild(e,u)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=b},{123:123,31:31,36:36,39:39,74:74,84:84}],74:[function(e,t,n){var r=e(165),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=i},{165:165}],75:[function(e,t,n){function l(e){if(typeof e.type=="function")return e.type;var t=e.type,n=u[t];return n==null&&(u[t]=n=s(t)),n}function c(e){return o?undefined:i(!1,"There is no registered component for the tag %s",e.type),new o(e.type,e.props)}function h(e){return new a(e)}function p(e){return e instanceof a}var r=e(24),i=e(161),s=null,o=null,u={},a=null,f={injectGenericComponentClass:function(e){o=e},injectTextComponentClass:function(e){a=e},injectComponentClasses:function(e){r(u,e)}},d={getComponentClassForElement:l,createInternalComponent:c,createInstanceForText:h,isTextComponent:p,injection:f};t.exports=d},{161:161,24:24}],76:[function(e,t,n){function i(e,t){r(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor&&e.constructor.displayName||"")}var r=e(173),s={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){i(e,"forceUpdate")},enqueueReplaceState:function(e,t){i(e,"replaceState")},enqueueSetState:function(e,t){i(e,"setState")},enqueueSetProps:function(e,t){i(e,"setProps")},enqueueReplaceProps:function(e,t){i(e,"replaceProps")}};t.exports=s},{173:173}],77:[function(e,t,n){var r=e(161),i={isValidOwner:function(e){return!!e&&typeof e.attachRef=="function"&&typeof e.detachRef=="function"},addComponentAsRefTo:function(e,t,n){i.isValidOwner(n)?undefined:r(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i.isValidOwner(n)?undefined:r(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=i},{161:161}],78:[function(e,t,n){function i(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:i,measureMethods:function(e,t,n){for(var i in n){if(!n.hasOwnProperty(i))continue;e[i]=r.measure(t,n[i],e[i])}},measure:function(e,t,n){var i=null,s=function(){return r.enableMeasure?(i||(i=r.storedMeasure(e,t,n)),i.apply(this,arguments)):n.apply(this,arguments)};return s.displayName=e+"_"+t,s},injection:{injectMeasure:function(e){r.storedMeasure=e}}};t.exports=r},{}],79:[function(e,t,n){function o(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function f(e,t){for(var n in t){if(!t.hasOwnProperty(n))continue;var r=a[n];r&&a.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var r=e(24),i=e(153),s=e(164),u=o(function(e,t){return r({},t,e)}),a={children:i,className:o(s),style:u},l={mergeProps:function(e,t){return f(r({},e),t)}};t.exports=l},{153:153,164:164,24:24}],80:[function(e,t,n){var r={};r={prop:"prop",context:"context",childContext:"child context"},t.exports=r},{}],81:[function(e,t,n){var r=e(165),i=r({prop:null,context:null,childContext:null});t.exports=i},{165:165}],82:[function(e,t,n){function f(e){function t(t,n,r,s,o,a){s=s||u,a=a||r;if(n[r]==null){var f=i[o];return t?new Error("Required "+f+" `"+a+"` was not specified in "+("`"+s+"`.")):null}return e(n,r,s,o,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function l(e){function t(t,n,r,s,o){var u=t[n],a=E(u);if(a!==e){var f=i[s],l=S(u);return new Error("Invalid "+f+" `"+o+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return f(t)}function c(){return f(s.thatReturns(null))}function h(e){function t(t,n,r,s,o){var u=t[n];if(!Array.isArray(u)){var a=i[s],f=E(u);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+f+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<u.length;l++){var c=e(u,l,r,s,o+"["+l+"]");if(c instanceof Error)return c}return null}return f(t)}function p(){function e(e,t,n,s,o){if(!r.isValidElement(e[t])){var u=i[s];return new Error("Invalid "+u+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return f(e)}function d(e){function t(t,n,r,s,o){if(t[n]instanceof e)return null;var a=i[s],f=e.name||u,l=x(t[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+f+"`."))}return f(t)}function v(e){function t(t,n,r,s,o){var u=t[n];for(var a=0;a<e.length;a++)if(u===e[a])return null;var f=i[s],l=JSON.stringify(e);return new Error("Invalid "+f+" `"+o+"` of value `"+u+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return Array.isArray(e)?f(t):f(function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function m(e){function t(t,n,r,s,o){var u=t[n],a=E(u);if(a!=="object"){var f=i[s];return new Error("Invalid "+f+" `"+o+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an object."))}for(var l in u)if(u.hasOwnProperty(l)){var c=e(u,l,r,s,o+"."+l);if(c instanceof Error)return c}return null}return f(t)}function g(e){function t(t,n,r,s,o){for(var u=0;u<e.length;u++){var a=e[u];if(a(t,n,r,s,o)==null)return null}var f=i[s];return new Error("Invalid "+f+" `"+o+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?f(t):f(function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function y(){function e(e,t,n,r,s){if(!w(e[t])){var o=i[r];return new Error("Invalid "+o+" `"+s+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return f(e)}function b(e){function t(t,n,r,s,o){var u=t[n],a=E(u);if(a!=="object"){var f=i[s];return new Error("Invalid "+f+" `"+o+"` of type `"+a+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(!c)continue;var h=c(u,l,r,s,o+"."+l);if(h)return h}return null}return f(t)}function w(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(w);if(e===null||r.isValidElement(e))return!0;var t=o(e);if(!t)return!1;var n=t.call(e),i;if(t!==e.entries){while(!(i=n.next()).done)if(!w(i.value))return!1}else while(!(i=n.next()).done){var s=i.value;if(s&&!w(s[1]))return!1}return!0;default:return!1}}function E(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function S(e){var t=E(e);if(t==="object"){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){return!e.constructor||!e.constructor.name?"<<anonymous>>":e.constructor.name}var r=e(57),i=e(80),s=e(153),o=e(129),u="<<anonymous>>",a={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),any:c(),arrayOf:h,element:p(),instanceOf:d,node:y(),objectOf:m,oneOf:v,oneOfType:g,shape:b};t.exports=a},{129:129,153:153,57:57,80:80}],83:[function(e,t,n){function d(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=!e&&o.useCreateElement}var r=e(6),i=e(25),s=e(28),o=e(44),u=e(66),a=e(113),f=e(24),l={initialize:u.getSelectionInformation,close:u.restoreSelection},c={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p=[l,c,h],v={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};f(d.prototype,a.Mixin,v),i.addPoolingTo(d),t.exports=d},{113:113,24:24,25:25,28:28,44:44,6:6,66:66}],84:[function(e,t,n){function i(){r.attachRefs(this,this._currentElement)}var r=e(85),s={mountComponent:function(e,t,n,r){var s=e.mountComponent(t,n,r);return e._currentElement&&e._currentElement.ref!=null&&n.getReactMountReady().enqueue(i,e),s},unmountComponent:function(e){r.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,s){var o=e._currentElement;if(t===o&&s===e._context)return;var u=r.shouldUpdateRefs(o,t);u&&r.detachRefs(e,o),e.receiveComponent(t,n,s),u&&e._currentElement&&e._currentElement.ref!=null&&n.getReactMountReady().enqueue(i,e)},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=s},{85:85}],85:[function(e,t,n){function s(e,t,n){typeof e=="function"?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}function o(e,t,n){typeof e=="function"?e(null):r.removeComponentAsRefFrom(t,e,n)}var r=e(77),i={};i.attachRefs=function(e,t){if(t===null||t===!1)return;var n=t.ref;n!=null&&s(n,e,t._owner)},i.shouldUpdateRefs=function(e,t){var n=e===null||e===!1,r=t===null||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},i.detachRefs=function(e,t){if(t===null||t===!1)return;var n=t.ref;n!=null&&o(n,e,t._owner)},t.exports=i},{77:77}],86:[function(e,t,n){var r={injectCreateReactRootIndex:function(e){i.createReactRootIndex=e}},i={createReactRootIndex:null,injection:r};t.exports=i},{}],87:[function(e,t,n){var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],88:[function(e,t,n){function p(e){i.isValidElement(e)?undefined:h(!1,"renderToString(): You must pass a valid ReactElement.");var t;try{f.injection.injectBatchingStrategy(u);var n=s.createReactRootID();return t=a.getPooled(!1),t.perform(function(){var r=c(e,null),i=r.mountComponent(n,t,l);return o.addChecksumToMarkup(i)},null)}finally{a.release(t),f.injection.injectBatchingStrategy(r)}}function d(e){i.isValidElement(e)?undefined:h(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");var t;try{f.injection.injectBatchingStrategy(u);var n=s.createReactRootID();return t=a.getPooled(!0),t.perform(function(){var r=c(e,null);return r.mountComponent(n,t,l)},null)}finally{a.release(t),f.injection.injectBatchingStrategy(r)}}var r=e(53),i=e(57),s=e(67),o=e(71),u=e(87),a=e(89),f=e(96),l=e(154),c=e(132),h=e(161);t.exports={renderToString:p,renderToStaticMarkup:d}},{132:132,154:154,161:161,53:53,57:57,67:67,71:71,87:87,89:89,96:96}],89:[function(e,t,n){function l(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=i.getPooled(null),this.useCreateElement=!1}var r=e(25),i=e(6),s=e(113),o=e(24),u=e(153),a={initialize:function(){this.reactMountReady.reset()},close:u},f=[a],c={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(l.prototype,s.Mixin,c),r.addPoolingTo(l),t.exports=l},{113:113,153:153,24:24,25:25,6:6}],90:[function(e,t,n){function i(e,t){var n={};return function(i){n[t]=i,e.setState(n)}}var r={createStateSetter:function(e,t){return function(n,r,i,s,o,u){var a=t.call(e,n,r,i,s,o,u);a&&e.setState(a)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=i(e,t))}};r.Mixin={createStateSetter:function(e){return r.createStateSetter(this,e)},createStateKeySetter:function(e){return r.createStateKeySetter(this,e)}},t.exports=r},{}],91:[function(e,t,n){function E(e){}function S(e,t){if(!e||!e.getPublicInstance)return[];var n=e.getPublicInstance(),r=t(n)?[n]:[],i=e._currentElement;if(x.isDOMComponent(n)){var s=e._renderedChildren,o;for(o in s){if(!s.hasOwnProperty(o))continue;r=r.concat(S(s[o],t))}}else a.isValidElement(i)&&typeof i.type=="function"&&(r=r.concat(S(e._renderedComponent,t)));return r}function k(e,t,n){var r=d.ReactReconcileTransaction.getPooled(!1);e._render(t,r,n),d.ReactReconcileTransaction.release(r)}function L(e){return function(t,n){var r;x.isDOMComponent(t)?r=y(t):t.tagName&&(r=t);var o=f.eventNameDispatchConfigs[e],u=new E;u.target=r;var a=new v(o,p.getID(r),u,r);m(a,n),o.phasedRegistrationNames?s.accumulateTwoPhaseDispatches(a):s.accumulateDirectDispatches(a),d.batchedUpdates(function(){i.enqueueEvents(a),i.processEventQueue(!0)})}}function A(){x.Simulate={};var e;for(e in f.eventNameDispatchConfigs)x.Simulate[e]=L(e)}function _(e){return function(t,n){var r=new E(e);m(r,n),x.isDOMComponent(t)?x.simulateNativeEventOnDOMComponent(e,t,r):t.tagName&&x.simulateNativeEventOnNode(e,t,r)}}var r=e(15),i=e(16),s=e(19),o=e(26),u=e(40),a=e(57),f=e(28),l=e(38),c=e(67),h=e(68),p=e(72),d=e(96),v=e(105),m=e(24),g=e(154),y=e(122),b=e(161),w=r.topLevelTypes,x={renderIntoDocument:function(e){var t=document.createElement("div");return u.render(e,t)},isElement:function(e){return a.isValidElement(e)},isElementOfType:function(e,t){return a.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!!e&&e.nodeType===1&&!!e.tagName},isDOMComponentElement:function(e){return!(!e||!a.isValidElement(e)||!e.tagName)},isCompositeComponent:function(e){return x.isDOMComponent(e)?!1:e!=null&&typeof e.render=="function"&&typeof e.setState=="function"},isCompositeComponentWithType:function(e,t){if(!x.isCompositeComponent(e))return!1;var n=h.get(e),r=n._currentElement.type;return r===t},isCompositeComponentElement:function(e){if(!a.isValidElement(e))return!1;var t=e.type.prototype;return typeof t.render=="function"&&typeof t.setState=="function"},isCompositeComponentElementWithType:function(e,t){var n=h.get(e),r=n._currentElement.type;return!!x.isCompositeComponentElement(e)&&r===t},getRenderedChildOfCompositeComponent:function(e){if(!x.isCompositeComponent(e))return null;var t=h.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){return e?(x.isCompositeComponent(e)?undefined:b(!1,"findAllInRenderedTree(...): instance must be a composite component"),S(h.get(e),t)):[]},scryRenderedDOMComponentsWithClass:function(e,t){return Array.isArray(t)||(t=t.split(/\s+/)),x.findAllInRenderedTree(e,function(e){if(x.isDOMComponent(e)){var n=e.className;typeof n!="string"&&(n=e.getAttribute("class")||"");var r=n.split(/\s+/);return t.every(function(e){return r.indexOf(e)!==-1})}return!1})},findRenderedDOMComponentWithClass:function(e,t){var n=x.scryRenderedDOMComponentsWithClass(e,t);if(n.length!==1)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return x.findAllInRenderedTree(e,function(e){return x.isDOMComponent(e)&&e.tagName.toUpperCase()===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=x.scryRenderedDOMComponentsWithTag(e,t);if(n.length!==1)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return x.findAllInRenderedTree(e,function(e){return x.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=x.scryRenderedComponentsWithType(e,t);if(n.length!==1)throw new Error("Did not find exactly one match for componentType:"+t+" (found "+n.length+")");return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return o.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,f.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){x.simulateNativeEventOnNode(e,y(t),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new T},Simulate:null,SimulateNative:{}},T=function(){this._instance=null};T.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var N=function(e){this._renderedOutput=e,this._currentElement=e};N.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=e},unmountComponent:function(){},getPublicInstance:function(){return null}};var C=function(){};m(C.prototype,l.Mixin,{_instantiateReactComponent:function(e){return new N(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:l.Mixin._renderValidatedComponentWithoutOwnerOrContext}),T.prototype.render=function(e,t){a.isValidElement(e)?undefined:b(!1,"ReactShallowRenderer render(): Invalid component element.%s",typeof e=="function"?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":""),typeof e.type=="string"?b(!1,"ReactShallowRenderer render(): Shallow rendering works only with custom components, not primitives (%s). Instead of calling `.render(el)` and inspecting the rendered output, look at `el.props` directly instead.",e.type):undefined,t||(t=g),d.batchedUpdates(k,this,e,t)},T.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},T.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var r=c.createReactRootID(),i=new C(e.type);i.construct(e),i.mountComponent(r,t,n),this._instance=i}};var O=i.injection.injectEventPluginOrder;i.injection.injectEventPluginOrder=function(){O.apply(this,arguments),A()};var M=i.injection.injectEventPluginsByName;i.injection.injectEventPluginsByName=function(){M.apply(this,arguments),A()},A(),Object.keys(w).forEach(function(e){var t=e.indexOf("top")===0?e.charAt(3).toLowerCase()+e.substr(4):e;x.SimulateNative[t]=_(e)}),t.exports=x},{105:105,122:122,15:15,154:154,16:16,161:161,19:19,24:24,26:26,28:28,38:38,40:40,57:57,67:67,68:68,72:72,96:96}],92:[function(e,t,n){var r=e(123),i={getChildMapping:function(e){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var s in e)t.hasOwnProperty(s)?i.length&&(r[s]=i,i=[]):i.push(s);var o,u={};for(var a in t){if(r.hasOwnProperty(a))for(o=0;o<r[a].length;o++){var f=r[a][o];u[r[a][o]]=n(f)}u[a]=n(a)}for(o=0;o<i.length;o++)u[i[o]]=n(i[o]);return u}};t.exports=i},{123:123}],93:[function(e,t,n){function o(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete i.animationend.animation,"TransitionEvent"in window||delete i.transitionend.transition;for(var n in i){var r=i[n];for(var o in r)if(o in t){s.push(r[o]);break}}}function u(e,t,n){e.addEventListener(t,n,!1)}function a(e,t,n){e.removeEventListener(t,n,!1)}var r=e(147),i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];r.canUseDOM&&o();var f={addEndEventListener:function(e,t){if(s.length===0){window.setTimeout(t,0);return}s.forEach(function(n){u(e,n,t)})},removeEndEventListener:function(e,t){if(s.length===0)return;s.forEach(function(n){a(e,n,t)})}};t.exports=f},{147:147}],94:[function(e,t,n){var r=e(26),i=e(92),s=e(24),o=e(153),u=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:o.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=i.getChildMapping(e.children),n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var s=n&&n.hasOwnProperty(r);t[r]&&!s&&!this.currentlyTransitioningKeys[r]&&this.keysToEnter.push(r)}for(r in n){var o=t&&t.hasOwnProperty(r);n[r]&&!o&&!this.currentlyTransitioningKeys[r]&&this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);(!n||!n.hasOwnProperty(e))&&this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);(!n||!n.hasOwnProperty(e))&&this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=s({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(r.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}return r.createElement(this.props.component,this.props,e)}});t.exports=u},{153:153,24:24,26:26,92:92}],95:[function(e,t,n){function l(e){o.enqueueUpdate(e)}function c(e,t){var n=s.get(e);return n?(f(r.current==null,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t),n):(f(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor.displayName),null)}var r=e(39),i=e(57),s=e(68),o=e(96),u=e(24),a=e(161),f=e(173),h={isMounted:function(e){var t=r.current;t!==null&&(f(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var n=s.get(e);return n?!!n._renderedComponent:!1},enqueueCallback:function(e,t){typeof t!="function"?a(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):undefined;var n=c(e);if(!n)return null;n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],l(n)},enqueueCallbackInternal:function(e,t){typeof t!="function"?a(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):undefined,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],l(e)},enqueueForceUpdate:function(e){var t=c(e,"forceUpdate");if(!t)return;t._pendingForceUpdate=!0,l(t)},enqueueReplaceState:function(e,t){var n=c(e,"replaceState");if(!n)return;n._pendingStateQueue=[t],n._pendingReplaceState=!0,l(n)},enqueueSetState:function(e,t){var n=c(e,"setState");if(!n)return;var r=n._pendingStateQueue||(n._pendingStateQueue=[]);r.push(t),l(n)},enqueueSetProps:function(e,t){var n=c(e,"setProps");if(!n)return;h.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?undefined:a(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var r=n._pendingElement||n._currentElement,s=r.props,o=u({},s.props,t);n._pendingElement=i.cloneAndReplaceProps(r,i.cloneAndReplaceProps(s,o)),l(n)},enqueueReplaceProps:function(e,t){var n=c(e,"replaceProps");if(!n)return;h.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?undefined:a(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var r=n._pendingElement||n._currentElement,s=r.props;n._pendingElement=i.cloneAndReplaceProps(r,i.cloneAndReplaceProps(s,t)),l(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,l(e)}};t.exports=h},{161:161,173:173,24:24,39:39,57:57,68:68,96:96}],96:[function(e,t,n){function d(){!C.ReactReconcileTransaction||!p?f(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):undefined}function y(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=r.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled(!1)}function b(e,t,n,r,i,s){d(),p.batchedUpdates(e,t,n,r,i,s)}function w(e,t){return e._mountOrder-t._mountOrder}function E(e){var t=e.dirtyComponentsLength;t!==l.length?f(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,l.length):undefined,l.sort(w);for(var n=0;n<t;n++){var r=l[n],i=r._pendingCallbacks;r._pendingCallbacks=null,o.performUpdateIfNecessary(r,e.reconcileTransaction);if(i)for(var s=0;s<i.length;s++)e.callbackQueue.enqueue(i[s],r.getPublicInstance())}}function x(e){d();if(!p.isBatchingUpdates){p.batchedUpdates(x,e);return}l.push(e)}function T(e,t){p.isBatchingUpdates?undefined:f(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),c.enqueue(e,t),h=!0}var r=e(6),i=e(25),s=e(78),o=e(84),u=e(113),a=e(24),f=e(161),l=[],c=r.getPooled(),h=!1,p=null,v={initialize:function(){this.dirtyComponentsLength=l.length},close:function(){this.dirtyComponentsLength!==l.length?(l.splice(0,this.dirtyComponentsLength),S()):l.length=0}},m={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},g=[v,m];a(y.prototype,u.Mixin,{getTransactionWrappers:function(){return g},destructor:function(){this.dirtyComponentsLength=null,r.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return u.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),i.addPoolingTo(y);var S=function(){while(l.length||h){if(l.length){var e=y.getPooled();e.perform(E,null,e),y.release(e)}if(h){h=!1;var t=c;c=r.getPooled(),t.notifyAll(),r.release(t)}}};S=s.measure("ReactUpdates","flushBatchedUpdates",S);var N={injectReconcileTransaction:function(e){e?undefined:f(!1,"ReactUpdates: must provide a reconcile transaction class"),C.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?undefined:f(!1,"ReactUpdates: must provide a batching strategy"),typeof e.batchedUpdates!="function"?f(!1,"ReactUpdates: must provide a batchedUpdates() function"):undefined,typeof e.isBatchingUpdates!="boolean"?f(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):undefined,p=e}},C={ReactReconcileTransaction:null,batchedUpdates:b,enqueueUpdate:x,flushBatchedUpdates:S,injection:N,asap:T};t.exports=C},{113:113,161:161,24:24,25:25,6:6,78:78,84:84}],97:[function(e,t,n){t.exports="0.14.8"},{}],98:[function(e,t,n){var r=e(10),i=r.injection.MUST_USE_ATTRIBUTE,s={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:i,xmlLang:i,xmlSpace:i,y1:i,y2:i,y:i},DOMAttributeNamespaces:{xlinkActuate:s.xlink,xlinkArcrole:s.xlink,xlinkHref:s.xlink,xlinkRole:s.xlink,xlinkShow:s.xlink,xlinkTitle:s.xlink,xlinkType:s.xlink,xmlBase:s.xml,xmlLang:s.xml,xmlSpace:s.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=o},{10:10}],99:[function(e,t,n){function E(e){if("selectionStart"in e&&o.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function S(e,t){if(y||v==null||v!==a())return null;var n=E(v);if(!g||!c(g,n)){g=n;var r=u.getPooled(d.select,m,e,t);return r.type="select",r.target=v,i.accumulateTwoPhaseDispatches(r),r}return null}var r=e(15),i=e(19),s=e(147),o=e(66),u=e(105),a=e(156),f=e(134),l=e(166),c=e(171),h=r.topLevelTypes,p=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,d={select:{phasedRegistrationNames:{bubbled:l({onSelect:null}),captured:l({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},v=null,m=null,g=null,y=!1,b=!1,w=l({onSelect:null}),x={eventTypes:d,extractEvents:function(e,t,n,r,i){if(!b)return null;switch(e){case h.topFocus:if(f(t)||t.contentEditable==="true")v=t,m=n,g=null;break;case h.topBlur:v=null,m=null,g=null;break;case h.topMouseDown:y=!0;break;case h.topContextMenu:case h.topMouseUp:return y=!1,S(r,i);case h.topSelectionChange:if(p)break;case h.topKeyDown:case h.topKeyUp:return S(r,i)}return null},didPutListener:function(e,t,n){t===w&&(b=!0)}};t.exports=x},{105:105,134:134,147:147,15:15,156:156,166:166,171:171,19:19,66:66}],100:[function(e,t,n){var r=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=i},{}],101:[function(e,t,n){var r=e(15),i=e(146),s=e(19),o=e(72),u=e(102),a=e(105),f=e(106),l=e(108),c=e(109),h=e(104),p=e(110),d=e(111),v=e(112),m=e(153),g=e(125),y=e(161),b=e(166),w=r.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},S={topAbort:E.abort,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var x in S)S[x].dependencies=[x];var T=b({onClick:null}),N={},C={eventTypes:E,extractEvents:function(e,t,n,r,i){var o=S[e];if(!o)return null;var m;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:m=a;break;case w.topKeyPress:if(g(r)===0)return null;case w.topKeyDown:case w.topKeyUp:m=l;break;case w.topBlur:case w.topFocus:m=f;break;case w.topClick:if(r.button===2)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:m=c;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:m=h;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:m=p;break;case w.topScroll:m=d;break;case w.topWheel:m=v;break;case w.topCopy:case w.topCut:case w.topPaste:m=u}m?undefined:y(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var b=m.getPooled(o,n,r,i);return s.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if(t===T){var r=o.getNode(e);N[e]||(N[e]=i.listen(r,"click",m))}},willDeleteListener:function(e,t){t===T&&(N[e].remove(),delete N[e])}};t.exports=C},{102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,125:125,146:146,15:15,153:153,161:161,166:166,19:19,72:72}],102:[function(e,t,n){function s(e,t,n,i){r.call(this,e,t,n,i)}var r=e(105),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(s,i),t.exports=s},{105:105}],103:[function(e,t,n){function s(e,t,n,i){r.call(this,e,t,n,i)}var r=e(105),i={data:null};r.augmentClass(s,i),t.exports=s},{105:105}],104:[function(e,t,n){function s(e,t,n,i){r.call(this,e,t,n,i)}var r=e(109),i={dataTransfer:null};r.augmentClass(s,i),t.exports=s},{109:109}],105:[function(e,t,n){function a(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i){if(!i.hasOwnProperty(o))continue;var u=i[o];u?this[o]=u(n):o==="target"?this.target=r:this[o]=n[o]}var a=n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1;a?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var r=e(25),i=e(24),s=e(153),o=e(173),u={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;o(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information.");if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;o(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information.");if(!e)return;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),a.Interface=u,a.augmentClass=function(e,t){var n=this,s=Object.create(n.prototype);i(s,e.prototype),e.prototype=s,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.fourArgumentPooler)},r.addPoolingTo(a,r.fourArgumentPooler),t.exports=a},{153:153,173:173,24:24,25:25}],106:[function(e,t,n){function s(e,t,n,i){r.call(this,e,t,n,i)}var r=e(111),i={relatedTarget:null};r.augmentClass(s,i),t.exports=s},{111:111}],107:[function(e,t,n){function s(e,t,n,i){r.call(this,e,t,n,i)}var r=e(105),i={data:null};r.augmentClass(s,i),t.exports=s},{105:105}],108:[function(e,t,n){function a(e,t,n,i){r.call(this,e,t,n,i)}var r=e(111),i=e(125),s=e(126),o=e(127),u={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:o,charCode:function(e){return e.type==="keypress"?i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}};r.augmentClass(a,u),t.exports=a},{111:111,125:125,126:126,127:127}],109:[function(e,t,n){function u(e,t,n,i){r.call(this,e,t,n,i)}var r=e(111),i=e(114),s=e(127),o={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(e){var t=e.button;return"which"in e?t:t===2?2:t===4?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};r.augmentClass(u,o),t.exports=u},{111:111,114:114,127:127}],110:[function(e,t,n){function o(e,t,n,i){r.call(this,e,t,n,i)}var r=e(111),i=e(127),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};r.augmentClass(o,s),t.exports=o},{111:111,127:127}],111:[function(e,t,n){function o(e,t,n,i){r.call(this,e,t,n,i)}var r=e(105),i=e(128),s={view:function(e){if(e.view)return e.view;var t=i(e);if(t!=null&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(o,s),t.exports=o},{105:105,128:128}],112:[function(e,t,n){function s(e,t,n,i){r.call(this,e,t,n,i)}var r=e(109),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(s,i),t.exports=s},{109:109}],113:[function(e,t,n){var r=e(161),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,s,o,u,a){this.isInTransaction()?r(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):undefined;var f,l;try{this._isInTransaction=!0,f=!0,this.initializeAll(0),l=e.call(t,n,i,s,o,u,a),f=!1}finally{try{if(f)try{this.closeAll(0)}catch(c){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){var t=this.transactionWrappers;for(var n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=s.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===s.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(e){this.isInTransaction()?undefined:r(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");var t=this.transactionWrappers;for(var n=e;n<t.length;n++){var i=t[n],o=this.wrapperInitData[n],u;try{u=!0,o!==s.OBSERVED_ERROR&&i.close&&i.close.call(this,o),u=!1}finally{if(u)try{this.closeAll(n+1)}catch(a){}}}this.wrapperInitData.length=0}},s={Mixin:i,OBSERVED_ERROR:{}};t.exports=s},{161:161}],114:[function(e,t,n){var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],115:[function(e,t,n){function i(e,t){t==null?r(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):undefined;if(e==null)return t;var n=Array.isArray(e),i=Array.isArray(t);return n&&i?(e.push.apply(e,t),e):n?(e.push(t),e):i?[e].concat(t):[e,t]}var r=e(161);t.exports=i},{161:161}],116:[function(e,t,n){function i(e){var t=1,n=0,i=0,s=e.length,o=s&-4;while(i<o){for(;i<Math.min(i+4096,o);i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<s;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;t.exports=i},{}],117:[function(e,t,n){var r=!1;try{Object.defineProperty({},"x",{get:function(){}}),r=!0}catch(i){}t.exports=r},{}],118:[function(e,t,n){function f(e,t){o(a,"cloneWithProps(...) is deprecated. Please use React.cloneElement instead."),a=!0,o(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var n=i.mergeProps(t,e.props);return!n.hasOwnProperty(u)&&e.props.hasOwnProperty(u)&&(n.children=e.props.children),r.createElement(e.type,n)}var r=e(57),i=e(79),s=e(166),o=e(173),u=s({children:null}),a=!1;t.exports=f},{166:166,173:173,57:57,79:79}],119:[function(e,t,n){function s(e,t){var n=t==null||typeof t=="boolean"||t==="";if(n)return"";var r=isNaN(t);return r||t===0||i.hasOwnProperty(e)&&i[e]?""+t:(typeof t=="string"&&(t=t.trim()),t+"px")}var r=e(4),i=r.isUnitlessNumber;t.exports=s},{4:4}],120:[function(e,t,n){function s(e,t,n,s,o){var u=!1,a=function(){return i(u,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",e,t,e,n),u=!0,o.apply(s,arguments)};return r(a,o)}var r=e(24),i=e(173);t.exports=s},{173:173,24:24}],121:[function(e,t,n){function s(e){return r[e]}function o(e){return(""+e).replace(i,s)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;t.exports=o},{}],122:[function(e,t,n){function a(e){var t=r.current;t!==null&&(u(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);if(e==null)return null;if(e.nodeType===1)return e;if(i.has(e))return s.getNodeFromInstance(e);e.render!=null&&typeof e.render=="function"?o(!1,"findDOMNode was called on an unmounted component."):undefined,o(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e))}var r=e(39),i=e(68),s=e(72),o=e(161),u=e(173);t.exports=a},{161:161,173:173,39:39,68:68,72:72}],123:[function(e,t,n){function s(e,t,n){var r=e,s=r[n]===undefined;i(s,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),s&&t!=null&&(r[n]=t)}function o(e){if(e==null)return e;var t={};return r(e,s,t),t}var r=e(142),i=e(173);t.exports=o},{142:142,173:173}],124:[function(e,t,n){var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],125:[function(e,t,n){function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,t===0&&n===13&&(t=13)):t=n,t>=32||t===13?t:0}t.exports=r},{}],126:[function(e,t,n){function o(e){if(e.key){var t=i[e.key]||e.key;if(t!=="Unidentified")return t}if(e.type==="keypress"){var n=r(e);return n===13?"Enter":String.fromCharCode(n)}return e.type==="keydown"||e.type==="keyup"?s[e.keyCode]||"Unidentified":""}var r=e(125),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=o},{125:125}],127:[function(e,t,n){function i(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=r[e];return i?!!n[i]:!1}function s(e){return i}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=s},{}],128:[function(e,t,n){function r(e){var t=e.target||e.srcElement||window;return t.nodeType===3?t.parentNode:t}t.exports=r},{}],129:[function(e,t,n){function s(e){var t=e&&(r&&e[r]||e[i]);if(typeof t=="function")return t}var r=typeof Symbol=="function"&&Symbol.iterator,i="@@iterator";t.exports=s},{}],130:[function(e,t,n){function r(e){while(e&&e.firstChild)e=e.firstChild;return e}function i(e){while(e){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function s(e,t){var n=r(e),s=0,o=0;while(n){if(n.nodeType===3){o=s+n.textContent.length;if(s<=t&&o>=t)return{node:n,offset:t-s};s=o}n=r(i(n))}}t.exports=s},{}],131:[function(e,t,n){function s(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var r=e(147),i=null;t.exports=s},{147:147}],132:[function(e,t,n){function l(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function c(e){return typeof e=="function"&&typeof e.prototype!="undefined"&&typeof e.prototype.mountComponent=="function"&&typeof e.prototype.receiveComponent=="function"}function h(e){var t;if(e===null||e===!1)t=new i(h);else if(typeof e=="object"){var n=e;!n||typeof n.type!="function"&&typeof n.type!="string"?u(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",n.type==null?n.type:typeof n.type,l(n._owner)):undefined,typeof n.type=="string"?t=s.createInternalComponent(n):c(n.type)?t=new n.type(n):t=new f}else typeof e=="string"||typeof e=="number"?t=s.createInstanceForText(e):u(!1,"Encountered invalid React node of type %s",typeof e);return a(typeof t.construct=="function"&&typeof t.mountComponent=="function"&&typeof t.receiveComponent=="function"&&typeof t.unmountComponent=="function","Only React Components can be mounted."),t.construct(e),t._mountIndex=0,t._mountImage=null,t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(t),t}var r=e(38),i=e(59),s=e(75),o=e(24),u=e(161),a=e(173),f=function(){};o(f.prototype,r.Mixin,{_instantiateReactComponent:h}),t.exports=h},{161:161,173:173,24:24,38:38,59:59,75:75}],133:[function(e,t,n){function s(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,s=n in document;if(!s){var o=document.createElement("div");o.setAttribute(n,"return;"),s=typeof o[n]=="function"}return!s&&i&&e==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var r=e(147),i;r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=s},{147:147}],134:[function(e,t,n){function i(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&r[e.type]||t==="textarea")}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=i},{}],135:[function(e,t,n){function s(e){return r.isValidElement(e)?undefined:i(!1,"onlyChild must be passed a children with exactly one child."),e}var r=e(57),i=e(161);t.exports=s},{161:161,57:57}],136:[function(e,t,n){function i(e){return'"'+r(e)+'"'}var r=e(121);t.exports=i},{121:121}],137:[function(e,t,n){var r=e(72);t.exports=r.renderSubtreeIntoContainer},{72:72}],138:[function(e,t,n){var r=e(147),i=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})});if(r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",u.innerHTML===""&&(o=function(e,t){e.parentNode&&e.parentNode.replaceChild(e,e);if(i.test(t)||t[0]==="<"&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;n.data.length===1?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{147:147}],139:[function(e,t,n){var r=e(147),i=e(121),s=e(138),o=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){s(e,i(t))})),t.exports=o},{121:121,138:138,147:147}],140:[function(e,t,n){function i(e,t,n){return!r(e.props,t)||!r(e.state,n)}var r=e(171);t.exports=i},{171:171}],141:[function(e,t,n){function r(e,t){var n=e===null||e===!1,r=t===null||t===!1;if(n||r)return n===r;var i=typeof e,s=typeof t;return i==="string"||i==="number"?s==="string"||s==="number":s==="object"&&e.type===t.type&&e.key===t.key}t.exports=r},{}],142:[function(e,t,n){function d(e){return c[e]}function v(e,t){return e&&e.key!=null?g(e.key):t.toString(36)}function m(e){return(""+e).replace(h,d)}function g(e){return"$"+m(e)}function y(e,t,n,s){var c=typeof e;if(c==="undefined"||c==="boolean")e=null;if(e===null||c==="string"||c==="number"||i.isValidElement(e))return n(s,e,t===""?f+v(e,0):t),1;var h,d,m=0,b=t===""?f:t+l;if(Array.isArray(e))for(var w=0;w<e.length;w++)h=e[w],d=b+v(h,w),m+=y(h,d,n,s);else{var E=o(e);if(E){var S=E.call(e),x;if(E!==e.entries){var T=0;while(!(x=S.next()).done)h=x.value,d=b+v(h,T++),m+=y(h,d,n,s)}else{a(p,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),p=!0;while(!(x=S.next()).done){var N=x.value;N&&(h=N[1],d=b+g(N[0])+l+v(h,0),m+=y(h,d,n,s))}}}else if(c==="object"){var C="";C=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",e._isReactElement&&(C=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React.");if(r.current){var k=r.current.getName();k&&(C+=" Check the render method of `"+k+"`.")}var L=String(e);u(!1,"Objects are not valid as a React child (found: %s).%s",L==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":L,C)}}return m}function b(e,t,n){return e==null?0:y(e,"",t,n)}var r=e(39),i=e(57),s=e(67),o=e(129),u=e(161),a=e(173),f=s.SEPARATOR,l=":",c={"=":"=0",".":"=1",":":"=2"},h=/[=.:]/g,p=!1;t.exports=b},{129:129,161:161,173:173,39:39,57:57,67:67}],143:[function(e,t,n){function u(e){return Array.isArray(e)?e.concat():e&&typeof e=="object"?r(new e.constructor,e):e}function m(e,t,n){Array.isArray(e)?undefined:s(!1,"update(): expected target of %s to be an array; got %s.",n,e);var r=t[n];Array.isArray(r)?undefined:s(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,r)}function g(e,t){typeof t!="object"?s(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",d.join(", "),c):undefined;if(o.call(t,c))return Object.keys(t).length!==1?s(!1,"Cannot have more than one key in an object with %s",c):undefined,t[c];var n=u(e);if(o.call(t,h)){var i=t[h];!i||typeof i!="object"?s(!1,"update(): %s expects a spec of type 'object'; got %s",h,i):undefined,!n||typeof n!="object"?s(!1,"update(): %s expects a target of type 'object'; got %s",h,n):undefined,r(n,t[h])}o.call(t,a)&&(m(e,t,a),t[a].forEach(function(e){n.push(e)})),o.call(t,f)&&(m(e,t,f),t[f].forEach(function(e){n.unshift(e)})),o.call(t,l)&&(Array.isArray(e)?undefined:s(!1,"Expected %s target to be an array; got %s",l,e),Array.isArray(t[l])?undefined:s(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",l,t[l]),t[l].forEach(function(e){Array.isArray(e)?undefined:s(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",l,t[l]),n.splice.apply(n,e)})),o.call(t,p)&&(typeof t[p]!="function"?s(!1,"update(): expected spec of %s to be a function; got %s.",p,t[p]):undefined,n=t[p](n));for(var y in t)if(!v.hasOwnProperty(y)||!v[y])n[y]=g(e[y],t[y]);return n}var r=e(24),i=e(166),s=e(161),o={}.hasOwnProperty,a=i({$push:null}),f=i({$unshift:null}),l=i({$splice:null}),c=i({$set:null}),h=i({$merge:null}),p=i({$apply:null}),d=[a,f,l,c,h,p],v={};d.forEach(function(e){v[e]=!0}),t.exports=g},{161:161,166:166,24:24}],144:[function(e,t,n){var r=e(24),i=e(153),s=e(173),o=i,u=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],a=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],f=a.concat(["button"]),l=["dd","dt","li","option","optgroup","p","rp","rt"],c={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},h=function(e,t,n){var i=r({},e||c),s={tag:t,instance:n};a.indexOf(t)!==-1&&(i.aTagInScope=null,i.buttonTagInScope=null,i.nobrTagInScope=null),f.indexOf(t)!==-1&&(i.pTagInButtonScope=null),u.indexOf(t)!==-1&&t!=="address"&&t!=="div"&&t!=="p"&&(i.listItemTagAutoclosing=null,i.dlItemTagAutoclosing=null),i.parentTag=s,t==="form"&&(i.formTag=s),t==="a"&&(i.aTagInScope=s),t==="button"&&(i.buttonTagInScope=s),t==="nobr"&&(i.nobrTagInScope=s),t==="p"&&(i.pTagInButtonScope=s),t==="li"&&(i.listItemTagAutoclosing=s);if(t==="dd"||t==="dt")i.dlItemTagAutoclosing=s;return i},p=function(e,t){switch(t){case"select":return e==="option"||e==="optgroup"||e==="#text";case"optgroup":return e==="option"||e==="#text";case"option":return e==="#text";case"tr":return e==="th"||e==="td"||e==="style"||e==="script"||e==="template";case"tbody":case"thead":case"tfoot":return e==="tr"||e==="style"||e==="script"||e==="template";case"colgroup":return e==="col"||e==="template";case"table":return e==="caption"||e==="colgroup"||e==="tbody"||e==="tfoot"||e==="thead"||e==="style"||e==="script"||e==="template";case"head":return e==="base"||e==="basefont"||e==="bgsound"||e==="link"||e==="meta"||e==="title"||e==="noscript"||e==="noframes"||e==="style"||e==="script"||e==="template";case"html":return e==="head"||e==="body"}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6";case"rp":case"rt":return l.indexOf(t)===-1;case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return t==null}return!0},d=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},v=function(e){if(!e)return[];var t=[];do t.push(e);while(e=e._currentElement._owner);return t.reverse(),t},m={};o=function(e,t,n){n=n||c;var r=n.parentTag,i=r&&r.tag,o=p(e,i)?null:r,u=o?null:d(e,n),a=o||u;if(a){var f=a.tag,l=a.instance,h=t&&t._currentElement._owner,g=l&&l._currentElement._owner,y=v(h),b=v(g),w=Math.min(y.length,b.length),E,S=-1;for(E=0;E<w;E++){if(y[E]!==b[E])break;S=E}var x="(unknown)",T=y.slice(S+1).map(function(e){return e.getName()||x}),N=b.slice(S+1).map(function(e){return e.getName()||x}),C=[].concat(S!==-1?y[S].getName()||x:[],N,f,u?["..."]:[],T,e).join(" > "),k=!!o+"|"+e+"|"+f+"|"+C;if(m[k])return;m[k]=!0;if(o){var L="";f==="table"&&e==="tr"&&(L+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),s(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",e,f,C,L)}else s(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",e,f,C)}},o.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),o.updatedAncestorInfo=h,o.isTagValidInContext=function(e,t){t=t||c;var n=t.parentTag,r=n&&n.tag;return p(e,r)&&!d(e,t)},t.exports=o},{153:153,173:173,24:24}],145:[function(e,t,n){var r=e(161),i={addClass:function(e,t){return/\s/.test(t)?r(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t):undefined,t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?r(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t):undefined,t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?r(!1,"CSS.hasClass takes only a single class name."):undefined,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=i},{161:161}],146:[function(e,t,n){var r=e(153),i={listen:function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if(e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};t.exports=i},{153:153}],147:[function(e,t,n){var r=typeof window!="undefined"&&!!window.document&&!!window.document.createElement,i={canUseDOM:r,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:r&&(!!window.addEventListener||!!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},{}],148:[function(e,t,n){function i(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;t.exports=i},{}],149:[function(e,t,n){function s(e){return r(e.replace(i,"ms-"))}var r=e(148),i=/^-ms-/;t.exports=s},{148:148}],150:[function(e,t,n){function i(e,t){var n=!0;e:while(n){var i=e,s=t;n=!1;if(!i||!s)return!1;if(i===s)return!0;if(r(i))return!1;if(r(s)){e=i,t=s.parentNode,n=!0;continue e}return i.contains?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1}}var r=e(163);t.exports=i},{163:163}],151:[function(e,t,n){function i(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&typeof e.nodeType!="number"&&(Array.isArray(e)||"callee"in e||"item"in e)}function s(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var r=e(172);t.exports=s},{172:172}],152:[function(e,t,n){function f(e){var t=e.match(a);return t&&t[1].toLowerCase()}function l(e,t){var n=u;u?undefined:o(!1,"createNodesFromMarkup dummy not initialized");var r=f(e),a=r&&s(r);if(a){n.innerHTML=a[1]+e+a[2];var l=a[0];while(l--)n=n.lastChild}else n.innerHTML=e;var c=n.getElementsByTagName("script");c.length&&(t?undefined:o(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),i(c).forEach(t));var h=i(n.childNodes);while(n.lastChild)n.removeChild(n.lastChild);return h}var r=e(147),i=e(151),s=e(157),o=e(161),u=r.canUseDOM?document.createElement("div"):null,a=/^\s*<(\w+)/;t.exports=l},{147:147,151:151,157:157,161:161}],153:[function(e,t,n){function r(e){return function(){return e}}function i(){}i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},t.exports=i},{}],154:[function(e,t,n){var r={};Object.freeze(r),t.exports=r},{}],155:[function(e,t,n){function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],156:[function(e,t,n){function r(){if(typeof document=="undefined")return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],157:[function(e,t,n){function p(e){return s?undefined:i(!1,"Markup wrapping node not initialized"),c.hasOwnProperty(e)||(e="*"),o.hasOwnProperty(e)||(e==="*"?s.innerHTML="<link />":s.innerHTML="<"+e+"></"+e+">",o[e]=!s.firstChild),o[e]?c[e]:null}var r=e(147),i=e(161),s=r.canUseDOM?document.createElement("div"):null,o={},u=[1,'<select multiple="true">',"</select>"],a=[1,"<table>","</table>"],f=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],c={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:a,colgroup:a,tbody:a,tfoot:a,thead:a,td:f,th:f},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(e){c[e]=l,o[e]=!0}),t.exports=p},{147:147,161:161}],158:[function(e,t,n){function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],159:[function(e,t,n){function i(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=i},{}],160:[function(e,t,n){function s(e){return r(e).replace(i,"-ms-")}var r=e(159),i=/^ms-/;t.exports=s},{159:159}],161:[function(e,t,n){function r(e,t,n,r,i,s,o,u){if(t===undefined)throw new Error("invariant requires an error message argument");if(!e){var a;if(t===undefined)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,i,s,o,u],l=0;a=new Error(t.replace(/%s/g,function(){return f[l++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}t.exports=r},{}],162:[function(e,t,n){function r(e){return!!e&&(typeof Node=="function"?e instanceof Node:typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string")}t.exports=r},{}],163:[function(e,t,n){function i(e){return r(e)&&e.nodeType==3}var r=e(162);t.exports=i},{162:162}],164:[function(e,t,n){function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;r<n;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}t.exports=r},{}],165:[function(e,t,n){var r=e(161),i=function(e){var t={},n;e instanceof Object&&!Array.isArray(e)?undefined:r(!1,"keyMirror(...): Argument must be an object.");for(n in e){if(!e.hasOwnProperty(n))continue;t[n]=n}return t};t.exports=i},{161:161}],166:[function(e,t,n){var r=function(e){var t;for(t in e){if(!e.hasOwnProperty(t))continue;return t}return null};t.exports=r},{}],167:[function(e,t,n){function i(e,t,n){if(!e)return null;var i={};for(var s in e)r.call(e,s)&&(i[s]=t.call(n,e[s],s,e));return i}var r=Object.prototype.hasOwnProperty;t.exports=i},{}],168:[function(e,t,n){function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],169:[function(e,t,n){var r=e(147),i;r.canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),t.exports=i||{}},{147:147}],170:[function(e,t,n){var r=e(169),i;r.now?i=function(){return r.now()}:i=function(){return Date.now()},t.exports=i},{169:169}],171:[function(e,t,n){function i(e,t){if(e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;var s=r.bind(t);for(var o=0;o<n.length;o++)if(!s(n[o])||e[n[o]]!==t[n[o]])return!1;return!0}var r=Object.prototype.hasOwnProperty;t.exports=i},{}],172:[function(e,t,n){function i(e){var t=e.length;!!Array.isArray(e)||typeof e!="object"&&typeof e!="function"?r(!1,"toArray: Array-like object expected"):undefined,typeof t!="number"?r(!1,"toArray: Object needs a length property"):undefined,t===0||t-1 in e?undefined:r(!1,"toArray: Object should have keys for indices");if(e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}var i=Array(t);for(var s=0;s<t;s++)i[s]=e[s];return i}var r=e(161);t.exports=i},{161:161}],173:[function(e,t,n){var r=e(153),i=r;i=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.indexOf("Failed Composite propType: ")===0)return;if(!e){var s=0,o="Warning: "+t.replace(/%s/g,function(){return r[s++]});typeof console!="undefined"&&console.error(o);try{throw new Error(o)}catch(u){}}},t.exports=i},{153:153}]},{},[1])(1)}),function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e(t("react"));else if(typeof n=="function"&&n.amd)n("react-dom",["react"],e);else{var r;typeof window!="undefined"?r=window:typeof global!="undefined"?r=global:typeof self!="undefined"?r=self:r=this,r.ReactDOM=e(r.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("models/asset",["backbone","underscore"],function(e,n){var r;return r=function(r){function i(t,n){t==null&&(t={}),n==null&&(n={}),this.representations=new e.Collection([]),n.parse=!0,i.__super__.constructor.call(this,t,n)}return t(i,r),i.prototype.urlRoot="/assets",i.prototype.defaults={tags:[]},i.prototype.sync=function(t,n,r){return r==null&&(r={}),r.parse=!0,e.sync.apply(this,[t,n,r])},i.prototype.parse=function(e){return e.representations&&(this._expandLocations(e),this.representations.set(e.representations),delete e.representations),e},i.prototype.toJSON=function(e){var t;return e==null&&(e={}),t=n.clone(this.attributes),e.upload||(t=n.omit(t,["content","contentType"])),e.representations&&n.extend(t,{representations:this.representations.toJSON()}),t},i.prototype.validate=function(e,t){t==null&&(t={}),this.attributes&&(e=n.extend(this.attributes,e));if(t.upload){if(!e.content)return"content is required to upload an asset";if(!e.contentType)return"contentType is required to upload an asset"}if(!e.title)return"title is required"},i.prototype._expandLocations=function(e){if(!this.baseUrl)return;return n.each(e.representations,function(e){return function(t){if(!t.location.match(/^https?:\/\//))return t.location=e.baseUrl+t.location}}(this))},i}(e.Model)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("models/gadget",["backbone","underscore"],function(e,n){var r;return r=function(r){function i(t,r){t==null&&(t={}),r==null&&(r={}),this.config=new e.Model,this.config.isNew=function(){return!1},this.config.url=function(e){return function(){return n.result(e,"url")+"/config"}}(this),this.userState=new e.Model,this.userState.isNew=function(){return!1},this.userState.url=function(e){return function(){return n.result(e,"url")+"/userstate"}}(this),r.parse=!0,i.__super__.constructor.call(this,t,r)}return t(i,r),i.prototype._locals=["uploadPercent"],i.prototype.parse=function(e){if(!e)return;return e.config&&this.config.set(n.clone(e.config),{silent:!0}),e.userState&&this.userState.set(n.clone(e.userState),{silent:!0}),e.gadgetProject&&(this.gadgetProject=e.gadgetProject),n.omit(e,["config","userState","gadgetProject"])},i.prototype.toJSON=function(){var e;return e=n.clone(this.attributes),this.config&&(e.config=this.config.toJSON()),this.userState&&(e.userState=this.userState.toJSON()),n.omit(e,this._locals)},i.prototype.validate=function(e){if(!e.type)return"Type is required. Did you call parse:true when instantiated your gadget?"},i}(e.Model)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("models/gadget_project",["backbone","underscore","models/gadget"],function(e,n,r){var i,s;return s="/bower_components/versal-gadget-launchers/legacy-iframe-launcher/versal.html",i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.urlRoot="/gadgets",i.prototype.defaults={title:"Untitled gadget",author:"Unknown author"},i.prototype.url=function(){var e;return e=n.result(this.collection,"url")||this.urlRoot,n.flatten(n.compact([e,this.typeSegments()])).join("/")},i.prototype.path=function(e){var t;return t=this.urlRoot,i.prototype.apiUrl&&(t=i.prototype.apiUrl.replace(/\/$/,"")+t),n.flatten(n.compact([t,this.typeSegments(),e])).join("/")},i.prototype.icon=function(){return this.path("assets/icon.png")},i.prototype.typeSegments=function(){var e;return e=this.get("version")||"latest",[this.get("username"),this.get("name"),e]},i.prototype.type=function(){var e;return e=""+this.get("username")+"/"+this.get("name"),this.get("version")&&(e+="@"+this.get("version")),e},i.prototype._isUpgradable=function(){var e;return e=this.get("latestVersion"),e!=null&&this.get("version")!==e},i.prototype.shortType=function(){return""+this.get("username")+"/"+this.get("name")},i.prototype.cssClassName=function(){return("gadget-"+this.typeSegments().join("-")).replace(/[\.\s]+/g,"_")},i.prototype.isNew=function(){return!1},i.prototype.toJSON=function(e){var t;return t=i.__super__.toJSON.apply(this,arguments),t.distributedIconPath=this.distributedIconPath(),t.isUpgradable=this._isUpgradable(),t.shortType=this.shortType(),t.baseUrl=this.path()+"/",t.manifestUrl=this.path("versal.json"),t.launchUrl=this.launchUrl(),(e!=null?e.include:void 0)?n.pick.apply(this,t,e.include):t},i.prototype.launchUrl=function(){switch(this.get("launcher")){case"iframe":return this.path("versal.html");case"react":return this.path("gadget.js");default:return s}},i.prototype.buildInstance=function(e){var t,i;return i={config:this.get("defaultConfig"),userState:this.get("defaultUserState"),type:this.shortType()},n.extend(i,e),t=new r(i)},i.prototype._checksum=function(e){var t;return t=n.reduce(e.split(""),function(e,t){return e+t.charCodeAt(0)},0),t%10},i.prototype.distributedIconPath=function(){return this.icon().replace(/^(https?:\/\/)((staging)?stack)/,"$1$2-"+this._checksum(this.icon()))},i}(e.Model)})}.call(this),function(){n("models/patch_backbone_sync",["backbone","jquery","underscore","models/asset","models/gadget_project"],function(e,t,n,r,i){var s;return s=function(){function e(){}return e.prototype.ajax=function(e){var r;return r=this.createRequestOptions(e),n.extend(r,{cache:!1,contentType:!1,processData:!1}),t.ajax(r)},e.prototype.createRequestOptions=function(e){return e},e.prototype.createFormData=function(e){var t,n,r,i;t=new FormData,i=e.toJSON({upload:!0});for(n in i)r=i[n],t.append(n,this.normalizeValue(r));return t},e.prototype.normalizeValue=function(e){return e instanceof File||e instanceof Blob?e:n.isArray(e)||n.isObject(e)?JSON.stringify(e):e},e.prototype.sendRequest=function(e){},e}(),function(t){var o,u,a,f;return t==null&&(t={}),this.uploadAdapter=new s,t.url&&(u=t.url.replace(/\/$/,""),r.prototype.baseUrl=u,i.prototype.apiUrl=u,a=t.sessionId),o=e.ajax,e.ajax=function(e){return function(t){return t.upload&&e.uploadAdapter?e.uploadAdapter.ajax.apply(e.uploadAdapter,arguments):o.apply(e,arguments)}}(this),f=e.sync,e.sync=function(e){return function(t,r,i){var s,o;return i==null&&(i={}),i=n.clone(i),o=i.url||n.result(r,"url"),o.match(/^https?:\/\//)?i.url=o:i.url=u+o,s=i.beforeSend,i.beforeSend=function(t){a&&t.setRequestHeader("SESSION_ID",a);if(s)return s.apply(e,arguments)},i.upload&&(i.data=e.uploadAdapter.createFormData(r)),f.call(e,t,r,i)}}(this)}})}.call(this),function(){n("collab/vent",["underscore","backbone"],function(e,t){var n;return n=function(){function n(){}return e.extend(n.prototype,t.Events),n}(),new n})}.call(this),function(){n("collab/handler",["collab/vent"],function(e){var t;return t=function(){function t(e){this.conn=e,this.mediator=this.conn.mediator,this.conn.on("ws:open",this.listen,this),this.conn.on("ws:close",this.stopListening,this)}return t.prototype.listen=function(){var t,n,r,i,s,o;if(this.serverEvents){r=this.serverEvents;for(n in r)t=r[n],this.conn.on(n,this[t],this)}if(this.localEvents){i=this.localEvents;for(n in i)t=i[n],e.on(n,this[t],this)}if(this.playerEvents){s=this.playerEvents,o=[];for(n in s)t=s[n],o.push(this.mediator.on(n,this[t],this));return o}},t.prototype.stopListening=function(){var t,n,r,i,s,o;if(this.serverEvents){r=this.serverEvents;for(n in r)t=r[n],this.conn.off(n,this[t],this)}if(this.localEvents){i=this.localEvents;for(n in i)t=i[n],e.off(n,this[t],this)}if(this.playerEvents){s=this.playerEvents,o=[];for(n in s)t=s[n],o.push(this.mediator.off(n,this[t],this));return o}},t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/models/user",["backbone"],function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(e.Model)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/collections/users",["backbone","collab/models/user"],function(e,n){var r;return r=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.model=n,r}(e.Collection)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/handlers/users",["underscore","collab/handler","collab/collections/users","collab/vent"],function(e,n,r,i){var s;return s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.serverEvents={"user:me":"onUserIdentity","users:list":"onUsersList","user:add":"onUserAdd","user:remove":"onUserRemove"},n.prototype.onUserIdentity=function(e){return this.conn.me=e},n.prototype.onUsersList=function(e){return this._activeUsers=new r(e),i.trigger("activeUsers:update",this._activeUsers)},n.prototype.onUserAdd=function(e){return this._activeUsers.add(e),i.trigger("activeUsers:update",this._activeUsers)},n.prototype.onUserRemove=function(e){return this._activeUsers.remove(this._activeUsers.get(e.id)),i.trigger("activeUsers:update",this._activeUsers)},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/models/gadget_lock",["backbone"],function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.defaults=function(){return{createdAt:new Date}},n.prototype.isLockedByMe=function(){return!!this.get("editable")},n}(e.Model)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/handlers/locks",["underscore","collab/handler","collab/models/gadget_lock","collab/vent"],function(e,n,r,i){var s;return s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.serverEvents={"locks:list":"onLocksList","lock:lock":"onLock","lock:unlock":"onUnlock"},n.prototype.localEvents={"gadget:delete:lock":"onGadgetDeleteLock"},n.prototype.playerEvents={"collab:gadget:editing:start":"onGadgetEditing","collab:gadget:editing:stop":"onGadgetStopEditing"},n.prototype.onLocksList=function(e){return this.conn.activeLocks.reset(e.models),e.each(function(e){return function(t){return e.triggerLock(t)}}(this))},n.prototype.onGadgetEditing=function(e){var t;return this.conn.triggerEvent("lock:lock",{gadgetId:e.id}),t=new r({gadgetId:e.id,user:this.conn.me,editable:!0}),this.triggerLock(t)},n.prototype.onGadgetStopEditing=function(e){return this.conn.triggerEvent("lock:unlock",{gadgetId:e.id})},n.prototype.onLock=function(e){return this.conn.activeLocks.add(e),this.triggerLock(e)},n.prototype.onUnlock=function(e){var t;t=this.conn.activeLocks.findWhere({gadgetId:e.get("gadgetId")});if(!t)return;return this.conn.activeLocks.remove(t),this.triggerUnlock(t)},n.prototype.onGadgetDeleteLock=function(e){var t,n;return t=e.gadgetId,n=new r({gadgetId:t,editable:!1}),this.triggerLock(n)},n.prototype.triggerLock=function(e){var t,n;if(((t=e.get("user"))!=null?t.id:void 0)===((n=this.conn.me)!=null?n.id:void 0))return;return i.trigger("lock:lock",e),this.mediator.trigger("collab:gadget:locked",e.get("gadgetId"))},n.prototype.triggerUnlock=function(e){if(this.conn.gadgetHasUpdates(e.get("gadgetId")))return;return i.trigger("lock:unlock",e),this.mediator.trigger("collab:gadget:unlocked",e.get("gadgetId"))},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/models/gadget_comment",["backbone"],function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.editable=!1,n.prototype.defaults=function(){return{createdAt:new Date,deleted:!1}},n.prototype.isDeleted=function(){return!!this.get("deleted")},n}(e.Model)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/collections/gadget_comments",["backbone","collab/models/gadget_comment"],function(e,n){var r;return r=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.model=n,r}(e.Collection)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/collections/collapsible_gadget_comments",["backbone","collab/collections/gadget_comments","collab/models/gadget_comment"],function(e,n,r){var i;return i=function(i){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,i),s.prototype.initialize=function(){return this._shadowedCollection=new n,this._shadowedCollection.listenTo(this,"all",this._onModelEvent),this.model=r},s.prototype.collapseDeletedComments=function(t){var n;if(!t||t instanceof e.Collection){this.models.forEach(function(e){return function(t){return e.collapseDeletedComments(t)}}(this));return}n=this.models.indexOf(t);if(n===-1)return;if(!t.get("deleted"))return;return t._deletedStreak=[1,-1].reduce(function(e){return function(t,r){var i;return i=e.at(n+r),i&&i.get("deleted")?(e.remove(i),i._deletedStreak!=null?t+i._deletedStreak:t+1):t}}(this),1),t.trigger("change")},s}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/handlers/comments",["underscore","collab/handler","collab/vent","collab/collections/collapsible_gadget_comments"],function(e,n,r,i){var s;return s=function(e){function n(){this.comments=[],n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype._unresolvedIds={},n.prototype.serverEvents={"comments:list":"onCommentsList","comment:resolve":"onCommentResolve","comment:add":"onCommentAdd","comment:delete":"onCommentDelete"},n.prototype.localEvents={"comment:deleted":"onCommentDeleted","comment:added":"onCommentAdded","commentsView:ready":"replayComments"},n.prototype.onCommentsList=function(e){return this._personalizeCollection(e).each(function(e){return function(t){return e.onCommentAdd(t)}}(this))},n.prototype.replayComments=function(){return this.comments.forEach(function(e){return r.trigger("comment:add",e)})},n.prototype.onCommentResolve=function(e){var t,n;t=e.get("cid"),n=this._unresolvedIds[t];if(n)return n.set({id:e.id}),delete this._unresolvedIds[t]},n.prototype.onCommentAdd=function(e){return r.trigger("comment:add",e),this.comments.push(e)},n.prototype.onCommentDelete=function(e){return r.trigger("comment:delete",e)},n.prototype.onCommentAdded=function(e){return this.comments.push(e),this._pendComment(e),this.conn.triggerEvent("comment:add",{gadgetId:e.get("gadgetId"),body:e.get("body"),cid:e.cid})},n.prototype.onCommentDeleted=function(e){var t;return t={gadgetId:e.get("gadgetId"),commentId:e.id},this.conn.triggerEvent("comment:delete",t)},n.prototype._personalizeCollection=function(e){return e.each(function(e){return function(t){var n;if(t.get("user").id===((n=e.conn.me)!=null?n.id:void 0))return t.editable=!0}}(this)),e},n.prototype._pendComment=function(e){return this._unresolvedIds[e.cid]=e},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/handlers/updates",["collab/handler","collab/vent"],function(e,n){var r;return r=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.serverEvents={"course:update":"_onCourseUpdate","gadget:delete":"_onGadgetDelete"},r.prototype.playerEvents={"collab:lesson:gadget:added":"_onLessonChanged","collab:lesson:gadget:moved":"_onLessonChanged","collab:lesson:gadget:deleted":"_onGadgetDeleted","collab:gadget:changed":"_onGadgetChanged"},r.prototype._onLessonChanged=function(e,t){return t?this.conn.triggerEvent("course:update",{gadgetId:t.id}):this.conn.triggerEvent("course:update")},r.prototype._onGadgetDeleted=function(e,t){return this.conn.triggerEvent("gadget:delete",{gadgetId:t.id})},r.prototype._onGadgetDelete=function(e){var t;return t=e.gadgetId,this.conn.updates.push({gadgetId:t}),n.trigger("collab:update"),n.trigger("gadget:delete:lock",{gadgetId:t})},r.prototype._onGadgetChanged=function(e){return this.conn.triggerEvent("course:update",{gadgetId:e.id})},r.prototype._onCourseUpdate=function(e){return this.conn.updates.push(e),n.trigger("collab:update")},r}(e)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/handlers/activity",["jquery","collab/handler"],function(e,n){var r;return r=function(n){function r(){r.__super__.constructor.apply(this,arguments),e(document).on("ajaxComplete",function(e){return function(){return e.conn.resetLastActivity()}}(this))}return t(r,n),r}(n)})}.call(this),function(){n("collab/templates/contributor",[],function(){return'<a href="<%- userUrl %>" target="_blank">\n  <img src="<%- thumbnail %>" alt="<%- name() %>" class="contrib-icon" title="<%- name() %>">\n</a>'})}.call(this),function(){n("collab/templates/contributors",[],function(){return'<h4>Contributors</h4>\n<div class="js-toggle-collapse">\n  <i class="collapse icon-double-angle-down"></i>\n  <i class="expand icon-double-angle-up"></i>\n</div>\n<ul class="icons js-icons"></ul>'})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("collab/views/contributors",["backbone","marionette","collab/templates/contributor","collab/templates/contributors","collab/vent"],function(t,n,i,s,o){var u,a;return u=function(t){function n(){return this.templateHelpers=e(this.templateHelpers,this),n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.initialize=function(e){this.site=e.site},n.prototype.template=_.template(i),n.prototype.templateHelpers=function(){return{thumbnail:this.getThumbnail(),name:function(e){return function(){return e.model.get("firstname")||e.model.get("fn")||"Anonymous"}}(this),site:this.site,userUrl:""+this.site+"/u/"+this.model.id}},n.prototype.tagName="li",n.prototype.className="contributor",n.prototype.getThumbnail=function(){var e,t;return e=_.findWhere((t=this.model.get("image"))!=null?t.representations:void 0,{scale:"40x40"}),(e!=null?e.location:void 0)||""+this.site+"/assets/img/defaults/profile-retina.jpg"},n}(n.ItemView),a=function(n){function i(){return this.initialize=e(this.initialize,this),i.__super__.constructor.apply(this,arguments)}return r(i,n),i.prototype.initialize=function(e){return this.mediator=e.mediator,this.conn=e.conn,this.site=e.site,this.collection=new t.Collection},i.prototype.onShow=function(){return this.conn.on("ws:open",this.render,this),this.conn.on("ws:close",this.render,this),this.listenTo(this,"composite:collection:rendered",this.onCollectionRender),o.on("activeUsers:update",this._onActiveUsersChange,this)},i.prototype.onClose=function(){return this.conn.off("ws:open",this.render,this),this.conn.off("ws:close",this.render,this),o.off("activeUsers:update",this._onActiveUsersChange,this)},i.prototype.itemView=u,i.prototype.itemViewOptions=function(){return{site:this.site}},i.prototype.itemViewContainer=".js-icons",i.prototype.template=_.template(s),i.prototype.className="contributors collapsed",i.prototype.onCollectionRender=function(){return this.$el.toggle(!!this.conn.enabled&&this.collection.length>0),this.trigger("sizeChanged")},i.prototype.events={"click .js-toggle-collapse":"onCollapseToggle"},i.prototype.onCollapseToggle=function(){return this.$el.toggleClass("collapsed"),this.trigger("toggleCollapse")},i.prototype._onActiveUsersChange=function(e){return this.collection.reset(e.models)},i}(n.CompositeView)})}.call(this),function(){n("collab/plugins/time_since",[],function(){return function(e){var t,n,r,i,s,o,u,a,f,l;t=+(new Date)-e;if(t<=3e4)n="seconds";else if(3e4<t&&t<=6e4)n="less than a minute";else{f=[["minute",6e4,36e5],["hour",36e5,864e5],["day",864e5,Infinity]];for(u=0,a=f.length;u<a;u++)l=f[u],s=l[0],i=l[1],r=l[2],i<t&&t<=r&&(o=Math.floor(t/i),n=""+o+" "+s,o>1&&(n+="s"))}return n}})}.call(this),function(){n("collab/templates/gadget_comment",[],function(){return'<% if (deleted && deletedStreak() > 1) { %>\n  <div class="deleted_comment">\n    <p><%= deletedStreak() %> comments have been deleted</p>\n  </div>\n<% } else if (deleted) { %>\n  <div class="deleted_comment">\n    <p>Comment has been deleted</p>\n  </div>\n<% } else { %>\n  <div class="comment-inner">\n    <div class=\'js-delete-overlay delete-overlay\'>\n      <div class=\'delete-content\'>\n        Delete this comment?\n        <button class=\'js-cancel-delete\'>no</button>\n        <button class=\'js-confirm-delete action\'>yes</button>\n      </div>\n    </div>\n    <img src="<%- profileImage() %>"></img>\n    <div class="commentInfo">\n      <p class="commentAuthor"><%- name() %></p><br/>\n      <p class="commentDate"><span class="js-timestamp timestamp">seconds</span> ago</p>\n    </div>\n    <p class="js-comment-body comment-body"><%= body() %></p>\n    <div class="js-comment-actions comment-actions">\n      <span class="js-show comment-action show-more">show more</span>\n      <span class="js-show comment-action show-less">show less</span>\n      <% if (isDeletable()) { %>\n        <span class="js-delete-comment delete-comment comment-action pull-right">delete</span>\n      <% } %>\n    </div>\n  </div>\n<% } %>'})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("collab/views/comment",["marionette","collab/plugins/time_since","collab/templates/gadget_comment","collab/vent"],function(t,n,i,s){var o;return o=function(t){function o(){return this.updateTimeSince=e(this.updateTimeSince,this),this.profileImage=e(this.profileImage,this),this.sanitizeBody=e(this.sanitizeBody,this),o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.updateTimeSinceEveryMs=1e4,o.prototype.className="comment",o.prototype.events={"click .js-delete-comment":"_onDeleteClick","click .js-show":"toggleShow","click .js-confirm-delete":"_onConfirmDelete","click .js-cancel-delete":"_onCancelDelete"},o.prototype.template=_.template(i),o.prototype.ui={createdAt:".js-timestamp",commentBody:".js-comment-body",deleteOverlay:".js-delete-overlay"},o.prototype.initialize=function(e){return this.site=e.site,this.mediator=e.mediator,this.listenTo(this.model,"change",this.render)},o.prototype.toggleShow=function(){return this.$el.toggleClass("expanded"),this.$el.toggleClass("compacted")},o.prototype.templateHelpers=function(){return{profileImage:this.profileImage,name:function(e){return function(){var t,n;return((t=e.model.get("user"))!=null?t.firstname:void 0)||((n=e.model.get("user"))!=null?n.fn:void 0)||"Anonymous"}}(this),body:this.sanitizeBody,deletedStreak:function(e){return function(){return e.model._deletedStreak}}(this),isDeletable:function(e){return function(){return e.model.editable&&!e.model.isNew()}}(this)}},o.prototype.sanitizeBody=function(){var e,t,n,r;n=_.escape(this.model.get("body")),t={http:{"in":/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,out:'<a href="$1" target="_blank">$1</a>'},www:{"in":/(^|[^\/])(www\.[\S]+(\b|$))/gim,out:'$1<a href="http://$2" target="_blank">$2</a>'},email:{"in":/(^\S+@\S+\.\S+$)/gi,out:'<a href="mailto:$1">$1</a>'},newlines:{"in":/\n/g,out:"<br>"}};for(r in t)e=t[r],n=n.replace(e["in"],e.out);return n},o.prototype.profileImage=function(){var e,t;return t=this.model.get("user"),(t!=null?t.image:void 0)?(e=_.find(t.image.representations,function(e){return e.scale==="140x140"}),e.location):""+this.site+"/assets/img/defaults/profile-retina.jpg"},o.prototype.onRender=function(){return this.updateTimeSince()},o.prototype.onShow=function(){return this.determineHeight()},o.prototype.onClose=function(){return this.stopUpdatingTimeSince()},o.prototype.startUpdatingTimeSince=function(){if(!this.timeSinceUpdater&&!this.model.get("deleted"))return this.timeSinceUpdater=setInterval(this.updateTimeSince,this.updateTimeSinceEveryMs)},o.prototype.stopUpdatingTimeSince=function(){return clearInterval(this.timeSinceUpdater)},o.prototype._onDeleteClick=function(){return this.ui.deleteOverlay.show()},o.prototype._onConfirmDelete=function(){return this.ui.deleteOverlay.hide(),this.model.set({deleted:!0}),s.trigger("comment:deleted",this.model)},o.prototype._onCancelDelete=function(){return this.ui.deleteOverlay.hide()},o.prototype.updateTimeSince=function(){var e;return e=new Date(this.model.get("createdAt")),this.ui.createdAt.text(n(e))},o.prototype.determineHeight=function(){if(this.ui.commentBody.height()>145)return this.$el.addClass("compacted")},o}(t.ItemView)})}.call(this),function(){n("collab/templates/gadget_comments",[],function(){return'<ul class="comments-toolbar">\n  <li class="actions">\n    <span class="comments js-comments">\n      <span class="js-comments-toggle comments-toggle icon-stack">\n        <i class="fv-bubble icon-stack-base"></i>\n        <i class="js-comments-count icon-inner-text"><%- commentCount %></i>\n      </span>\n      <div class="js-comments-box comments-box">\n        <div class="js-inner-comments inner-comments"></div>\n        <textarea class="js-submit-comment-text submit-comment-text" maxlength="800" placeholder="Write a message here..."></textarea>\n        <div class="submit-action-buttons js-submit-action-buttons">\n          <button class="cancel-button js-cancel-comment ">cancel</button>\n          <button class="action submit-button js-submit-comment pull-right">submit</button>\n        </div>\n      </div>\n    </span>\n  </li>\n</ul>'})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("collab/views/comments",["marionette","collab/views/comment","collab/templates/gadget_comments","collab/models/gadget_comment","collab/collections/collapsible_gadget_comments","collab/vent"],function(t,n,i,s,o,u){var a;return a=function(t){function a(){return this.stopCommenting=e(this.stopCommenting,this),this.startCommenting=e(this.startCommenting,this),this.onCommentsToggled=e(this.onCommentsToggled,this),this.onCommentToggleClicked=e(this.onCommentToggleClicked,this),this._onCommentsChange=e(this._onCommentsChange,this),this.enable=e(this.enable,this),this.disable=e(this.disable,this),a.__super__.constructor.apply(this,arguments)}return r(a,t),a.prototype.className="comments-container",a.prototype.ui={commentText:".js-submit-comment-text",commentsCount:".js-comments-count",commentsDisplay:".js-comments-box",commentsSubmitButtons:".js-submit-action-buttons",commentsBox:".js-comments",innerCommentsBox:".js-inner-comments"},a.prototype.events={"click .js-comments-toggle":"onCommentToggleClicked","click .js-submit-comment":"onCommentSubmit","click .js-cancel-comment":"onCommentCancel",click:"onClick"},a.prototype.template=_.template(i),a.prototype.templateHelpers=function(){return{commentCount:this.commentCount()}},a.prototype.itemView=n,a.prototype.itemViewOptions=function(){return{site:this.site,mediator:this.mediator}},a.prototype.itemViewContainer=".inner-comments",a.prototype.initialize=function(e){return this.mediator=e.mediator,this.site=e.site,this.conn=e.conn,this.gadgetId=e.gadgetId,this.delegateEvents(),this.collection=new o,this.listenTo(this.collection,"add remove reset change:deleted",this._onCommentsChange)},a.prototype.onRender=function(){if(this.conn.subscribed)return this.enable()},a.prototype.onShow=function(){return u.on("comment:add",this.addComment,this),u.on("comment:delete",this.deleteComment,this),u.on("comments:toggle",this.onCommentsToggled,this),this.conn.on("subscribed",this.enable),this.conn.on("unsubscribed",this.disable),u.trigger("commentsView:ready",this.gadgetId)},a.prototype.onClose=function(){return u.off("comment:add",this.addComment,this),u.off("comment:delete",this.deleteComment,this),u.off("comments:toggle",this.onCommentsToggled,this),this.conn.off("subscribed",this.enable),this.conn.off("unsubscribed",this.disable)},a.prototype.onClick=function(e){},a.prototype.disable=function(){return this.$el.hide()},a.prototype.enable=function(){return this.$el.show()},a.prototype.addComment=function(e){var t;t=e.get("gadgetId");if(t===this.gadgetId)return this.collection.add(e)},a.prototype.deleteComment=function(e){var t;if(e.gadgetId===this.gadgetId)return(t=this.collection.get(e.commentId))!=null?t.set({deleted:!0}):void 0},a.prototype.onCommentSubmit=function(){var e;if(!this.ui.commentText.val())return;return e=new s({gadgetId:this.gadgetId,body:this.ui.commentText.val(),user:this.conn.me}),e.editable=!0,this.ui.commentText.val(""),this.addComment(e),u.trigger("comment:added",e),this.scrollToBottom()},a.prototype.commentCount=function(){var e,t;return e=this.collection.reject(function(e){return e.get("deleted")}),t=e.length,t>99?"99+":t<=0?"+":t},a.prototype._onCommentsChange=function(e){return this.collection.collapseDeletedComments(e),this.ui.commentsCount.text(this.commentCount()),this.children.each(function(e){return e.startUpdatingTimeSince()})},a.prototype.hideComments=function(){return this.ui.commentsDisplay.hide()},a.prototype.onCommentCancel=function(){return this.ui.commentText.val(""),this.onCommentToggleClicked()},a.prototype.checkForCollapsedComments=function(){return this.children.each(function(e){return e.determineHeight()})},a.prototype.scrollToBottom=function(){return this.ui.innerCommentsBox.scrollTop(this.ui.innerCommentsBox[0].scrollHeight)},a.prototype.show=function(){var e;return this.$el.addClass("comments-visible"),this.checkForCollapsedComments(),e=this.ui.commentsDisplay.height()+this.ui.commentsDisplay.offset().top,this.ui.commentsDisplay.toggleClass("above",e>$("body").height()),this.scrollToBottom(),this.ui.commentText.focus()},a.prototype.hide=function(){return this.$el.removeClass("comments-visible"),this.ui.commentsDisplay.removeClass("above"),this.children.each(function(e){return e.stopUpdatingTimeSince()})},a.prototype.onCommentToggleClicked=function(){return u.trigger("comments:toggle",this.gadgetId)},a.prototype.onCommentsToggled=function(e){return e===this.gadgetId?this.toggleCommenting():this.stopCommenting()},a.prototype.toggleCommenting=function(){return this._isCommenting?this.stopCommenting():this.startCommenting()},a.prototype.startCommenting=function(){return this._isCommenting=!0,this.show(),$(window).one("click",this.stopCommenting),this.$el.on("click",this._prevent)},a.prototype.stopCommenting=function(){return this._isCommenting=!1,this.hide(),$(window).off("click",this.stopCommenting),this.$el.off("click",this._prevent)},a.prototype._prevent=function(e){return e.stopPropagation()},a}(t.CompositeView)})}.call(this),function(){n("collab/templates/gadget_lock",[],function(){return'<i class="collab-lock-icon icon-lock"></i>\n<div class="collab-lock-tooltip">\n  <img class="collab-lock-avatar js-lock-avatar" src="<%- profileImage() %>"></img>\n  <%- name() %>\n</div>'})}.call(this),function(e,r){typeof n=="function"&&n.amd?n("tether",r):typeof exports=="object"?module.exports=r(t,exports,module):e.Tether=r()}(this,function(e,t,n){return function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g={}.hasOwnProperty,y=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},b=[].slice;this.Tether==null&&(this.Tether={modules:[]}),l=function(e){var t,n,r,i,s;n=getComputedStyle(e).position;if(n==="fixed")return e;r=void 0,t=e;while(t=t.parentNode){try{i=getComputedStyle(t)}catch(o){}if(i==null)return t;if(/(auto|scroll)/.test(i.overflow+i.overflowY+i.overflowX))if(n!=="absolute"||(s=i.position)==="relative"||s==="absolute"||s==="fixed")return t}return document.body},d=function(){var e;return e=0,function(){return e++}}(),m={},a=function(e){var t,r,s,o,u;s=e._tetherZeroElement,s==null&&(s=e.createElement("div"),s.setAttribute("data-tether-id",d()),i(s.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(s),e._tetherZeroElement=s),t=s.getAttribute("data-tether-id");if(m[t]==null){m[t]={},u=s.getBoundingClientRect();for(r in u)o=u[r],m[t][r]=o;n(function(){return m[t]=void 0})}return m[t]},h=null,o=function(e){var t,n,r,i,s,o,u;e===document?(n=document,e=document.documentElement):n=e.ownerDocument,r=n.documentElement,t={},u=e.getBoundingClientRect();for(i in u)o=u[i],t[i]=o;return s=a(n),t.top-=s.top,t.left-=s.left,t.width==null&&(t.width=document.body.scrollWidth-t.left-t.right),t.height==null&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-r.clientTop,t.left=t.left-r.clientLeft,t.right=n.body.clientWidth-t.width-t.left,t.bottom=n.body.clientHeight-t.height-t.top,t},u=function(e){return e.offsetParent||document.documentElement},f=function(){var e,t,n,r,s;return e=document.createElement("div"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),i(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t),r=e.offsetWidth,t.style.overflow="scroll",s=e.offsetWidth,r===s&&(s=t.clientWidth),document.body.removeChild(t),n=r-s,{width:n,height:n}},i=function(e){var t,n,r,i,s,o,u;e==null&&(e={}),t=[],Array.prototype.push.apply(t,arguments),u=t.slice(1);for(s=0,o=u.length;s<o;s++){r=u[s];if(r)for(n in r){if(!g.call(r,n))continue;i=r[n],e[n]=i}}return e},p=function(e,t){var n,r,i,s,o;if(e.classList!=null){s=t.split(" "),o=[];for(r=0,i=s.length;r<i;r++)n=s[r],n.trim()&&o.push(e.classList.remove(n));return o}return e.setAttribute("class",e.getAttribute("class").replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," "))},t=function(e,t){var n,r,i,s,o;if(e.classList!=null){s=t.split(" "),o=[];for(r=0,i=s.length;r<i;r++)n=s[r],n.trim()&&o.push(e.classList.add(n));return o}return p(e,t),e.className+=" "+t},c=function(e,t){return e.classList!=null?e.classList.contains(t):(new RegExp("(^| )"+t+"( |$)","gi")).test(e.className)},v=function(e,n,r){var i,s,o,u,a,f;for(s=0,u=r.length;s<u;s++)i=r[s],y.call(n,i)<0&&c(e,i)&&p(e,i);f=[];for(o=0,a=n.length;o<a;o++)i=n[o],c(e,i)?f.push(void 0):f.push(t(e,i));return f},r=[],n=function(e){return r.push(e)},s=function(){var e,t;t=[];while(e=r.pop())t.push(e());return t},e=function(){function e(){}return e.prototype.on=function(e,t,n,r){var i;return r==null&&(r=!1),this.bindings==null&&(this.bindings={}),(i=this.bindings)[e]==null&&(i[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,r,i;if(((r=this.bindings)!=null?r[e]:void 0)==null)return;if(t==null)return delete this.bindings[e];n=0,i=[];while(n<this.bindings[e].length)this.bindings[e][n].handler===t?i.push(this.bindings[e].splice(n,1)):i.push(n++);return i},e.prototype.trigger=function(){var e,t,n,r,i,s,o,u,a;n=arguments[0],e=2<=arguments.length?b.call(arguments,1):[];if((o=this.bindings)!=null?o[n]:void 0){i=0,a=[];while(i<this.bindings[n].length)u=this.bindings[n][i],r=u.handler,t=u.ctx,s=u.once,r.apply(t!=null?t:this,e),s?a.push(this.bindings[n].splice(i,1)):a.push(i++);return a}},e}(),this.Tether.Utils={getScrollParent:l,getBounds:o,getOffsetParent:u,extend:i,addClass:t,removeClass:p,hasClass:c,updateClasses:v,defer:n,flush:s,uniqueId:d,Evented:e,getScrollBarSize:f}}.call(this),function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A=[].slice,O=function(e,t){return function(){return e.apply(t,arguments)}};if(this.Tether==null)throw new Error("You must include the utils.js file before tether.js");r=this.Tether,L=r.Utils,v=L.getScrollParent,m=L.getSize,p=L.getOuterSize,c=L.getBounds,h=L.getOffsetParent,f=L.extend,i=L.addClass,S=L.removeClass,N=L.updateClasses,a=L.defer,l=L.flush,d=L.getScrollBarSize,C=function(e,t,n){return n==null&&(n=1),e+n>=t&&t>=e-n},T=function(){var e,t,n,r,i;e=document.createElement("div"),i=["transform","webkitTransform","OTransform","MozTransform","msTransform"];for(n=0,r=i.length;n<r;n++){t=i[n];if(e.style[t]!==void 0)return t}}(),x=[],E=function(){var e,t,n;for(t=0,n=x.length;t<n;t++)e=x[t],e.position(!1);return l()},g=function(){var e;return(e=typeof performance!=="undefined"&&performance!==null?typeof performance.now==="function"?performance.now():void 0:void 0)!=null?e:+(new Date)},function(){var e,t,n,r,i,s,o,u,a;t=null,n=null,r=null,i=function(){if(n!=null&&n>16){n=Math.min(n-16,250),r=setTimeout(i,250);return}if(t!=null&&g()-t<10)return;return r!=null&&(clearTimeout(r),r=null),t=g(),E(),n=g()-t},u=["resize","scroll","touchmove"],a=[];for(s=0,o=u.length;s<o;s++)e=u[s],a.push(window.addEventListener(e,i));return a}(),e={center:"center",left:"right",right:"left"},t={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},u=function(n,r){var i,s;return i=n.left,s=n.top,i==="auto"&&(i=e[r.left]),s==="auto"&&(s=t[r.top]),{left:i,top:s}},o=function(e){var t,r;return{left:(t=n[e.left])!=null?t:e.left,top:(r=n[e.top])!=null?r:e.top}},s=function(){var e,t,n,r,i,s,o;t=1<=arguments.length?A.call(arguments,0):[],n={top:0,left:0};for(i=0,s=t.length;i<s;i++)o=t[i],r=o.top,e=o.left,typeof r=="string"&&(r=parseFloat(r,10)),typeof e=="string"&&(e=parseFloat(e,10)),n.top+=r,n.left+=e;return n},y=function(e,t){return typeof e.left=="string"&&e.left.indexOf("%")!==-1&&(e.left=parseFloat(e.left,10)/100*t.width),typeof e.top=="string"&&e.top.indexOf("%")!==-1&&(e.top=parseFloat(e.top,10)/100*t.height),e},b=w=function(e){var t,n,r;return r=e.split(" "),n=r[0],t=r[1],{top:n,left:t}},k=function(){function e(e){this.position=O(this.position,this);var t,n,i,s,o;x.push(this),this.history=[],this.setOptions(e,!1),s=r.modules;for(n=0,i=s.length;n<i;n++)t=s[n],(o=t.initialize)!=null&&o.call(this);this.position()}return e.modules=[],e.prototype.getClass=function(e){var t,n;return((t=this.options.classes)!=null?t[e]:void 0)?this.options.classes[e]:((n=this.options.classes)!=null?n[e]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+e:e:""},e.prototype.setOptions=function(e,t){var n,r,s,o,u,a;this.options=e,t==null&&(t=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=f(n,this.options),u=this.options,this.element=u.element,this.target=u.target,this.targetModifier=u.targetModifier,this.target==="viewport"?(this.target=document.body,this.targetModifier="visible"):this.target==="scroll-handle"&&(this.target=document.body,this.targetModifier="scroll-handle"),a=["element","target"];for(s=0,o=a.length;s<o;s++){r=a[s];if(this[r]==null)throw new Error("Tether Error: Both element and target must be defined");this[r].jquery!=null?this[r]=this[r][0]:typeof this[r]=="string"&&(this[r]=document.querySelector(this[r]))}i(this.element,this.getClass("element")),i(this.target,this.getClass("target"));if(!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=b(this.options.targetAttachment),this.attachment=b(this.options.attachment),this.offset=w(this.options.offset),this.targetOffset=w(this.options.targetOffset),this.scrollParent!=null&&this.disable(),this.targetModifier==="scroll-handle"?this.scrollParent=this.target:this.scrollParent=v(this.target);if(this.options.enabled!==!1)return this.enable(t)},e.prototype.getTargetBounds=function(){var e,t,n,r,i,s,o,u,a;if(this.targetModifier==null)return c(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(e=c(this.target),i={height:e.height,width:e.width,top:e.top,left:e.left},i.height=Math.min(i.height,e.height-(pageYOffset-e.top)),i.height=Math.min(i.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,e.width-(pageXOffset-e.left)),i.width=Math.min(i.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i);case"scroll-handle":return a=this.target,a===document.body?(a=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=c(a),u=getComputedStyle(a),n=a.scrollWidth>a.clientWidth||"scroll"===[u.overflow,u.overflowX]||this.target!==document.body,s=0,n&&(s=15),r=e.height-parseFloat(u.borderTopWidth)-parseFloat(u.borderBottomWidth)-s,i={width:15,height:r*.975*(r/a.scrollHeight),left:e.left+e.width-parseFloat(u.borderLeftWidth)-15},t=0,r<408&&this.target===document.body&&(t=-0.00011*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24)),o=this.target.scrollTop/(a.scrollHeight-r),i.top=o*(r-i.height-t)+e.top+parseFloat(u.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i}},e.prototype.clearCache=function(){return this._cache={}},e.prototype.cache=function(e,t){return this._cache==null&&(this._cache={}),this._cache[e]==null&&(this._cache[e]=t.call(this)),this._cache[e]},e.prototype.enable=function(e){e==null&&(e=!0),i(this.target,this.getClass("enabled")),i(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position);if(e)return this.position()},e.prototype.disable=function(){S(this.target,this.getClass("enabled")),S(this.element,this.getClass("enabled")),this.enabled=!1;if(this.scrollParent!=null)return this.scrollParent.removeEventListener("scroll",this.position)},e.prototype.destroy=function(){var e,t,n,r,i;this.disable(),i=[];for(e=n=0,r=x.length;n<r;e=++n){t=x[e];if(t===this){x.splice(e,1);break}i.push(void 0)}return i},e.prototype.updateAttachClasses=function(e,t){var n,r,i,s,o,u,f,l,c,h=this;e==null&&(e=this.attachment),t==null&&(t=this.targetAttachment),s=["left","top","bottom","right","middle","center"],((c=this._addAttachClasses)!=null?c.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=this._addAttachClasses!=null?this._addAttachClasses:this._addAttachClasses=[],e.top&&n.push(""+this.getClass("element-attached")+"-"+e.top),e.left&&n.push(""+this.getClass("element-attached")+"-"+e.left),t.top&&n.push(""+this.getClass("target-attached")+"-"+t.top),t.left&&n.push(""+this.getClass("target-attached")+"-"+t.left),r=[];for(o=0,f=s.length;o<f;o++)i=s[o],r.push(""+this.getClass("element-attached")+"-"+i);for(u=0,l=s.length;u<l;u++)i=s[u],r.push(""+this.getClass("target-attached")+"-"+i);return a(function(){if(h._addAttachClasses==null)return;return N(h.element,h._addAttachClasses,r),N(h.target,h._addAttachClasses,r),h._addAttachClasses=void 0})},e.prototype.position=function(e){var t,n,i,a,f,p,v,m,g,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X=this;e==null&&(e=!0);if(!this.enabled)return;this.clearCache(),A=u(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,A),t=this.cache("element-bounds",function(){return c(X.element)}),P=t.width,i=t.height,P===0&&i===0&&this.lastSize!=null?(I=this.lastSize,P=I.width,i=I.height):this.lastSize={width:P,height:i},_=M=this.cache("target-bounds",function(){return X.getTargetBounds()}),g=y(o(this.attachment),{width:P,height:i}),O=y(o(A),_),f=y(this.offset,{width:P,height:i}),p=y(this.targetOffset,_),g=s(g,f),O=s(O,p),a=M.left+O.left-g.left,D=M.top+O.top-g.top,q=r.modules;for(H=0,j=q.length;H<j;H++){v=q[H],T=v.position.call(this,{left:a,top:D,targetAttachment:A,targetPos:M,attachment:this.attachment,elementPos:t,offset:g,targetOffset:O,manualOffset:f,manualTargetOffset:p,scrollbarSize:k});if(T==null||typeof T!="object")continue;if(T===!1)return!1;D=T.top,a=T.left}m={page:{top:D,left:a},viewport:{top:D-pageYOffset,bottom:pageYOffset-D-i+innerHeight,left:a-pageXOffset,right:pageXOffset-a-P+innerWidth}},document.body.scrollWidth>window.innerWidth&&(k=this.cache("scrollbar-size",d),m.viewport.bottom-=k.height),document.body.scrollHeight>window.innerHeight&&(k=this.cache("scrollbar-size",d),m.viewport.right-=k.width);if((R=document.body.style.position)!==""&&R!=="static"||(U=document.body.parentElement.style.position)!==""&&U!=="static")m.page.bottom=document.body.scrollHeight-D-i,m.page.right=document.body.scrollWidth-a-P;if(((z=this.options.optimizations)!=null?z.moveElement:void 0)!==!1&&this.targetModifier==null){w=this.cache("target-offsetparent",function(){return h(X.target)}),x=this.cache("target-offsetparent-bounds",function(){return c(w)}),S=getComputedStyle(w),n=getComputedStyle(this.element),E=x,b={},W=["Top","Left","Bottom","Right"];for(B=0,F=W.length;B<F;B++)L=W[B],b[L.toLowerCase()]=parseFloat(S["border"+L+"Width"]);x.right=document.body.scrollWidth-x.left-E.width+b.right,x.bottom=document.body.scrollHeight-x.top-E.height+b.bottom,m.page.top>=x.top+b.top&&m.page.bottom>=x.bottom&&m.page.left>=x.left+b.left&&m.page.right>=x.right&&(C=w.scrollTop,N=w.scrollLeft,m.offset={top:m.page.top-x.top+C-b.top,left:m.page.left-x.left+N-b.left})}return this.move(m),this.history.unshift(m),this.history.length>3&&this.history.pop(),e&&l(),!0},e.prototype.move=function(e){var t,n,r,i,s,o,u,l,c,p,d,v,m,g,y,b,w,E=this;if(this.element.parentNode==null)return;l={};for(p in e){l[p]={};for(i in e[p]){r=!1,b=this.history;for(g=0,y=b.length;g<y;g++){u=b[g];if(!C((w=u[p])!=null?w[i]:void 0,e[p][i])){r=!0;break}}r||(l[p][i]=!0)}}t={top:"",left:"",right:"",bottom:""},c=function(e,n){var r,i,s;if(((s=E.options.optimizations)!=null?s.gpu:void 0)===!1)return e.top?t.top=""+n.top+"px":t.bottom=""+n.bottom+"px",e.left?t.left=""+n.left+"px":t.right=""+n.right+"px";e.top?(t.top=0,i=n.top):(t.bottom=0,i=-n.bottom),e.left?(t.left=0,r=n.left):(t.right=0,r=-n.right),t[T]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)";if(T!=="msTransform")return t[T]+=" translateZ(0)"},s=!1,(l.page.top||l.page.bottom)&&(l.page.left||l.page.right)?(t.position="absolute",c(l.page,e.page)):(l.viewport.top||l.viewport.bottom)&&(l.viewport.left||l.viewport.right)?(t.position="fixed",c(l.viewport,e.viewport)):l.offset!=null&&l.offset.top&&l.offset.left?(t.position="absolute",o=this.cache("target-offsetparent",function(){return h(E.target)}),h(this.element)!==o&&a(function(){return E.element.parentNode.removeChild(E.element),o.appendChild(E.element)}),c(l.offset,e.offset),s=!0):(t.position="absolute",c({top:!0,left:!0},e.page)),!s&&this.element.parentNode.tagName!=="BODY"&&(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),m={},v=!1;for(i in t)d=t[i],n=this.element.style[i],n!==""&&d!==""&&(i==="top"||i==="left"||i==="bottom"||i==="right")&&(n=parseFloat(n),d=parseFloat(d)),n!==d&&(v=!0,m[i]=t[i]);if(v)return a(function(){return f(E.element.style,m)})},e}(),r.position=E,this.Tether=f(k,r)}.call(this),function(){var e,t,n,r,i,s,o,u,a,f,l=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};f=this.Tether.Utils,o=f.getOuterSize,s=f.getBounds,u=f.getSize,r=f.extend,a=f.updateClasses,n=f.defer,t={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},e=["left","top","right","bottom"],i=function(t,n){var r,i,o,u,a,f,l;n==="scrollParent"?n=t.scrollParent:n==="window"&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement);if(n.nodeType!=null){i=u=s(n),a=getComputedStyle(n),n=[i.left,i.top,u.width+i.left,u.height+i.top];for(r=f=0,l=e.length;f<l;r=++f)o=e[r],o=o[0].toUpperCase()+o.substr(1),o==="Top"||o==="Left"?n[r]+=parseFloat(a["border"+o+"Width"]):n[r]-=parseFloat(a["border"+o+"Width"])}return n},this.Tether.modules.push({position:function(t){var o,u,f,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt=this;D=t.top,y=t.left,L=t.targetAttachment;if(!this.options.constraints)return!0;N=function(t){var n,r,i,s;tt.removeClass(t),s=[];for(r=0,i=e.length;r<i;r++)n=e[r],s.push(tt.removeClass(""+t+"-"+n));return s},$=this.cache("element-bounds",function(){return s(tt.element)}),g=$.height,P=$.width,P===0&&g===0&&this.lastSize!=null&&(J=this.lastSize,P=J.width,g=J.height),O=this.cache("target-bounds",function(){return tt.getTargetBounds()}),A=O.height,M=O.width,k={},m={},u=[this.getClass("pinned"),this.getClass("out-of-bounds")],K=this.options.constraints;for(H=0,I=K.length;H<I;H++)v=K[H],v.outOfBoundsClass&&u.push(v.outOfBoundsClass),v.pinnedClass&&u.push(v.pinnedClass);for(B=0,q=u.length;B<q;B++){d=u[B],Q=["left","top","right","bottom"];for(j=0,R=Q.length;j<R;j++)C=Q[j],u.push(""+d+"-"+C)}o=[],k=r({},L),m=r({},this.attachment),G=this.options.constraints;for(F=0,U=G.length;F<U;F++){v=G[F],_=v.to,f=v.attachment,S=v.pin,f==null&&(f=""),l.call(f," ")>=0?(Y=f.split(" "),p=Y[0],h=Y[1]):h=p=f,c=i(this,_);if(p==="target"||p==="both")D<c[1]&&k.top==="top"&&(D+=A,k.top="bottom"),D+g>c[3]&&k.top==="bottom"&&(D-=A,k.top="top");p==="together"&&(D<c[1]&&k.top==="top"&&(m.top==="bottom"?(D+=A,k.top="bottom",D+=g,m.top="top"):m.top==="top"&&(D+=A,k.top="bottom",D-=g,m.top="bottom")),D+g>c[3]&&k.top==="bottom"&&(m.top==="top"?(D-=A,k.top="top",D-=g,m.top="bottom"):m.top==="bottom"&&(D-=A,k.top="top",D+=g,m.top="top")),k.top==="middle"&&(D+g>c[3]&&m.top==="top"?(D-=g,m.top="bottom"):D<c[1]&&m.top==="bottom"&&(D+=g,m.top="top")));if(h==="target"||h==="both")y<c[0]&&k.left==="left"&&(y+=M,k.left="right"),y+P>c[2]&&k.left==="right"&&(y-=M,k.left="left");h==="together"&&(y<c[0]&&k.left==="left"?m.left==="right"?(y+=M,k.left="right",y+=P,m.left="left"):m.left==="left"&&(y+=M,k.left="right",y-=P,m.left="right"):y+P>c[2]&&k.left==="right"?m.left==="left"?(y-=M,k.left="left",y-=P,m.left="right"):m.left==="right"&&(y-=M,k.left="left",y+=P,m.left="left"):k.left==="center"&&(y+P>c[2]&&m.left==="left"?(y-=P,m.left="right"):y<c[0]&&m.left==="right"&&(y+=P,m.left="left")));if(p==="element"||p==="both")D<c[1]&&m.top==="bottom"&&(D+=g,m.top="top"),D+g>c[3]&&m.top==="top"&&(D-=g,m.top="bottom");if(h==="element"||h==="both")y<c[0]&&m.left==="right"&&(y+=P,m.left="left"),y+P>c[2]&&m.left==="left"&&(y-=P,m.left="right");typeof S=="string"?S=function(){var e,t,n,r;n=S.split(","),r=[];for(t=0,e=n.length;t<e;t++)E=n[t],r.push(E.trim());return r}():S===!0&&(S=["top","left","right","bottom"]),S||(S=[]),x=[],b=[],D<c[1]&&(l.call(S,"top")>=0?(D=c[1],x.push("top")):b.push("top")),D+g>c[3]&&(l.call(S,"bottom")>=0?(D=c[3]-g,x.push("bottom")):b.push("bottom")),y<c[0]&&(l.call(S,"left")>=0?(y=c[0],x.push("left")):b.push("left")),y+P>c[2]&&(l.call(S,"right")>=0?(y=c[2]-P,x.push("right")):b.push("right"));if(x.length){T=(Z=this.options.pinnedClass)!=null?Z:this.getClass("pinned"),o.push(T);for(X=0,z=x.length;X<z;X++)C=x[X],o.push(""+T+"-"+C)}if(b.length){w=(et=this.options.outOfBoundsClass)!=null?et:this.getClass("out-of-bounds"),o.push(w);for(V=0,W=b.length;V<W;V++)C=b[V],o.push(""+w+"-"+C)}if(l.call(x,"left")>=0||l.call(x,"right")>=0)m.left=k.left=!1;if(l.call(x,"top")>=0||l.call(x,"bottom")>=0)m.top=k.top=!1;(k.top!==L.top||k.left!==L.left||m.top!==this.attachment.top||m.left!==this.attachment.left)&&this.updateAttachClasses(m,k)}return n(function(){return a(tt.target,o,u),a(tt.element,o,u)}),{top:D,left:y}}})}.call(this),function(){var e,t,n,r;r=this.Tether.Utils,t=r.getBounds,n=r.updateClasses,e=r.defer,this.Tether.modules.push({position:function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A=this;d=r.top,f=r.left,T=this.cache("element-bounds",function(){return t(A.element)}),a=T.height,v=T.width,p=this.getTargetBounds(),u=d+a,l=f+v,i=[];if(d<=p.bottom&&u>=p.top){N=["left","right"];for(m=0,w=N.length;m<w;m++)c=N[m],((C=p[c])===f||C===l)&&i.push(c)}if(f<=p.right&&l>=p.left){k=["top","bottom"];for(g=0,E=k.length;g<E;g++)c=k[g],((L=p[c])===d||L===u)&&i.push(c)}o=[],s=[],h=["left","top","right","bottom"],o.push(this.getClass("abutted"));for(y=0,S=h.length;y<S;y++)c=h[y],o.push(""+this.getClass("abutted")+"-"+c);i.length&&s.push(this.getClass("abutted"));for(b=0,x=i.length;b<x;b++)c=i[b],s.push(""+this.getClass("abutted")+"-"+c);return e(function(){return n(A.target,s,o),n(A.element,s,o)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(e){var t,n,r,i,s,o,u;o=e.top,t=e.left;if(!this.options.shift)return;return n=function(e){return typeof e=="function"?e.call(this,{top:o,left:t}):e},r=n(this.options.shift),typeof r=="string"?(r=r.split(" "),r[1]||(r[1]=r[0]),s=r[0],i=r[1],s=parseFloat(s,10),i=parseFloat(i,10)):(u=[r.top,r.left],s=u[0],i=u[1]),o+=s,t+=i,{top:o,left:t}}})}.call(this),this.Tether}),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/views/lock",["marionette","collab/templates/gadget_lock","collab/vent","tether"],function(e,n,r,i){var s;return s=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return t(s,e),s.prototype.template=_.template(n),s.prototype.initialize=function(e){this.gadgetId=e.gadgetId,this.site=e.site,this.mediator=e.mediator,this.conn=e.conn},s.prototype.onShow=function(){return r.on("lock:lock",this.onLockLocked,this),r.on("lock:unlock",this.onLockUnlocked,this),this.conn.on("ws:close",this._unlock,this),this.conn.activeLocks.each(function(e){return function(t){return e.onLockLocked(t)}}(this))},s.prototype.onClose=function(){return r.off("lock:lock",this.onLockLocked,this),r.off("lock:unlock",this.onLockUnlocked,this),this.conn.off("ws:close",this._unlock,this)},s.prototype.ui={editor:".js-lock-avator",lock:".icon-lock"},s.prototype.isLocked=function(){return!!this._lock},s.prototype.templateHelpers=function(){return{isLocked:function(e){return function(){return e.isLocked()}}(this),name:function(e){return function(){if(!e._lock)return;return e._lock.get("user").firstname||e._lock.get("user").fn||"Anonymous"}}(this),profileImage:function(e){return function(){var t,n,r;if(!e._lock)return;return n=(r=e._lock.get("user").image)!=null?r.representations:void 0,n?(t=_.find(n,function(e){return e.scale==="140x140"}),t.location):""+e.site+"/assets/img/defaults/profile-retina.jpg"}}(this)}},s.prototype.onRender=function(){var e,t;return this.isLocked()?(this._lockTooltip=this.$(".collab-lock-tooltip"),this._lockIcon=this.$(".collab-lock-icon"),this._lockIcon.on("mouseover",function(e){return function(){return e._lockTooltip.css({"z-index":50,opacity:1})}}(this)),this._lockIcon.on("mouseout",function(e){return function(){return e._lockTooltip.css({opacity:0}),setTimeout(function(){return e._lockTooltip.css({"z-index":-1})},250)}}(this)),this._tether=new i({element:this._lockTooltip[0],target:this._lockIcon[0],attachment:"top right",targetAttachment:"middle left",offset:"16px 15px"})):((e=this._lockTooltip)!=null&&e.remove(),(t=this._tether)!=null&&t.destroy(),this._tether=null)},s.prototype.onLockLocked=function(e){if(e.get("gadgetId")===this.gadgetId)return this.updateLock(e)},s.prototype.updateLock=function(e){var t;if(e.get("user").id===((t=this.conn.me)!=null?t.id:void 0))return;return this._lock=e,this.render()},s.prototype.onLockUnlocked=function(e){var t;t=e.get("gadgetId");if(this._lock&&t===this.gadgetId)return this._unlock()},s.prototype._unlock=function(){if(!this._lock)return;return delete this._lock,this.render()},s}(e.ItemView)})}.call(this),function(){n("collab/templates/update",[],function(){return'<div class="updateNotification">\n  <i class="icon-refresh"></i><span class="updateNotificationMsg">See new update<span>\n</div>'})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("collab/views/update",["underscore","marionette","collab/templates/update","collab/vent"],function(t,n,i,s){var o;return o=function(n){function o(){return this.onCollabUpdate=e(this.onCollabUpdate,this),this.onCourseRefetchFail=e(this.onCourseRefetchFail,this),this.onCourseRefetchSuccess=e(this.onCourseRefetchSuccess,this),this.onUpdateNotificationClick=e(this.onUpdateNotificationClick,this),this.onLessonOpened=e(this.onLessonOpened,this),o.__super__.constructor.apply(this,arguments)}return r(o,n),o.prototype.initialize=function(e){return this.conn=e.conn,this.mediator=e.mediator,this._containerSlideTime=80},o.prototype.ui={collabErrorMsg:".collabErrorMsg",updateNotificationMsg:".updateNotificationMsg",updateNotification:".updateNotification"},o.prototype.events={"click .updateNotification":"onUpdateNotificationClick"},o.prototype.template=t.template(i),o.prototype.onShow=function(){return s.on("collab:update",this.onCollabUpdate),s.on("lesson:opened",this.onLessonOpened),this.conn.on("collab:ready",this.onEnableCollab),this.conn.on("collab:close",this.onDisableCollab)},o.prototype.onClose=function(){return s.off("collab:update",this.onCollabUpdate),s.off("lesson:opened",this.onLessonOpened),this.conn.off("collab:ready",this.onEnableCollab),this.conn.off("collab:close",this.onDisableCollab)},o.prototype.onLessonOpened=function(e){return this.lesson=e},o.prototype.onUpdateNotificationClick=function(){return this.conn.resetUpdates(),this.message("Fetching Updates..."),this.lesson.fetch().done(this.onCourseRefetchSuccess).fail(this.onCourseRefetchFail)},o.prototype.onCourseRefetchSuccess=function(){return this.conn.hasUpdates()?this.onCollabUpdate():this.slideUp()},o.prototype.onCourseRefetchFail=function(){return this.message("Failed to update lesson, please try again!")},o.prototype.onCollabUpdate=function(){var e;return e=this.conn.updateCount()===1?"See new update":"See "+this.conn.updateCount()+" new updates",this.conn.hasGadgetUpdates()&&(e+="; unlock updated gadgets"),this.message(e),this.slideDown()},o.prototype.slideUp=function(){return this.ui.updateNotification.slideUp(this._containerSlideTime)},o.prototype.slideDown=function(){return this.ui.updateNotification.slideDown(this._containerSlideTime)},o.prototype.message=function(e){return this.ui.updateNotificationMsg.text(e)},o}(n.Layout)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collab/collections/gadget_locks",["backbone","collab/models/gadget_lock"],function(e,n){var r;return r=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.model=n,r}(e.Collection)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};n("collab/collab",["underscore","backbone","collab/handlers/users","collab/handlers/locks","collab/handlers/comments","collab/handlers/updates","collab/handlers/activity","collab/views/contributors","collab/views/comments","collab/views/lock","collab/views/update","collab/vent","collab/models/gadget_comment","collab/models/gadget_lock","collab/collections/gadget_comments","collab/collections/collapsible_gadget_comments","collab/collections/gadget_locks"],function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g){var y;return y=function(){function y(){this._populatePlayerUpdate=e(this._populatePlayerUpdate,this),this._populatePlayerContrib=e(this._populatePlayerContrib,this),this.phoneHome=e(this.phoneHome,this),this.onMessage=e(this.onMessage,this),this.onClose=e(this.onClose,this),this.onOpen=e(this.onOpen,this),this.onError=e(this.onError,this),this.connect=e(this.connect,this)}return t.extend(y.prototype,n.Events),y.prototype.GadgetComment=p,y.prototype.GadgetComments=v,y.prototype.CollapsibleGadgetComments=m,y.prototype.GadgetLock=d,y.prototype.GadgetLocks=g,y.prototype.phoneHomeEveryMs=6e4,y.prototype.tryConnectingEveryMs=2e3,y.prototype.lastActivity=new Date,y.prototype.updates=[],y.prototype.init=function(e,t){this.mediator=e;if(this.initiated)return;return this.courseId=t.courseId,this.collabUrl=t.collabUrl,this.site=t.site,this.sessionId=t.api.sessionId,new r(this),new i(this),new s(this),new o(this),new u(this),this.contributorsView=new a({mediator:this.mediator,conn:this,site:this.site}),this.updateBarView=new c({mediator:this.mediator,conn:this}),this.initiated=!0,this.enabled=!1,this.subscribed=!1,this.activeLocks=new this.GadgetLocks,this.initializedGadgetViewContainers=[],this.mediator.on("collab:lesson:opened",this.onLessonOpened,this),this.mediator.on("collab:lesson:closed",this.onLessonClosed,this),this.mediator.on("collab:player:authorSideBar:ready",this._populatePlayerContrib,this),this.mediator.on("collab:player:course:ready",this._populatePlayerUpdate,this),this.connect(),this.resetLastActivity()},y.prototype.onLessonOpened=function(e){return this.enabled?this.checkForIdAndSubscribe(e):this.once("ws:open",function(t){return function(){return t.checkForIdAndSubscribe(e)}}(this))},y.prototype.checkForIdAndSubscribe=function(e){if(this.subscribed)return;return e.id?(this.subscribe(e.id),h.trigger("lesson:opened",e)):e.once("sync change",function(t){return function(){return t.checkForIdAndSubscribe(e)}}(this))},y.prototype.onLessonClosed=function(e){return this.unsubscribe(e.id),this.subscribed=!1},y.prototype.connect=function(){return this.socket=new WebSocket(this.collabUrl),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage},y.prototype.onError=function(e){var t;return t=e.channel?"error connecting to course "+e.channel.courseId+" lesson "+e.channel.courseId:"error connecting to "+this.collabUrl,this.trigger("ws:error",t,e)},y.prototype.onOpen=function(){return this.cancelRetryConnect(),this.phoneHomePeriodically(),this.enabled=!0,this.lessonId&&this.subscribe(this.lessonId),this.trigger("ws:open"),this.mediator.trigger("course:collab:open")},y.prototype.subscribe=function(e){this.lessonId=e;if(!this.lessonId)throw new Error("No lesson ID to subscribe to");return this.triggerEvent("subscribe",{sessionId:this.sessionId})},y.prototype.unsubscribe=function(){return this.triggerEvent("unsubscribe"),delete this.lessonId},y.prototype.onClose=function(e){e==null&&(e=!0),clearTimeout(this.phoneHomeId),this.enabled=!1,this.subscribed=!1,this.trigger("ws:close"),this.trigger("unsubscribed"),this.mediator.trigger("course:collab:close");if(e)return this.scheduleRetryConnect()},y.prototype.resetLastActivity=function(){return this.lastActivity=(new Date).getTime()},y.prototype.onMessage=function(e){var t,n;n=JSON.parse(e.data);if(n.name==="error"){console.warn("Error connecting to websocket server:",n);switch(n.data.error){case"Could not authorize":return this.onClose(!1);case"Could not authenticate":return this.onClose(!1)}}return this.subscribed||(this.subscribed=!0,this.trigger("subscribed")),t=this._dataToModels(n),this.trigger(n.name,t)},y.prototype.scheduleRetryConnect=function(){return this.retryId=setTimeout(this.connect,this.tryConnectingEveryMs)},y.prototype.cancelRetryConnect=function(){if(this.retryId)return clearTimeout(this.retryId)},y.prototype.phoneHome=function(){var e;return e=(new Date).getTime(),this.triggerEvent("ping",{idleMs:e-this.lastActivity})},y.prototype.phoneHomePeriodically=t.once(function(){return this.phoneHomeId=setInterval(this.phoneHome,this.phoneHomeEveryMs)}),y.prototype.triggerEvent=function(e,t){var n;return n={lessonId:this.lessonId,courseId:this.courseId},this.socket.send(JSON.stringify({name:e,channel:n,data:t}))},y.prototype.hasUpdates=function(){return!!this.updates.length},y.prototype.updateCount=function(){return this.updates.length},y.prototype.resetUpdates=function(){return this.updates=[]},y.prototype.hasGadgetUpdates=function(){return t.any(this.updates,function(e){return t.has(e,"gadgetId")})},y.prototype.gadgetHasUpdates=function(e){return!!t.findWhere(this.updates,{gadgetId:e})},y.prototype._dataToModels=function(e){var t,n,r,i,s,o;return s={comment:p,comments:v,lock:d,locks:g},r=this._dereferenceEventData(e),o=e.name.split(":"),i=o[0],n=o[1],t=s[i],t&&n!=="delete"?new t(r):r},y.prototype._dereferenceEventData=function(e){var t;return t=e.name.split(":").shift(),e.data[t]},y.prototype.commentsViewForGadgetId=function(e){return new f({gadgetId:e,mediator:this.mediator,site:this.site,conn:this})},y.prototype.lockViewForGadgetId=function(e){var t,n,r;return n=new l({gadgetId:e,mediator:this.mediator,site:this.site,conn:this}),(t=(r=this.activeLocks)!=null?r.findWhere({gadgetId:e}):void 0)&&n.updateLock(t),n},y.prototype._populatePlayerContrib=function(){return this.mediator.trigger("collab:populate:contributorsRegion",this.contributorsView)},y.prototype._populatePlayerUpdate=function(){return this.mediator.trigger("collab:populate:updateBar",this.updateBarView)},y}(),new y})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("views/react_view",["marionette","react","react-dom"],function(e,n,r){var i;return i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="span",n.prototype.template=function(){return""},n.prototype.initialize=function(e){if(!e.component)throw new Error("options.component undefined")},n.prototype.onShow=function(){return this.renderComponent(this.options.component)},n.prototype.onClose=function(){return r.unmountComponentAtNode(this.el),delete this._renderedComponent},n.prototype.renderedComponent=function(){return this._renderedComponent||function(){throw new Error("No component available")}()},n.prototype.renderComponent=function(e){if(this.isClosed)return;return this._renderedComponent=r.render(e,this.el)},n}(e.ItemView)})}.call(this),function(){n("templates/course",[],function(){return'<div class="js-update-notification-container updateNotificationContainer"></div>\n<div class="js-loading loading"></div>\n<div class="js-lessons lessons"></div>\n<div class="js-nav"></div>'})}.call(this),function(){function i(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}}var e={},t,r;t=this,t!=null&&(r=t.async),e.noConflict=function(){return t.async=r,e};var s=Object.prototype.toString,o=Array.isArray||function(e){return s.call(e)==="[object Array]"},u=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},a=function(e,t){if(e.map)return e.map(t);var n=[];return u(e,function(e,r,i){n.push(t(e,r,i))}),n},f=function(e,t,n){return e.reduce?e.reduce(t,n):(u(e,function(e,r,i){n=t(n,e,r,i)}),n)},l=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};typeof process=="undefined"||!process.nextTick?typeof setImmediate=="function"?(e.nextTick=function(e){setImmediate(e)},e.setImmediate=e.nextTick):(e.nextTick=function(e){setTimeout(e,0)},e.setImmediate=e.nextTick):(e.nextTick=process.nextTick,typeof setImmediate!="undefined"?e.setImmediate=function(e){setImmediate(e)}:e.setImmediate=e.nextTick),e.each=function(e,t,n){function s(t){t?(n(t),n=function(){}):(r+=1,r>=e.length&&n())}n=n||function(){};if(!e.length)return n();var r=0;u(e,function(e){t(e,i(s))})},e.forEach=e.each,e.eachSeries=function(e,t,n){n=n||function(){};if(!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n():i())})};i()},e.forEachSeries=e.eachSeries,e.eachLimit=function(e,t,n,r){var i=c(t);i.apply(null,[e,n,r])},e.forEachLimit=e.eachLimit;var c=function(e){return function(t,n,r){r=r||function(){};if(!t.length||e<=0)return r();var i=0,s=0,o=0;(function u(){if(i>=t.length)return r();while(o<e&&s<t.length)s+=1,o+=1,n(t[s-1],function(e){e?(r(e),r=function(){}):(i+=1,o-=1,i>=t.length?r():u())})})()}},h=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.each].concat(n))}},p=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[c(e)].concat(n))}},d=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.eachSeries].concat(n))}},v=function(e,t,n,r){t=a(t,function(e,t){return{index:t,value:e}});if(!r)e(t,function(e,t){n(e.value,function(e){t(e)})});else{var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}};e.map=h(v),e.mapSeries=d(v),e.mapLimit=function(e,t,n,r){return m(t)(e,n,r)};var m=function(e){return p(e,v)};e.reduce=function(t,n,r,i){e.eachSeries(t,function(e,t){r(n,e,function(e,r){n=r,t(e)})},function(e){i(e,n)})},e.inject=e.reduce,e.foldl=e.reduce,e.reduceRight=function(t,n,r,i){var s=a(t,function(e){return e}).reverse();e.reduce(s,n,r,i)},e.foldr=e.reduceRight;var g=function(e,t,n,r){var i=[];t=a(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){r(a(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.filter=h(g),e.filterSeries=d(g),e.select=e.filter,e.selectSeries=e.filterSeries;var y=function(e,t,n,r){var i=[];t=a(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){r(a(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.reject=h(y),e.rejectSeries=d(y);var b=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};e.detect=h(b),e.detectSeries=d(b),e.some=function(t,n,r){e.each(t,function(e,t){n(e,function(e){e&&(r(!0),r=function(){}),t()})},function(e){r(!1)})},e.any=e.some,e.every=function(t,n,r){e.each(t,function(e,t){n(e,function(e){e||(r(!1),r=function(){}),t()})},function(e){r(!0)})},e.all=e.every,e.sortBy=function(t,n,r){e.map(t,function(e,t){n(e,function(n,r){n?t(n):t(null,{value:e,criteria:r})})},function(e,t){if(e)return r(e);var n=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};r(null,a(t.sort(n),function(e){return e.value}))})},e.auto=function(t,n){n=n||function(){};var r=l(t),i=r.length;if(!i)return n();var s={},a=[],c=function(e){a.unshift(e)},h=function(e){for(var t=0;t<a.length;t+=1)if(a[t]===e){a.splice(t,1);return}},p=function(){i--,u(a.slice(0),function(e){e()})};c(function(){if(!i){var e=n;n=function(){},e(null,s)}}),u(r,function(r){var i=o(t[r])?t[r]:[t[r]],a=function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]);if(t){var o={};u(l(s),function(e){o[e]=s[e]}),o[r]=i,n(t,o),n=function(){}}else s[r]=i,e.setImmediate(p)},d=i.slice(0,Math.abs(i.length-1))||[],v=function(){return f(d,function(e,t){return e&&s.hasOwnProperty(t)},!0)&&!s.hasOwnProperty(r)};if(v())i[i.length-1](a,s);else{var m=function(){v()&&(h(m),i[i.length-1](a,s))};c(m)}})},e.retry=function(t,n,r){var i=5,s=[];typeof t=="function"&&(r=n,n=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){var u=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},o)}};while(t)s.push(u(n,!(t-=1)));e.series(s,function(e,t){t=t[t.length-1],(i||r)(t.err,t.result)})};return r?o():o},e.waterfall=function(t,n){n=n||function(){};if(!o(t)){var r=new Error("First argument to waterfall must be an array of functions");return n(r)}if(!t.length)return n();var i=function(t){return function(r){if(r)n.apply(null,arguments),n=function(){};else{var s=Array.prototype.slice.call(arguments,1),o=t.next();o?s.push(i(o)):s.push(n),e.setImmediate(function(){t.apply(null,s)})}}};i(e.iterator(t))()};var w=function(e,t,n){n=n||function(){};if(o(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(l(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};e.parallel=function(t,n){w({map:e.map,each:e.each},t,n)},e.parallelLimit=function(e,t,n){w({map:m(t),each:c(t)},e,n)},e.series=function(t,n){n=n||function(){};if(o(t))e.mapSeries(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.eachSeries(l(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}},e.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},e.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var E=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};e.concat=h(E),e.concatSeries=d(E),e.whilst=function(t,n,r){t()?n(function(i){if(i)return r(i);e.whilst(t,n,r)}):r()},e.doWhilst=function(t,n,r){t(function(i){if(i)return r(i);var s=Array.prototype.slice.call(arguments,1);n.apply(null,s)?e.doWhilst(t,n,r):r()})},e.until=function(t,n,r){t()?r():n(function(i){if(i)return r(i);e.until(t,n,r)})},e.doUntil=function(t,n,r){t(function(i){if(i)return r(i);var s=Array.prototype.slice.call(arguments,1);n.apply(null,s)?r():e.doUntil(t,n,r)})},e.queue=function(t,n){function r(t,n,r,i){t.started||(t.started=!0),o(n)||(n=[n]);if(n.length==0)return e.setImmediate(function(){t.drain&&t.drain()});u(n,function(n){var s={data:n,callback:typeof i=="function"?i:null};r?t.tasks.unshift(s):t.tasks.push(s),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),e.setImmediate(t.process)})}n===undefined&&(n=1);var s=0,a={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){r(a,e,!1,t)},kill:function(){a.drain=null,a.tasks=[]},unshift:function(e,t){r(a,e,!0,t)},process:function(){if(!a.paused&&s<a.concurrency&&a.tasks.length){var e=a.tasks.shift();a.empty&&a.tasks.length===0&&a.empty(),s+=1;var n=function(){s-=1,e.callback&&e.callback.apply(e,arguments),a.drain&&a.tasks.length+s===0&&a.drain(),a.process()},r=i(n);t(e.data,r)}},length:function(){return a.tasks.length},running:function(){return s},idle:function(){return a.tasks.length+s===0},pause:function(){if(a.paused===!0)return;a.paused=!0},resume:function(){if(a.paused===!1)return;a.paused=!1;for(var t=1;t<=a.concurrency;t++)e.setImmediate(a.process)}};return a},e.priorityQueue=function(t,n){function r(e,t){return e.priority-t.priority}function i(e,t,n){var r=-1,i=e.length-1;while(r<i){var s=r+(i-r+1>>>1);n(t,e[s])>=0?r=s:i=s-1}return r}function s(t,n,s,a){t.started||(t.started=!0),o(n)||(n=[n]);if(n.length==0)return e.setImmediate(function(){t.drain&&t.drain()});u(n,function(n){var o={data:n,priority:s,callback:typeof a=="function"?a:null};t.tasks.splice(i(t.tasks,o,r)+1,0,o),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),e.setImmediate(t.process)})}var a=e.queue(t,n);return a.push=function(e,t,n){s(a,e,t,n)},delete a.unshift,a},e.cargo=function(t,n){var r=!1,i=[],s={tasks:i,payload:n,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){o(t)||(t=[t]),u(t,function(e){i.push({data:e,callback:typeof r=="function"?r:null}),s.drained=!1,s.saturated&&i.length===n&&s.saturated()}),e.setImmediate(s.process)},process:function f(){if(r)return;if(i.length===0){s.drain&&!s.drained&&s.drain(),s.drained=!0;return}var e=typeof n=="number"?i.splice(0,n):i.splice(0,i.length),o=a(e,function(e){return e.data});s.empty&&s.empty(),r=!0,t(o,function(){r=!1;var t=arguments;u(e,function(e){e.callback&&e.callback.apply(null,t)}),f()})},length:function(){return i.length},running:function(){return r}};return s};var S=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);typeof console!="undefined"&&(t?console.error&&console.error(t):console[e]&&u(n,function(t){console[e](t)}))}]))}};e.log=S("log"),e.dir=S("dir"),e.memoize=function(t,n){var r={},i={};n=n||function(e){return e};var s=function(){var s=Array.prototype.slice.call(arguments),o=s.pop(),u=n.apply(null,s);u in r?e.nextTick(function(){o.apply(null,r[u])}):u in i?i[u].push(o):(i[u]=[o],t.apply(null,s.concat([function(){r[u]=arguments;var e=i[u];delete i[u];for(var t=0,n=e.length;t<n;t++)e[t].apply(null,arguments)}])))};return s.memo=r,s.unmemoized=t,s},e.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},e.times=function(t,n,r){var i=[];for(var s=0;s<t;s++)i.push(s);return e.map(i,n,r)},e.timesSeries=function(t,n,r){var i=[];for(var s=0;s<t;s++)i.push(s);return e.mapSeries(i,n,r)},e.seq=function(){var t=arguments;return function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();e.reduce(t,r,function(e,t,r){t.apply(n,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,t){i.apply(n,[e].concat(t))})}},e.compose=function(){return e.seq.apply(null,Array.prototype.reverse.call(arguments))};var x=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};e.applyEach=h(x),e.applyEachSeries=d(x),e.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},typeof module!="undefined"&&module.exports?module.exports=e:typeof n!="undefined"&&n.amd?n("async",[],function(){return e}):t.async=e}(),function(){n("mediator",["underscore","backbone"],function(e,t){var n;return n=e.clone(t.Events)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collections/gadget_projects",["backbone","underscore","models/gadget_project"],function(e,n,r){var i;return i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.model=r,i.prototype.url=function(){return"/gadgets"},i.prototype.fetchFiltered=function(e,t){var r,i;return t==null&&(t={}),r=n.extend({},t.data,e),i=n.extend({},t,{data:r}),this.fetch(i)},i.prototype.fetchApproved=function(e){return this.fetchFiltered({catalog:"approved"},e)},i.prototype.fetchSandbox=function(e){return this.fetchFiltered({user:"me",catalog:"sandbox"},e)},i.prototype.findByType=function(e){var t,n,r,i,s,o,u;return o=e.split("@"),n=o[0],s=o[1],u=n.split("/"),i=u[0],r=u[1],t={username:i,name:r},s&&(t.version=s),this.findWhere(t)},i}(e.Collection)})}.call(this),function(){n("player_palette",["collections/gadget_projects","models/gadget_project"],function(e,t){var n,r,i,s,o,u,a,f,l;return a=new e,f=function(e){if(!e.manifestUrl)throw new Error("Palette: manifestUrl is not defined");return a.add(e)},s=function(e){var t;return t=new XMLHttpRequest,t.open("get",e),t.onload=function(n){return function(){var n,r;try{r=JSON.parse(t.responseText)}catch(i){return n=i,console.error("failed parsing manifest",n)}return r.manifestUrl=e,f(r)}}(this),t.onerror=function(e){return console.error("failed fetching manifest",e)},t.send()},o=function(e,t){var n;return n=window.Promise||window.ES6Promise.Promise,new n(function(n,r){var i,s;return VersalGadgets[e]?n(window.VersalGadgets[e]):(i=document.querySelector("script[src='"+t+"']"),i?i.addEventListener("load",u.bind(null,e,n,r)):(s=document.createElement("script"),s.src=t,s.addEventListener("load",u.bind(null,e,n,r)),document.head.appendChild(s)))})},u=function(e,t,n){var r;return r=window.VersalGadgets[e],r?t(r):n(new Error(""+e+" not found at "+url))},r=function(e){var t;t=a.findWhere({shortType:e});if(t)return t.toJSON()},i=function(e){var t;t=a.findWhere({manifestUrl:e});if(t)return t.toJSON()},l=function(e){return e.username+"/"+e.name},n=function(e){var t,n;n=i(e);if(!n)throw new Error("Gadget manifest not found: "+e);return t={config:n.defaultConfig,userState:n.defaultUserState,type:l(n),manifestUrl:e}},{installManifest:s,installReactGadget:o,registerManifest:f,findManifestByUrl:i,findManifestByShortType:r,createGadgetInstance:n,dirtyExportedPalette:a}})}.call(this),function(){n("plugins/clonedeep",[],function(){var e;return e=function(t){var n,r,i;if(t===null||typeof t!="object")return t;r=t.constructor();for(n in t)i=t[n],r[n]=e(i);return r}})}.call(this),function(){n("models/settings",["underscore","plugins/clonedeep"],function(e,t){var n,r;return n={site:"//versal.com",container:".player-container",feature_useLegacyIframeLauncher:!0,isProgressReportingEnabled:!0},r={},{get:function(e){return t(r[e])},set:function(t){if(!e.isEmpty(r))throw new Error("Options have already been set");if(!e.isObject(t))throw new Error("Options must be an object");if(t.api==null)throw new Error("Please set options.api!");return r=e.defaults({},t,n)},toJSON:function(){return t(r)}}})}.call(this),function(){n("plugins/ops-reporter",["jquery","models/settings"],function(e,t){var n,r,i,s,o,u;return n=function(){var e;return t.get("datapipesUrl")||((e=t.get("tracker"))!=null?e.path:void 0)},i=[],r=((o=t.get("tracker"))!=null?o.interval:void 0)||3e3,u=function(){var r,s,o;return s=n(),!s||i.length<1?!1:(r=_.clone(i),e.ajax({type:"POST",url:s,contentType:"application/json",data:JSON.stringify(i),success:function(){return i=_.difference(i,r)},headers:{AUTHSID:(o=t.get("api"))!=null?o.sessionId:void 0}}))},s=_.throttle(u,r,{leading:!1}),{addEvent:function(e,t){var n,r;try{return r={source:t._source||"player",event:e,data:t},i.push(r),s()}catch(o){return n=o,console.error(n)}}}})}.call(this),function(){n("plugins/tracker",["underscore","jquery","models/settings","plugins/ops-reporter"],function(e,t,n,r){var i,s,o,u;return o=function(){var e;return n.get("datapipesUrl")||((e=n.get("tracker"))!=null?e.path:void 0)},i=function(){function t(e){this._name=e.name||"",this._initialData=e.data||{},this._stopCb=e.done||function(){},this._startTime=this._currentTime()}return t.prototype.stop=function(t){return this._stopCb({name:this._name,data:e.extend({},this._initialData,t),duration:this._currentTime()-this._startTime})},t.prototype._currentTime=function(){return(new Date).getTime()},t}(),s=function(){function t(){}return t.prototype.track=function(e,t){var i;t==null&&(t={}),o()&&r.addEvent(e,t);if((i=n.get("tracker"))!=null?i.debug:void 0)return console.log("track:",e,t)},t.prototype.createTimer=function(t,n){var r;return n==null&&(n={}),r=function(t){return function(n){var r,i,s;return s=n.name,r=n.data,i=n.duration,t.track(s,e.extend(r,{duration:i}))}}(this),new i({name:t,data:n,done:r})},t.prototype.timeXHR=function(e,t,n){var r;return r=this.createTimer(t,n),e.always(function(e,t){return r.stop({status:t})})},t}(),u=new s})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collections/gadgets",["backbone","underscore","models/gadget"],function(e,n,r){var i;return i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.model=r,i.prototype.url=function(){if(this.lesson)return n.result(this.lesson,"url")+"/gadgets"},i.prototype.initialize=function(e,t){return this.lesson=t&&t.lesson?t.lesson:void 0},i}(e.Collection)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("models/lesson",["backbone","underscore","collections/gadgets"],function(e,n,r){var i;return i=function(e){function i(e,t){e==null&&(e={}),t==null&&(t={}),this.gadgets=new r([],{lesson:this}),t.parse=!0,this.debouncedSave=n.debounce(this.save.bind(this),1e3),i.__super__.constructor.call(this,e,t)}return t(i,e),i.prototype.defaults={title:"Untitled lesson",isActive:!1},i.prototype._locals=["isActive"],i.prototype.parse=function(e){if(!e)return;return e.gadgets&&this.gadgets.reset(e.gadgets,{parse:!0}),n.omit(e,"gadgets",this._locals)},i.prototype.toJSON=function(e){var t;t=n.clone(this.attributes);if(e!=null?e.gadgets:void 0)t.gadgets=this.gadgets.toJSON();return n.omit(t,this._locals)},i.prototype.url=function(){return this.id==null&&console.warn("Tried to get lesson URL while it doesn't have an ID yet"),i.__super__.url.apply(this,arguments)},i}(e.Model)})}.call(this),function(){n("templates/lesson",[],function(){return'<div class="js-lesson-title" style="overflow: hidden"></div>\n\n<div class="lesson-content js-lesson-content">\n  <div class="gadgets js-lesson-gadgets">\n    <p class="canvas-message">\n      To begin, grab a gadget<br> and drag it onto the canvas\n    </p>\n  </div>\n</div>\n\n<div class="lesson-screen js-lesson-screen"></div>'})}.call(this),function(e,r){if(typeof exports=="object")module.exports=r(t("react"));else if(typeof n=="function"&&n.amd)n("react-coffeescript-glue",["react"],r);else{var i="ReactCoffeescriptGlue",s=i.split("."),o=e;for(var u=0;u<s.length-1;u++)o[s[u]]===undefined&&(o[s[u]]={}),o=o[s[u]];o[s[s.length-1]]=r(e.React)}}(this,function(e){function t(t){return{react:e}[t]}var n=function(){var t,n,r,i,s=[].slice;t=function(t){if(!{}.hasOwnProperty.call(e.DOM,t)||t==="injection")return;return window["_"+t]=function(){var n,r,i,o,u,a,f,l,c,h;r=arguments[0],i=2<=arguments.length?s.call(arguments,1):[];if(Array.isArray(r)){u={className:""};for(f=0,l=r.length;f<l;f++){n=r[f];if(typeof n=="string")u.className+=" "+n;else for(o in n)a=n[o],u[o]=a}return(c=e.DOM)[t].apply(c,[u].concat(s.call(i)))}return(h=e.DOM)[t].apply(h,[r].concat(s.call(i)))}},i=e.DOM;for(r in i)n=i[r],t(r)}.call(this);return n}),function(){n("views/gadget/drag_image",["react","react-coffeescript-glue"],function(e){var t;return t=e.createClass({getDefaultProps:function(){return{manifest:{title:"Untitled",author:"Anonymous",version:"0.0.0",distributedIconPath:"about:blank"}}},render:function(){return _div(["gadget-drag-image",this.props.className],_div(["gadget-drag-image-icon",{style:{backgroundImage:"url("+this.props.manifest.distributedIconPath+")"}}]),_div(["gadget-drag-image-details"],_div([],this.props.manifest.title),_div([],this.props.manifest.author),_div([],this.props.manifest.version)))}})})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},r=[].slice;n("models/property_sheet_schema",["underscore","backbone"],function(e,n){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.whiteListedAttributes={Text:[],Number:[],TextArea:[],Checkbox:[],Color:[],Select:["options"],Radio:["options"],Checkboxes:["options"],Date:["yearStart","yearEnd"],DateTime:["yearStart","yearEnd","minsInterval"],Range:["min","max","step"],Tags:["options","lowercase","duplicates","minLength","maxLength","updateAutoComplete"]},i.prototype.sanitizedSchema=function(){var e,t,n,r,i;r={},i=this.attributes;for(t in i)e=i[t],r[t]==null&&(n=this.sanitizedAttributes(e),n!=null&&(r[t]=n));return r},i.prototype.isEmpty=function(){return e.keys(this.sanitizedSchema()).length===0},i.prototype.sanitizedAttributes=function(t){var n;return typeof t=="string"?this.sanitizedAttributes({type:t}):typeof t!="object"?null:(n=this.whiteListedAttributes[t.type],n==null?null:e.pick.apply(e,[t,"type","title","validators"].concat(r.call(n))))},i.prototype._defaultDefinitionForValue=function(t){switch(typeof t){case"boolean":return"Checkbox";case"number":return"Number";case"string":return/^\#[a-f0-9]{6}$/i.test(t)?"Color":t.length>20?"TextArea":"Text";case"object":return e.isArray(t)&&e.every(t,function(e){var t;return(t=typeof e)==="string"||t==="number"})?{type:"Tags",options:e.uniq(t),updateAutoComplete:!0}:null;default:return null}},i}(n.Model)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("state/position",["backbone"],function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.defaults={lessonCid:null,gadgetCid:null},n}(e.Model),new n})}.call(this),function(){n("state/selection",["backbone"],function(e){var t;return t={},_.extend({clear:function(){return t={},this.trigger("selection:clear")},add:function(e){if("string"!=typeof e)throw new Error("gadgetId must be a string");return t[e]=!0,this.trigger("clipboard:item:selected")},remove:function(e){var n;if("string"!=typeof e)throw new Error("gadgetId must be a string");delete t[e];if(((n=Object.keys(t))!=null?n.length:void 0)===0)return this.trigger("selection:empty")},keys:function(){return Object.keys(t)}},e.Events)})}.call(this),function(){n("templates/gadget_instance",[],function(){return'<div class="gadget-left-bar js-left-bar-region"></div>\n\n<div class="gadgetContent"></div>\n<div class="js-placeholder placeholder">Click to edit this gadget</div>\n<div class="drag-overlay"></div>\n\n<div class="toolbar-right"></div>\n\n<div class="js-collab-lock-overlay gadget-collab-lock-overlay"></div>\n\n<div class="js-dialog-region gadget-dialog-container"></div>'})}.call(this),function(){n("views/render_in_body",["react","react-dom","react-coffeescript-glue"],function(e,t){var n;return n=e.createClass({componentWillMount:function(){return this._element=document.createElement("span"),document.body.appendChild(this._element)},componentDidMount:function(){return this._renderChildren()},componentDidUpdate:function(){return this._renderChildren()},_renderChildren:function(){return this.___renderedComponent=t.render(this.props.children,this._element)},componentWillUnmount:function(){return t.unmountComponentAtNode(this._element),document.body.removeChild(this._element),delete this._element},render:function(){return _span()},renderedComponent:function(){return this.___renderedComponent||function(){throw new Error("No component available")}()}})})}.call(this),function(){n("views/tether",["react","react-dom","tether"],function(e,t,n){var r;return r=e.createClass({propTypes:{zIndex:e.PropTypes.number,constraints:e.PropTypes.array,offset:e.PropTypes.string,targetAttachment:e.PropTypes.string,attachment:e.PropTypes.string},componentWillMount:function(){return this._shell=document.createElement("span"),this._shell.style.position="absolute",this._shell.style.display="inline-block",this.props.zIndex!=null&&(this._shell.style.zIndex=this.props.zIndex),document.body.appendChild(this._shell)},componentDidMount:function(){return this._renderTooltip()},componentDidUpdate:function(){return this._renderTooltip()},_tetherOptions:function(){return{element:this._shell,target:this.props.target||t.findDOMNode(this).parentElement,attachment:this.props.attachment,targetAttachment:this.props.targetAttachment,offset:this.props.offset||"0 0",optimizations:{moveElement:!1},constraints:this.props.constraints}},_renderTooltip:function(){return t.render(this.props.children,this._shell,function(e){return function(){return e._tether!=null?(e._tether.setOptions(e._tetherOptions()),e._tether.position()):e._tether=new n(e._tetherOptions())}}(this))},componentWillUnmount:function(){return this._tether.destroy(),t.unmountComponentAtNode(this._shell),document.body.removeChild(this._shell)},render:function(){return e.DOM.span()}})})}.call(this),n("libs/backbone-forms",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({initialize:function(e){var n=this;e=e||{};var r=this.schema=function(){if(e.schema)return t.result(e,"schema");var r=e.model;return r&&r.schema?t.isFunction(r.schema)?r.schema():r.schema:n.schema?t.isFunction(n.schema)?n.schema():n.schema:{}}();t.extend(this,t.pick(e,"model","data","idPrefix"));var i=this.constructor;this.template=e.template||i.template,this.Fieldset=e.Fieldset||i.Fieldset,this.Field=e.Field||i.Field,this.NestedField=e.NestedField||i.NestedField;var s=this.selectedFields=e.fields||t.keys(r),o=this.fields={};t.each(s,function(e){var t=r[e];o[e]=this.createField(e,t)},this);var u=e.fieldsets||[s],a=this.fieldsets=[];t.each(u,function(e){this.fieldsets.push(this.createFieldset(e))},this)},createFieldset:function(e){var t={schema:e,fields:this.fields};return new this.Fieldset(t)},createField:function(e,t){var n={form:this,key:e,schema:t,idPrefix:this.idPrefix};this.model?n.model=this.model:this.data?n.value=this.data[e]:n.value=null;var r=new this.Field(n);return this.listenTo(r.editor,"all",this.handleEditorEvent),r},handleEditorEvent:function(e,n){var r=n.key+":"+e;this.trigger.call(this,r,this,n);switch(e){case"change":this.trigger("change",this);break;case"focus":this.hasFocus||this.trigger("focus",this);break;case"blur":if(this.hasFocus){var i=this;setTimeout(function(){var e=t.find(i.fields,function(e){return e.editor.hasFocus});e||i.trigger("blur",i)},0)}}},render:function(){var n=this,r=this.fields,i=e(e.trim(this.template(t.result(this,"templateData"))));return i.find("[data-editors]").add(i).each(function(i,s){var o=e(s),u=o.attr("data-editors");if(t.isUndefined(u))return;var a=u=="*"?n.selectedFields||t.keys(r):u.split(",");t.each(a,function(e){var t=r[e];o.append(t.editor.render().el)})}),i.find("[data-fields]").add(i).each(function(i,s){var o=e(s),u=o.attr("data-fields");if(t.isUndefined(u))return;var a=u=="*"?n.selectedFields||t.keys(r):u.split(",");t.each(a,function(e){var t=r[e];o.append(t.render().el)})}),i.find("[data-fieldsets]").add(i).each(function(r,i){var s=e(i),o=s.attr("data-fieldsets");if(t.isUndefined(o))return;t.each(n.fieldsets,function(e){s.append(e.render().el)})}),this.setElement(i),this},validate:function(){var e=this,n=this.fields,r=this.model,i={};t.each(n,function(e){var t=e.validate();t&&(i[e.key]=t)});if(r&&r.validate){var s=r.validate(this.getValue());if(s){var o=t.isObject(s)&&!t.isArray(s);o||(i._others=i._others||[],i._others.push(s)),o&&t.each(s,function(e,t){if(n[t]&&!i[t])n[t].setError(e),i[t]=e;else{i._others=i._others||[];var r={};r[t]=e,i._others.push(r)}})}}return t.isEmpty(i)?null:i},commit:function(e){var n=this.validate();if(n)return n;var r,i=t.extend({error:function(e,t){r=t}},e);this.model.set(this.getValue(),i);if(r)return r},getValue:function(e){if(e)return this.fields[e].getValue();var n={};return t.each(this.fields,function(e){n[e.key]=e.getValue()}),n},setValue:function(e,t){var n={};typeof e=="string"?n[e]=t:n=e;var r;for(r in this.schema)n[r]!==undefined&&this.fields[r].setValue(n[r])},getEditor:function(e){var t=this.fields[e];if(!t)throw"Field not found: "+e;return t.editor},focus:function(){if(this.hasFocus)return;var e=this.fieldsets[0],t=e.getFieldAt(0);if(!t)return;t.editor.focus()},blur:function(){if(!this.hasFocus)return;var e=t.find(this.fields,function(e){return e.editor.hasFocus});e&&e.editor.blur()},trigger:function(e){return e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),n.View.prototype.trigger.apply(this,arguments)},remove:function(){t.each(this.fieldsets,function(e){e.remove()}),t.each(this.fields,function(e){e.remove()}),n.View.prototype.remove.call(this)}},{template:t.template("    <form data-fieldsets></form>  ",null,this.templateSettings),templateSettings:{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},editors:{}});return r.validators=function(){var e={};return e.errMessages={required:"Required",regexp:"Invalid",email:"Invalid email address",url:"Invalid URL",match:t.template('Must match field "<%= field %>"',null,r.templateSettings)},e.required=function(e){return e=t.extend({type:"required",message:this.errMessages.required},e),function(r){e.value=r;var i={type:e.type,message:t.isFunction(e.message)?e.message(e):e.message};if(r===null||r===undefined||r===!1||r==="")return i}},e.regexp=function(e){if(!e.regexp)throw new Error('Missing required "regexp" option for "regexp" validator');return e=t.extend({type:"regexp",message:this.errMessages.regexp},e),function(r){e.value=r;var i={type:e.type,message:t.isFunction(e.message)?e.message(e):e.message};if(r===null||r===undefined||r==="")return;if(!e.regexp.test(r))return i}},e.email=function(n){return n=t.extend({type:"email",message:this.errMessages.email,regexp:/^[\w\-]{1,}([\w\-\+.]{1,1}[\w\-]{1,}){0,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/},n),e.regexp(n)},e.url=function(n){return n=t.extend({type:"url",message:this.errMessages.url,regexp:/^(http|https):\/\/(([A-Z0-9][A-Z0-9_\-]*)(\.[A-Z0-9][A-Z0-9_\-]*)+)(:(\d+))?\/?/i},n),e.regexp(n)},e.match=function(e){if(!e.field)throw new Error('Missing required "field" options for "match" validator');return e=t.extend({type:"match",message:this.errMessages.match},e),function(r,i){e.value=r;var s={type:e.type,message:t.isFunction(e.message)?e.message(e):e.message};if(r===null||r===undefined||r==="")return;if(r!==i[e.field])return s}},e}(),r.Fieldset=n.View.extend({initialize:function(e){e=e||{};var n=this.schema=this.createSchema(e.schema);this.fields=t.pick(e.fields,n.fields),this.template=e.template||this.constructor.template},createSchema:function(e){return t.isArray(e)&&(e={fields:e}),e.legend=e.legend||null,e},getFieldAt:function(e){var t=this.schema.fields[e];return this.fields[t]},templateData:function(){return this.schema},render:function(){var n=this.schema,r=this.fields,i=e(e.trim(this.template(t.result(this,"templateData"))));return i.find("[data-fields]").add(i).each(function(n,i){var s=e(i),o=s.attr("data-fields");if(t.isUndefined(o))return;t.each(r,function(e){s.append(e.render().el)})}),this.setElement(i),this},remove:function(){t.each(this.fields,function(e){e.remove()}),n.View.prototype.remove.call(this)}},{template:t.template("    <fieldset data-fields>      <% if (legend) { %>        <legend><%= legend %></legend>      <% } %>    </fieldset>  ",null,r.templateSettings)}),r.Field=n.View.extend({initialize:function(e){e=e||{},t.extend(this,t.pick(e,"form","key","model","value","idPrefix"));var n=this.schema=this.createSchema(e.schema);this.template=e.template||n.template||this.constructor.template,this.errorClassName=e.errorClassName||this.constructor.errorClassName,this.editor=this.createEditor()},createSchema:function(e){return t.isString(e)&&(e={type:e}),e=t.extend({type:"Text",title:this.createTitle()},e),e.type=t.isString(e.type)?r.editors[e.type]:e.type,e},createEditor:function(){var e=t.extend(t.pick(this,"schema","form","key","model","value"),{id:this.createEditorId()}),n=this.schema.type;return new n(e)},createEditorId:function(){var e=this.idPrefix,n=this.key;return n=n.replace(/\./g,"_"),t.isString(e)||t.isNumber(e)?e+n:t.isNull(e)?n:this.model?this.model.cid+"_"+n:n},createTitle:function(){var e=this.key;return e=e.replace(/([A-Z])/g," $1"),e=e.replace(/^./,function(e){return e.toUpperCase()}),e},templateData:function(){var e=this.schema;return{help:e.help||"",title:e.title,fieldAttrs:e.fieldAttrs,editorAttrs:e.editorAttrs,key:this.key,editorId:this.editor.id}},render:function(){var n=this.schema,r=this.editor,i=e(e.trim(this.template(t.result(this,"templateData"))));return n.fieldClass&&i.addClass(n.fieldClass),n.fieldAttrs&&i.attr(n.fieldAttrs),i.find("[data-editor]").add(i).each(function(n,i){var s=e(i),o=s.attr("data-editor");if(t.isUndefined(o))return;s.append(r.render().el)}),this.setElement(i),this},validate:function(){var e=this.editor.validate();return e?this.setError(e.message):this.clearError(),e},setError:function(e){if(this.editor.hasNestedForm)return;this.$el.addClass(this.errorClassName),this.$("[data-error]").html(e)},clearError:function(){this.$el.removeClass(this.errorClassName),this.$("[data-error]").empty()},commit:function(){return this.editor.commit()},getValue:function(){return this.editor.getValue()},setValue:function(e){this.editor.setValue(e)},focus:function(){this.editor.focus()},blur:function(){this.editor.blur()},remove:function(){this.editor.remove(),n.View.prototype.remove.call(this)}},{template:t.template('    <div>      <label for="<%= editorId %>"><%= title %></label>      <div>        <span data-editor></span>        <div data-error></div>        <div><%= help %></div>      </div>    </div>  ',null,r.templateSettings),errorClassName:"error"}),r.NestedField=r.Field.extend({template:t.template(e.trim("    <div>      <span data-editor></span>      <% if (help) { %>        <div><%= help %></div>      <% } %>      <div data-error></div>    </div>  "),null,r.templateSettings)}),r.Editor=r.editors.Base=n.View.extend({defaultValue:null,hasFocus:!1,initialize:function(e){var e=e||{};if(e.model){if(!e.key)throw"Missing option: 'key'";this.model=e.model,this.value=this.model.get(e.key)}else e.value&&(this.value=e.value);this.value===undefined&&(this.value=this.defaultValue),t.extend(this,t.pick(e,"key","form"));var n=this.schema=e.schema||{};this.validators=e.validators||n.validators,this.$el.attr("id",this.id),this.$el.attr("name",this.getName()),n.editorClass&&this.$el.addClass(n.editorClass),n.editorAttrs&&this.$el.attr(n.editorAttrs)},getName:function(){var e=this.key||"";return e.replace(/\./g,"_")},getValue:function(){return this.value},setValue:function(e){this.value=e},focus:function(){throw"Not implemented"},blur:function(){throw"Not implemented"},commit:function(e){var t=this.validate();if(t)return t;this.listenTo(this.model,"invalid",function(e,n){t=n}),this.model.set(this.key,this.getValue(),e);if(t)return t},validate:function(){var e=this.$el,n=null,r=this.getValue(),i=this.form?this.form.getValue():{},s=this.validators,o=this.getValidator;return s&&t.every(s,function(e){return n=o(e)(r,i),n?!1:!0}),n},trigger:function(e){return e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),n.View.prototype.trigger.apply(this,arguments)},getValidator:function(e){var n=r.validators;if(t.isRegExp(e))return n.regexp({regexp:e});if(t.isString(e)){if(!n[e])throw new Error('Validator "'+e+'" not found');return n[e]()}if(t.isFunction(e))return e;if(t.isObject(e)&&e.type){var i=e;return n[i.type](i)}throw new Error("Invalid validator: "+e)}}),r.editors.Text=r.Editor.extend({tagName:"input",defaultValue:"",previousValue:"",events:{keyup:"determineChange",keypress:function(e){var t=this;setTimeout(function(){t.determineChange()},0)},select:function(e){this.trigger("select",this)},focus:function(e){this.trigger("focus",this)},blur:function(e){this.trigger("blur",this)}},initialize:function(e){r.editors.Base.prototype.initialize.call(this,e);var t=this.schema,n="text";t&&t.editorAttrs&&t.editorAttrs.type&&(n=t.editorAttrs.type),t&&t.dataType&&(n=t.dataType),this.$el.attr("type",n)},render:function(){return this.setValue(this.value),this},determineChange:function(e){var t=this.$el.val(),n=t!==this.previousValue;n&&(this.previousValue=t,this.trigger("change",this))},getValue:function(){return this.$el.val()},setValue:function(e){this.$el.val(e),this.previousValue=this.$el.val()},focus:function(){if(this.hasFocus)return;this.$el.focus()},blur:function(){if(!this.hasFocus)return;this.$el.blur()},select:function(){this.$el.select()}}),r.editors.TextArea=r.editors.Text.extend({tagName:"textarea"}),r.editors.Password=r.editors.Text.extend({initialize:function(e){r.editors.Text.prototype.initialize.call(this,e),this.$el.attr("type","password")}}),r.editors.Number=r.editors.Text.extend({defaultValue:0,events:t.extend({},r.editors.Text.prototype.events,{keypress:"onKeyPress",input:"determineChange"}),initialize:function(e){r.editors.Text.prototype.initialize.call(this,e),this.$el.attr("type","number"),this.$el.attr("step","any")},onKeyPress:function(e){var t=this,n=function(){setTimeout(function(){t.determineChange()},0)};if(e.charCode===0){n();return}var r=this.$el.val()+String.fromCharCode(e.charCode),i=/^-?[0-9]*\.?[0-9]*$/.test(r);i?n():e.preventDefault()},getValue:function(){var e=this.$el.val();return e===""?null:parseFloat(e,10)},setValue:function(e){e=function(){return t.isNumber(e)?e:t.isString(e)&&e!==""?parseFloat(e,10):null}(),t.isNaN(e)&&(e=null),r.editors.Text.prototype.setValue.call(this,e)}}),r.editors.Hidden=r.editors.Base.extend({defaultValue:"",initialize:function(e){r.editors.Text.prototype.initialize.call(this,e),this.$el.attr("type","hidden")},focus:function(){},blur:function(){}}),r.editors.Checkbox=r.editors.Base.extend({defaultValue:!1,tagName:"input",events:{click:function(e){this.trigger("change",this)},focus:function(e){this.trigger("focus",this)},blur:function(e){this.trigger("blur",this)}},initialize:function(e){r.editors.Base.prototype.initialize.call(this,e),this.$el.attr("type","checkbox")},render:function(){return this.setValue(this.value),this},getValue:function(){return this.$el.prop("checked")},setValue:function(e){e&&this.$el.prop("checked",!0)},focus:function(){if(this.hasFocus)return;this.$el.focus()},blur:function(){if(!this.hasFocus)return;this.$el.blur()}}),r.editors.Select=r.editors.Base.extend({tagName:"select",events:{change:function(e){this.trigger("change",this)},focus:function(e){this.trigger("focus",this)},blur:function(e){this.trigger("blur",this)}},initialize:function(e){r.editors.Base.prototype.initialize.call(this,e);if(!this.schema||!this.schema.options)throw"Missing required 'schema.options'"},render:function(){return this.setOptions(this.schema.options),this},setOptions:function(e){var r=this;if(e instanceof n.Collection){var i=e;i.length>0?this.renderOptions(e):i.fetch({success:function(t){r.renderOptions(e)}})}else t.isFunction(e)?e(function(e){r.renderOptions(e)},r):this.renderOptions(e)},renderOptions:function(e){var t=this.$el,n;n=this._getOptionsHtml(e),t.html(n),this.setValue(this.value)},_getOptionsHtml:function(e){var r;if(t.isString(e))r=e;else if(t.isArray(e))r=this._arrayToHtml(e);else if(e instanceof n.Collection)r=this._collectionToHtml(e);else if(t.isFunction(e)){var i;e(function(e){i=e},this),r=this._getOptionsHtml(i)}return r},getValue:function(){return this.$el.val()},setValue:function(e){this.$el.val(e)},focus:function(){if(this.hasFocus)return;this.$el.focus()},blur:function(){if(!this.hasFocus)return;this.$el.blur()},_collectionToHtml:function(e){var t=[];e.each(function(e){t.push({val:e.id,label:e.toString()})});var n=this._arrayToHtml(t);return n},_arrayToHtml:function(e){var n=[];return t.each(e,function(e){if(t.isObject(e))if(e.group)n.push('<optgroup label="'+e.group+'">'),n.push(this._getOptionsHtml(e.options)),n.push("</optgroup>");else{var r=e.val||e.val===0?e.val:"";n.push('<option value="'+r+'">'+e.label+"</option>")}else n.push("<option>"+e+"</option>")},this),n.join("")}}),r.editors.Radio=r.editors.Select.extend({tagName:"ul",events:{"change input[type=radio]":function(){this.trigger("change",this)},"focus input[type=radio]":function(){if(this.hasFocus)return;this.trigger("focus",this)},"blur input[type=radio]":function(){if(!this.hasFocus)return;var e=this;setTimeout(function(){if(e.$("input[type=radio]:focus")[0])return;e.trigger("blur",e)},0)}},getValue:function(){return this.$("input[type=radio]:checked").val()},setValue:function(e){this.$("input[type=radio]").val([e])},focus:function(){if(this.hasFocus)return;var e=this.$("input[type=radio]:checked");if(e[0]){e.focus();return}this.$("input[type=radio]").first().focus()},blur:function(){if(!this.hasFocus)return;this.$("input[type=radio]:focus").blur()},_arrayToHtml:function(e){var n=[],r=this;return t.each(e,function(e,i){var s="<li>";if(t.isObject(e)){var o=e.val||e.val===0?e.val:"";s+='<input type="radio" name="'+r.id+'" value="'+o+'" id="'+r.id+"-"+i+'" />',s+='<label for="'+r.id+"-"+i+'">'+e.label+"</label>"}else s+='<input type="radio" name="'+r.id+'" value="'+e+'" id="'+r.id+"-"+i+'" />',s+='<label for="'+r.id+"-"+i+'">'+e+"</label>";s+="</li>",n.push(s)}),n.join("")}}),r.editors.Checkboxes=r.editors.Select.extend({tagName:"ul",events:{"click input[type=checkbox]":function(){this.trigger("change",this)},"focus input[type=checkbox]":function(){if(this.hasFocus)return;this.trigger("focus",this)},"blur input[type=checkbox]":function(){if(!this.hasFocus)return;var e=this;setTimeout(function(){if(e.$("input[type=checkbox]:focus")[0])return;e.trigger("blur",e)},0)}},getValue:function(){var t=[];return this.$("input[type=checkbox]:checked").each(function(){t.push(e(this).val())}),t},setValue:function(e){t.isArray(e)||(e=[e]),this.$("input[type=checkbox]").val(e)},focus:function(){if(this.hasFocus)return;this.$("input[type=checkbox]").first().focus()},blur:function(){if(!this.hasFocus)return;this.$("input[type=checkbox]:focus").blur()},_arrayToHtml:function(e){var n=[],r=this;return t.each(e,function(e,i){var s="<li>";if(t.isObject(e)){var o=e.val||e.val===0?e.val:"";s+='<input type="checkbox" name="'+r.id+'" value="'+o+'" id="'+r.id+"-"+i+'" />',s+='<label for="'+r.id+"-"+i+'">'+e.label+"</label>"}else s+='<input type="checkbox" name="'+r.id+'" value="'+e+'" id="'+r.id+"-"+i+'" />',s+='<label for="'+r.id+"-"+i+'">'+e+"</label>";s+="</li>",n.push(s)}),n.join("")}}),r.editors.Object=r.editors.Base.extend({hasNestedForm:!0,initialize:function(e){this.value={},r.editors.Base.prototype.initialize.call(this,e);if(!this.form)throw'Missing required option "form"';if(!this.schema.subSchema)throw new Error("Missing required 'schema.subSchema' option for Object editor")},render:function(){var e=this.form.constructor;return this.nestedForm=new e({schema:this.schema.subSchema,data:this.value,idPrefix:this.id+"_",Field:e.NestedField}),this._observeFormEvents(),this.$el.html(this.nestedForm.render().el),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){return this.nestedForm?this.nestedForm.getValue():this.value},setValue:function(e){this.value=e,this.render()},focus:function(){if(this.hasFocus)return;this.nestedForm.focus()},blur:function(){if(!this.hasFocus)return;this.nestedForm.blur()},remove:function(){this.nestedForm.remove(),n.View.prototype.remove.call(this)},validate:function(){return this.nestedForm.validate()},_observeFormEvents:function(){if(!this.nestedForm)return;this.nestedForm.on("all",function(){var e=t.toArray(arguments);e[1]=this,this.trigger.apply(this,e)},this)}}),r.editors.NestedModel=r.editors.Object.extend({initialize:function(e){r.editors.Base.prototype.initialize.call(this,e);if(!this.form)throw'Missing required option "form"';if(!e.schema.model)throw'Missing required "schema.model" option for NestedModel editor'},render:function(){var e=this.form.constructor,t=this.value||{},n=this.key,r=this.schema.model,i=t.constructor===r?t:new r(t);return this.nestedForm=new e({model:i,idPrefix:this.id+"_",fieldTemplate:"nestedField"}),this._observeFormEvents(),this.$el.html(this.nestedForm.render().el),this.hasFocus&&this.trigger("blur",this),this},commit:function(){var e=this.nestedForm.commit();return e?(this.$el.addClass("error"),e):r.editors.Object.prototype.commit.call(this)}}),r.editors.Date=r.editors.Base.extend({events:{"change select":function(){this.updateHidden(),this.trigger("change",this)},"focus select":function(){if(this.hasFocus)return;this.trigger("focus",this)},"blur select":function(){if(!this.hasFocus)return;var e=this;setTimeout(function(){if(e.$("select:focus")[0])return;e.trigger("blur",e)},0)}},initialize:function(e){e=e||{},r.editors.Base.prototype.initialize.call(this,e);var n=r.editors.Date,i=new Date;this.options=t.extend({monthNames:n.monthNames,showMonthNames:n.showMonthNames},e),this.schema=t.extend({yearStart:i.getFullYear()-100,yearEnd:i.getFullYear()},e.schema||{}),this.value&&!t.isDate(this.value)&&(this.value=new Date(this.value));if(!this.value){var s=new Date;s.setSeconds(0),s.setMilliseconds(0),this.value=s}this.template=e.template||this.constructor.template},render:function(){var n=this.options,r=this.schema,i=t.map(t.range(1,32),function(e){return'<option value="'+e+'">'+e+"</option>"}),s=t.map(t.range(0,12),function(e){var t=n.showMonthNames?n.monthNames[e]:e+1;return'<option value="'+e+'">'+t+"</option>"}),o=r.yearStart<r.yearEnd?t.range(r.yearStart,r.yearEnd+1):t.range(r.yearStart,r.yearEnd-1,-1),u=t.map(o,function(e){return'<option value="'+e+'">'+e+"</option>"}),a=e(e.trim(this.template({dates:i.join(""),months:s.join(""),years:u.join("")})));return this.$date=a.find('[data-type="date"]'),this.$month=a.find('[data-type="month"]'),this.$year=a.find('[data-type="year"]'),this.$hidden=e('<input type="hidden" name="'+this.key+'" />'),a.append(this.$hidden),this.setValue(this.value),this.setElement(a),this.$el.attr("id",this.id),this.$el.attr("name",this.getName()),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){var e=this.$year.val(),t=this.$month.val(),n=this.$date.val();return!e||!t||!n?null:new Date(e,t,n)},setValue:function(e){this.$date.val(e.getDate()),this.$month.val(e.getMonth()),this.$year.val(e.getFullYear()),this.updateHidden()},focus:function(){if(this.hasFocus)return;this.$("select").first().focus()},blur:function(){if(!this.hasFocus)return;this.$("select:focus").blur()},updateHidden:function(){var e=this.getValue();t.isDate(e)&&(e=e.toISOString()),this.$hidden.val(e)}},{template:t.template('    <div>      <select data-type="date"><%= dates %></select>      <select data-type="month"><%= months %></select>      <select data-type="year"><%= years %></select>    </div>  ',null,r.templateSettings),showMonthNames:!0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}),r.editors.DateTime=r.editors.Base.extend({events:{"change select":function(){this.updateHidden(),this.trigger("change",this)},"focus select":function(){if(this.hasFocus)return;this.trigger("focus",this)},"blur select":function(){if(!this.hasFocus)return;var e=this;setTimeout(function(){if(e.$("select:focus")[0])return;e.trigger("blur",e)},0)}},initialize:function(e){e=e||{},r.editors.Base.prototype.initialize.call(this,e),this.options=t.extend({DateEditor:r.editors.DateTime.DateEditor},e),this.schema=t.extend({minsInterval:15},e.schema||{}),this.dateEditor=new this.options.DateEditor(e),this.value=this.dateEditor.value,this.template=e.template||this.constructor.template},render:function(){function n(e){return e<10?"0"+e:e}var r=this.schema,i=t.map(t.range(0,24),function(e){return'<option value="'+e+'">'+n(e)+"</option>"}),s=t.map(t.range(0,60,r.minsInterval),function(e){return'<option value="'+e+'">'+n(e)+"</option>"}),o=e(e.trim(this.template({hours:i.join(),mins:s.join()})));return o.find("[data-date]").append(this.dateEditor.render().el),this.$hour=o.find('select[data-type="hour"]'),this.$min=o.find('select[data-type="min"]'),this.$hidden=o.find('input[type="hidden"]'),this.setValue(this.value),this.setElement(o),this.$el.attr("id",this.id),this.$el.attr("name",this.getName()),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){var e=this.dateEditor.getValue(),t=this.$hour.val(),n=this.$min.val();return!e||!t||!n?null:(e.setHours(t),e.setMinutes(n),e)},setValue:function(e){t.isDate(e)||(e=new Date(e)),this.dateEditor.setValue(e),this.$hour.val(e.getHours()),this.$min.val(e.getMinutes()),this.updateHidden()},focus:function(){if(this.hasFocus)return;this.$("select").first().focus()},blur:function(){if(!this.hasFocus)return;this.$("select:focus").blur()},updateHidden:function(){var e=this.getValue();t.isDate(e)&&(e=e.toISOString()),this.$hidden.val(e)},remove:function(){this.dateEditor.remove(),r.editors.Base.prototype.remove.call(this)}},{template:t.template('    <div class="bbf-datetime">      <div class="bbf-date-container" data-date></div>      <select data-type="hour"><%= hours %></select>      :      <select data-type="min"><%= mins %></select>    </div>  ',null,r.templateSettings),DateEditor:r.editors.Date}),r.VERSION="0.12.0",n.Form=r,r}),function(){n("plugins/backbone-forms.bootstrap",["jquery","underscore","backbone","libs/backbone-forms"],function(e,t,n){var r;return r=n.Form,r.template=t.template('<form class="form" data-fieldsets></form>'),r.Fieldset.template=t.template('<fieldset class="bbf-fieldset" data-fields>\n  <% if (legend) { %>\n    <legend><%= legend %></legend>\n  <% } %>\n</fieldset>'),r.Field.template=t.template('<div class="control-group field-<%= key %> bbf-field">\n  <% if (this.options.schema.type === "Checkbox") { %>\n    <div class="bbf-editor hacked-for-checkbox" data-editor><label class="control-label" for="<%= editorId %>"><%= title %></label></div>\n    <div class="clearfix"></div>\n  <% } else { %>\n    <label class="control-label" for="<%= editorId %>"><%= title %></label>\n    <div class="bbf-editor" data-editor></div>\n  <% } %>\n  <div class="bbf-error-tooltip-container">\n    <div class="bff-error-tooltip versal-tooltip versal-tooltip-text versal-tooltip-left versal-tooltip-align-top">\n      <div class="versal-tooltip-arrow"></div>\n      <div class="bbf-error" data-error></div>\n    </div>\n  </div>\n</div>'),r.editors.Date.template=t.template('<div class="bbf-date">\n  <select data-type="date" class="bbf-date"><%= dates %></select>\n  <select data-type="month" class="bbf-month"><%= months %></select>\n  <select data-type="year" class="bbf-year"><%= years %></select>\n</div>'),r.editors.DateTime.template=t.template('<div class="bbf-datetime">\n  <div class="bbf-date-container" data-date></div>\n  <select data-type="hour" style="width: 4em"><%= hours %></select>\n  :\n  <select data-type="min" style="width: 4em"><%= mins %></select>\n</div>'),r.Field.errorClassName="bbf-error"})}.call(this),function(e,t,n){function f(e,t,n){var r=[];for(var i=0;i<e.length;i++){var s=tinycolor(e[i]),u=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(t,e[i])?" sp-thumb-active":"";var a=o?"background-color:"+s.toRgbString():"filter:"+s.toFilter();r.push('<span title="'+s.toRgbString()+'" data-color="'+s.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+a+';" /></span>')}return"<div class='sp-cf "+n+"'>"+r.join("")+"</div>"}function l(){for(var e=0;e<i.length;e++)i[e]&&i[e].hide()}function c(e,n){var i=t.extend({},r,e);return i.callbacks={move:m(i.move,n),change:m(i.change,n),show:m(i.show,n),hide:m(i.hide,n),beforeShow:m(i.beforeShow,n)},i}function h(r,h){function gt(){d.showPaletteOnly&&(d.showPalette=!0),J.toggleClass("sp-flat",m),J.toggleClass("sp-input-disabled",!d.showInput),J.toggleClass("sp-alpha-enabled",d.showAlpha),J.toggleClass("sp-buttons-disabled",!d.showButtons),J.toggleClass("sp-palette-disabled",!d.showPalette),J.toggleClass("sp-palette-only",d.showPaletteOnly),J.toggleClass("sp-initial-disabled",!d.showInitial),J.addClass(d.className),jt()}function yt(){function o(e){return e.data&&e.data.ignore?(Ot(t(this).data("color")),Dt()):(Ot(t(this).data("color")),Bt(!0),Dt(),Lt()),!1}s&&J.find("*:not(input)").attr("unselectable","on"),gt(),at&&X.after(ft).hide();if(m)X.after(J).hide();else{var n=d.appendTo==="parent"?X.parent():t(d.appendTo);n.length!==1&&(n=t("body")),n.append(J)}if(w&&e.localStorage){try{var r=e.localStorage[w].split(",#");r.length>1&&(delete e.localStorage[w],t.each(r,function(e,t){bt(t)}))}catch(i){}try{I=e.localStorage[w].split(";")}catch(i){}}lt.bind("click.spectrum touchstart.spectrum",function(e){V||Ct(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(X.is(":disabled")||d.disabled===!0)&&Rt(),J.click(v),nt.change(Nt),nt.bind("paste",function(){setTimeout(Nt,1)}),nt.keydown(function(e){e.keyCode==13&&Nt()}),st.text(d.cancelText),st.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Lt("cancel")}),ot.text(d.chooseText),ot.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),_t()&&(Bt(!0),Lt())}),g(et,function(e,t,n){B=e/O,n.shiftKey&&(B=Math.round(B*10)/10),Dt()}),g(G,function(e,t){D=parseFloat(t/L),Dt()},xt,Tt),g(K,function(e,t,n){if(!n.shiftKey)U=null;else if(!U){var r=P*N,i=C-H*C,s=Math.abs(e-r)>Math.abs(t-i);U=s?"x":"y"}var o=!U||U==="x",u=!U||U==="y";o&&(P=parseFloat(e/N)),u&&(H=parseFloat((C-t)/C)),Dt()},xt,Tt),ht?(Ot(ht),Pt(),vt=dt||tinycolor(ht).format,bt(ht)):Pt(),m&&kt();var u=s?"mousedown.spectrum":"click.spectrum touchstart.spectrum";rt.delegate(".sp-thumb-el",u,o),it.delegate(".sp-thumb-el:nth-child(1)",u,{ignore:!0},o)}function bt(n){if(b){var r=tinycolor(n).toRgbString();if(t.inArray(r,I)===-1){I.push(r);while(I.length>q)I.shift()}if(w&&e.localStorage)try{e.localStorage[w]=I.join(";")}catch(i){}}}function wt(){var e=[],t=I,n={},r;if(d.showPalette){for(var i=0;i<F.length;i++)for(var s=0;s<F[i].length;s++)r=tinycolor(F[i][s]).toRgbString(),n[r]=!0;for(i=0;i<t.length;i++)r=tinycolor(t[i]).toRgbString(),n.hasOwnProperty(r)||(e.push(t[i]),n[r]=!0)}return e.reverse().slice(0,d.maxSelectionSize)}function Et(){var e=Mt(),n=t.map(F,function(t,n){return f(t,e,"sp-palette-row sp-palette-row-"+n)});I&&n.push(f(wt(),e,"sp-palette-row sp-palette-row-selection")),rt.html(n.join(""))}function St(){if(d.showInitial){var e=pt,t=Mt();it.html(f([e,t],t,"sp-palette-row-initial"))}}function xt(){(C<=0||N<=0||L<=0)&&jt(),J.addClass(R),U=null}function Tt(){J.removeClass(R)}function Nt(){var e=tinycolor(nt.val());e.ok?Ot(e):nt.addClass("sp-validation-error")}function Ct(){T?Lt():kt()}function kt(){var n=t.Event("beforeShow.spectrum");if(T){jt();return}X.trigger(n,[Mt()]);if(S.beforeShow(Mt())===!1||n.isDefaultPrevented())return;l(),T=!0,t(z).bind("click.spectrum",Lt),t(e).bind("resize.spectrum",x),ft.addClass("sp-active"),J.removeClass("sp-hidden"),d.showPalette&&Et(),jt(),Pt(),pt=Mt(),St(),S.show(pt),X.trigger("show.spectrum",[pt])}function Lt(n){if(n&&n.type=="click"&&n.button==2)return;if(!T||m)return;T=!1,t(z).unbind("click.spectrum",Lt),t(e).unbind("resize.spectrum",x),ft.removeClass("sp-active"),J.addClass("sp-hidden");var r=!tinycolor.equals(Mt(),pt);r&&(mt&&n!=="cancel"?Bt(!0):At()),S.hide(Mt()),X.trigger("hide.spectrum",[Mt()])}function At(){Ot(pt,!0)}function Ot(e,t){if(tinycolor.equals(e,Mt()))return;var n=tinycolor(e),r=n.toHsv();D=r.h%360/360,P=r.s,H=r.v,B=r.a,Pt(),n.ok&&!t&&(vt=dt||n.format)}function Mt(e){return e=e||{},tinycolor.fromRatio({h:D,s:P,v:H,a:Math.round(B*100)/100},{format:e.format||vt})}function _t(){return!nt.hasClass("sp-validation-error")}function Dt(){Pt(),S.move(Mt()),X.trigger("move.spectrum",[Mt()])}function Pt(){nt.removeClass("sp-validation-error"),Ht();var e=tinycolor.fromRatio({h:D,s:1,v:1});K.css("background-color",e.toHexString());var t=vt;B<1&&(t==="hex"||t==="hex3"||t==="hex6"||t==="name")&&(t="rgb");var n=Mt({format:t}),r=n.toHexString(),i=n.toRgbString();o||n.alpha===1?ct.css("background-color",i):(ct.css("background-color","transparent"),ct.css("filter",n.toFilter()));if(d.showAlpha){var u=n.toRgb();u.a=0;var a=tinycolor(u).toRgbString(),f="linear-gradient(left, "+a+", "+r+")";s?Z.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(Z.css("background","-webkit-"+f),Z.css("background","-moz-"+f),Z.css("background","-ms-"+f),Z.css("background",f))}d.showInput&&nt.val(n.toString(t)),d.showPalette&&Et(),St()}function Ht(){var e=P,t=H,n=e*N,r=C-t*C;n=Math.max(-k,Math.min(N-k,n-k)),r=Math.max(-k,Math.min(C-k,r-k)),Q.css({top:r,left:n});var i=B*O;tt.css({left:i-M/2});var s=D*L;Y.css({top:s-_})}function Bt(e){var t=Mt();ut&&X.val(t.toString(vt));var n=!tinycolor.equals(t,pt);pt=t,bt(t),e&&n&&(S.change(t),X.trigger("change",[t]))}function jt(){N=K.width(),C=K.height(),k=Q.height(),A=G.width(),L=G.height(),_=Y.height(),O=et.width(),M=tt.width(),m||(J.css("position","absolute"),J.offset(p(J,lt))),Ht()}function Ft(){X.show(),lt.unbind("click.spectrum touchstart.spectrum"),J.remove(),ft.remove(),i[Ut.id]=null}function It(e,r){if(e===n)return t.extend({},d);if(r===n)return d[e];d[e]=r,gt()}function qt(){V=!1,X.attr("disabled",!1),lt.removeClass("sp-disabled")}function Rt(){Lt(),V=!0,X.attr("disabled",!0),lt.addClass("sp-disabled")}var d=c(h,r),m=d.flat,b=d.showSelectionPalette,w=d.localStorageKey,E=d.theme,S=d.callbacks,x=y(jt,10),T=!1,N=0,C=0,k=0,L=0,A=0,O=0,M=0,_=0,D=0,P=0,H=0,B=1,j=d.palette.slice(0),F=t.isArray(j[0])?j:[j],I=d.selectionPalette.slice(0),q=d.maxSelectionSize,R="sp-dragging",U=null,z=r.ownerDocument,W=z.body,X=t(r),V=!1,J=t(a,z).addClass(E),K=J.find(".sp-color"),Q=J.find(".sp-dragger"),G=J.find(".sp-hue"),Y=J.find(".sp-slider"),Z=J.find(".sp-alpha-inner"),et=J.find(".sp-alpha"),tt=J.find(".sp-alpha-handle"),nt=J.find(".sp-input"),rt=J.find(".sp-palette"),it=J.find(".sp-initial"),st=J.find(".sp-cancel"),ot=J.find(".sp-choose"),ut=X.is("input"),at=ut&&!m,ft=at?t(u).addClass(E).addClass(d.className):t([]),lt=at?ft:X,ct=ft.find(".sp-preview-inner"),ht=d.color||ut&&X.val(),pt=!1,dt=d.preferredFormat,vt=dt,mt=!d.showButtons||d.clickoutFiresChange;yt();var Ut={show:kt,hide:Lt,toggle:Ct,reflow:jt,option:It,enable:qt,disable:Rt,set:function(e){Ot(e),Bt()},get:Mt,destroy:Ft,container:J};return Ut.id=i.push(Ut)-1,Ut}function p(e,n){var r=0,i=e.outerWidth(),s=e.outerHeight(),o=n.outerHeight(),u=e[0].ownerDocument,a=u.documentElement,f=a.clientWidth+t(u).scrollLeft(),l=a.clientHeight+t(u).scrollTop(),c=n.offset();return c.top+=o,c.left-=Math.min(c.left,c.left+i>f&&f>i?Math.abs(c.left+i-f):0),c.top-=Math.min(c.top,c.top+s>l&&l>s?Math.abs(s+o-r):r),c}function d(){}function v(e){e.stopPropagation()}function m(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function g(n,r,i,o){function d(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function v(e){if(a){if(s&&document.documentMode<9&&!e.button)return g();var t=e.originalEvent.touches,i=t?t[0].pageX:e.pageX,o=t?t[0].pageY:e.pageY,u=Math.max(0,Math.min(i-f.left,c)),p=Math.max(0,Math.min(o-f.top,l));h&&d(e),r.apply(n,[u,p,e])}}function m(e){var r=e.which?e.which==3:e.button==2,s=e.originalEvent.touches;!r&&!a&&i.apply(n,arguments)!==!1&&(a=!0,l=t(n).height(),c=t(n).width(),f=t(n).offset(),t(u).bind(p),t(u.body).addClass("sp-dragging"),h||v(e),d(e))}function g(){a&&(t(u).unbind(p),t(u.body).removeClass("sp-dragging"),o.apply(n,arguments)),a=!1}r=r||function(){},i=i||function(){},o=o||function(){};var u=n.ownerDocument||document,a=!1,f={},l=0,c=0,h="ontouchstart"in e,p={};p.selectstart=d,p.dragstart=d,p["touchmove mousemove"]=v,p["touchend mouseup"]=g,t(n).bind("touchstart mousedown",m)}function y(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,e.apply(i,s)};n&&clearTimeout(r);if(n||!r)r=setTimeout(o,t)}}function b(){e.console&&(Function.prototype.bind?b=Function.prototype.bind.call(console.log,console):b=function(){Function.prototype.apply.call(console.log,console,arguments)},b.apply(this,arguments))}var r={beforeShow:d,move:d,change:d,show:d,hide:d,color:!1,flat:!1,showInput:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},i=[],s=!!/msie/i.exec(e.navigator.userAgent),o=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),n=t.style;return n.cssText="background-color:rgba(0,0,0,.5)",e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),u=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),a=function(){var e="";if(s)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),w="spectrum.id";t.fn.spectrum=function(e,n){if(typeof e=="string"){var r=this,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=i[t(this).data(w)];if(n){var o=n[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");e=="get"?r=n.get():e=="container"?r=n.container:e=="option"?r=n.option.apply(n,s):e=="destroy"?(n.destroy(),t(this).removeData(w)):o.apply(n,s)}}),r}return this.spectrum("destroy").each(function(){var n=h(this,e);t(this).data(w,n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=g,t.fn.spectrum.defaults=r,t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("<input type='color' value='!' />")[0],n=e.type==="color"&&e.value!="!";n||t("input[type=color]").spectrum({preferredFormat:"hex6"})},function(e){function f(e,t){e=e?e:"",t=t||{};if(typeof e=="object"&&e.hasOwnProperty("_tc_id"))return e;var n=l(e),i=n.r,o=n.g,u=n.b,a=n.a,c=s(100*a)/100,p=t.format||n.format;return i<1&&(i=s(i)),o<1&&(o=s(o)),u<1&&(u=s(u)),{ok:n.ok,format:p,_tc_id:r++,alpha:a,toHsv:function(){var e=d(i,o,u);return{h:e.h*360,s:e.s,v:e.v,a:a}},toHsvString:function(){var e=d(i,o,u),t=s(e.h*360),n=s(e.s*100),r=s(e.v*100);return a==1?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+c+")"},toHsl:function(){var e=h(i,o,u);return{h:e.h*360,s:e.s,l:e.l,a:a}},toHslString:function(){var e=h(i,o,u),t=s(e.h*360),n=s(e.s*100),r=s(e.l*100);return a==1?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+c+")"},toHex:function(e){return m(i,o,u,e)},toHexString:function(e){return"#"+m(i,o,u,e)},toRgb:function(){return{r:s(i),g:s(o),b:s(u),a:a}},toRgbString:function(){return a==1?"rgb("+s(i)+", "+s(o)+", "+s(u)+")":"rgba("+s(i)+", "+s(o)+", "+s(u)+", "+c+")"},toPercentageRgb:function(){return{r:s(w(i,255)*100)+"%",g:s(w(o,255)*100)+"%",b:s(w(u,255)*100)+"%",a:a}},toPercentageRgbString:function(){return a==1?"rgb("+s(w(i,255)*100)+"%, "+s(w(o,255)*100)+"%, "+s(w(u,255)*100)+"%)":"rgba("+s(w(i,255)*100)+"%, "+s(w(o,255)*100)+"%, "+s(w(u,255)*100)+"%, "+c+")"},toName:function(){return y[m(i,o,u,!0)]||!1},toFilter:function(e){var n=m(i,o,u),r=n,s=Math.round(parseFloat(a)*255).toString(16),l=s,c=t&&t.gradientType?"GradientType = 1, ":"";if(e){var h=f(e);r=h.toHex(),l=Math.round(parseFloat(h.alpha)*255).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+c+"startColorstr=#"+N(s)+n+",endColorstr=#"+N(l)+r+")"},toString:function(e){e=e||this.format;var t=!1;e==="rgb"&&(t=this.toRgbString()),e==="prgb"&&(t=this.toPercentageRgbString());if(e==="hex"||e==="hex6")t=this.toHexString();return e==="hex3"&&(t=this.toHexString(!0)),e==="name"&&(t=this.toName()),e==="hsl"&&(t=this.toHslString()),e==="hsv"&&(t=this.toHsvString()),t||this.toHexString()}}}function l(e){var t={r:0,g:0,b:0},n=1,r=!1,i=!1;typeof e=="string"&&(e=L(e)),typeof e=="object"&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=c(e.r,e.g,e.b),r=!0,i=String(e.r).substr(-1)==="%"?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=C(e.s),e.v=C(e.v),t=v(e.h,e.s,e.v),r=!0,i="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=C(e.s),e.l=C(e.l),t=p(e.h,e.s,e.l),r=!0,i="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=parseFloat(n);if(isNaN(n)||n<0||n>1)n=1;return{ok:r,format:e.format||i,r:o(255,u(t.r,0)),g:o(255,u(t.g,0)),b:o(255,u(t.b,0)),a:n}}function c(e,t,n){return{r:w(e,255)*255,g:w(t,255)*255,b:w(n,255)*255}}function h(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var r=u(e,t,n),i=o(e,t,n),s,a,f=(r+i)/2;if(r==i)s=a=0;else{var l=r-i;a=f>.5?l/(2-r-i):l/(r+i);switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:a,l:f}}function p(e,t,n){function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var r,i,s;e=w(e,360),t=w(t,100),n=w(n,100);if(t===0)r=i=s=n;else{var u=n<.5?n*(1+t):n+t-n*t,a=2*n-u;r=o(a,u,e+1/3),i=o(a,u,e),s=o(a,u,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function d(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var r=u(e,t,n),i=o(e,t,n),s,a,f=r,l=r-i;a=r===0?0:l/r;if(r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:a,v:f}}function v(e,t,n){e=w(e,360)*6,t=w(t,100),n=w(n,100);var r=i.floor(e),s=e-r,o=n*(1-t),u=n*(1-s*t),a=n*(1-(1-s)*t),f=r%6,l=[n,u,o,o,a,n][f],c=[a,n,n,u,o,o][f],h=[o,o,a,n,n,u][f];return{r:l*255,g:c*255,b:h*255}}function m(e,t,n,r){var i=[N(s(e).toString(16)),N(s(t).toString(16)),N(s(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function b(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function w(e,t){x(e)&&(e="100%");var n=T(e);return e=o(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E(e){return o(1,u(0,e))}function S(e){return parseInt(e,16)}function x(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function T(e){return typeof e=="string"&&e.indexOf("%")!=-1}function N(e){return e.length==1?"0"+e:""+e}function C(e){return e<=1&&(e=e*100+"%"),e}function L(e){e=e.replace(t,"").replace(n,"").toLowerCase();var r=!1;if(g[e])e=g[e],r=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0};var i;return(i=k.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=k.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=k.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=k.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=k.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=k.hex6.exec(e))?{r:S(i[1]),g:S(i[2]),b:S(i[3]),format:r?"name":"hex"}:(i=k.hex3.exec(e))?{r:S(i[1]+""+i[1]),g:S(i[2]+""+i[2]),b:S(i[3]+""+i[3]),format:r?"name":"hex"}:!1}var t=/^[\s,#]+/,n=/\s+$/,r=0,i=Math,s=i.round,o=i.min,u=i.max,a=i.random;f.fromRatio=function(e,t){if(typeof e=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=C(e[r]));e=n}return f(e,t)},f.equals=function(e,t){return!e||!t?!1:f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:a(),g:a(),b:a()})},f.desaturate=function(e,t){var n=f(e).toHsl();return n.s-=(t||10)/100,n.s=E(n.s),f(n)},f.saturate=function(e,t){var n=f(e).toHsl();return n.s+=(t||10)/100,n.s=E(n.s),f(n)},f.greyscale=function(e){return f.desaturate(e,100)},f.lighten=function(e,t){var n=f(e).toHsl();return n.l+=(t||10)/100,n.l=E(n.l),f(n)},f.darken=function(e,t){var n=f(e).toHsl();return n.l-=(t||10)/100,n.l=E(n.l),f(n)},f.complement=function(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)},f.triad=function(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]},f.tetrad=function(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]},f.splitcomplement=function(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]},f.analogous=function(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),i=360/n,s=[f(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(f(r));return s},f.monochromatic=function(e,t){t=t||6;var n=f(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],u=1/t;while(t--)o.push(f({h:r,s:i,v:s})),s=(s+u)%1;return o},f.readability=function(e,t){var n=f(e).toRgb(),r=f(t).toRgb(),i=(n.r*299+n.g*587+n.b*114)/1e3,s=(r.r*299+r.g*587+r.b*114)/1e3,o=Math.max(n.r,r.r)-Math.min(n.r,r.r)+Math.max(n.g,r.g)-Math.min(n.g,r.g)+Math.max(n.b,r.b)-Math.min(n.b,r.b);return{brightness:Math.abs(i-s),color:o}},f.readable=function(e,t){var n=f.readability(e,t);return n.brightness>125&&n.color>500},f.mostReadable=function(e,t){var n=null,r=0,i=!1;for(var s=0;s<t.length;s++){var o=f.readability(e,t[s]),u=o.brightness>125&&o.color>500,a=3*(o.brightness/125)+o.color/500;if(u&&!i||u&&i&&a>r||!u&&!i&&a>r)i=u,r=a,n=f(t[s])}return n};var g=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},y=f.hexNames=b(g),k=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();e.tinycolor=f}(this),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}(window,jQuery),n("libs/spectrum",function(){}),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("views/backbone-forms/color",["libs/backbone-forms","libs/spectrum"],function(e){return e.editors.Color=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.events={"change  input[type=color]":"onColorChange","change  input[type=text]":"onTextChange","keyup   input[type=text]":"onTextChange","keydown input[type=text]":"onTextChange",focus:"onFocus",blur:"onBlur"},n.prototype.onColorChange=function(){return this.setPickerColor(this.$colorInput().val())},n.prototype.onTextChange=function(){return this.color=this.$textInput().val(),this.$colorInput().val(this.color),this.trigger("change",this)},n.prototype.onFocus=function(){return this.trigger("focus",this)},n.prototype.onBlur=function(){return this.trigger("blur",this)},n.prototype.render=function(){var e;return e=this.$colorInput(),this.$el.html(e),e[0].type!=="color"&&this.$colorInput().spectrum({color:this.value,move:function(e){return function(t){return e.setPickerColor("#"+t.toHex())}}(this)}),this.$el.append(this.$textInput()),this.setValue(this.value),this},n.prototype.setPickerColor=function(e){return this.color=e,this.$textInput().val(this.color),this.trigger("change",this)},n.prototype.$colorInput=function(){return this._colorInput!=null?this._colorInput:this._colorInput=$('<input class="input-color-color" type="color"></input>')},n.prototype.$textInput=function(){return this._textInput!=null?this._textInput:this._textInput=$('<input class="input-color-text" type="text"></input>')},n.prototype.getValue=function(){return this.color},n.prototype.setValue=function(e){return this.color=e,this.$colorInput().val(this.color),this.$textInput().val(this.color)},n.prototype.focus=function(){if(!this.hasFocus)return this.$colorInput().focus()},n.prototype.blur=function(){if(this.hasFocus)return this.$colorInput().blur()},n}(e.editors.Base)})}.call(this),function(){n("libs/clayer",[],function(){var e={};return window.clayer=e,e.texts={drag:"drag"},e.makeCall=function(e,t,n){if(e[t])return e[t].apply(e,n)},e.setCss3=function(e,t,n,r){r=r||!1;var i=["","-ms-","-moz-","-webkit-","-o-"];for(var s=0;s<i.length;s++){var o=i[s]+t,u=(r?i[s]:"")+n;e.css(o,u)}},e.isTouch="ontouchstart"in document.documentElement,e.initBody=function(){e.isTouch?$("body").addClass("clayer-body-touch"):$("body").addClass("clayer-body-mouse")},e.Touchable=function(){return this.init.apply(this,arguments)},e.Touchable.prototype={init:function(e,t){this.$element=e,this.$document=$(e[0].ownerDocument),this.callbacks=t,this.mouseDown=$.proxy(this.mouseDown,this),this.mouseMove=$.proxy(this.mouseMove,this),this.mouseUp=$.proxy(this.mouseUp,this),this.touchStart=$.proxy(this.touchStart,this),this.touchMove=$.proxy(this.touchMove,this),this.touchEnd=$.proxy(this.touchEnd,this),this.hoverMove=$.proxy(this.hoverMove,this),this.hoverLeave=$.proxy(this.hoverLeave,this),this.documentEvents={mousemove:this.mouseMove,mouseup:this.mouseUp,touchmove:this.touchMove,touchend:this.touchEnd,touchcancel:this.touchEnd},this.setTouchable(!1),this.setHoverable(!1)},remove:function(){this.setTouchable(!1),this.setHoverable(!1)},setTouchable:function(e){if(this.isTouchable===e)return;this.isTouchable=e,this.touchEvent=null,e?this.$element.on({mousedown:this.mouseDown,touchstart:this.touchStart}):(this.$element.off("mousedown touchstart"),this.$document.off(this.documentEvents))},setHoverable:function(e){if(this.isHoverable===e)return;this.isHoverable=e,this.hoverEvent=null,e?this.$element.on({mousemove:this.hoverMove,mouseleave:this.hoverLeave}):this.$element.off({mousemove:this.hoverMove,mouseleave:this.hoverLeave})},mouseDown:function(t){return this.isTouchable&&(this.$document.on({mousemove:this.mouseMove,mouseup:this.mouseUp}),this.touchEvent=new e.PositionEvent(this.$element,t,t.timeStamp,!0),e.makeCall(this.callbacks,"touchDown",[this.touchEvent])),!1},mouseMove:function(t){return this.isTouchable&&this.touchEvent&&(this.touchEvent.move(t,t.timeStamp),e.makeCall(this.callbacks,"touchMove",[this.touchEvent])),!1},mouseUp:function(t){return this.isTouchable&&this.touchEvent&&(this.touchEvent.up(t,t.timeStamp),e.makeCall(this.callbacks,"touchUp",[this.touchEvent]),this.touchEvent=null),this.$document.off(this.documentEvents),!1},touchStart:function(t){return this.$element.off({mousedown:this.mouseDown,mousemove:this.hoverMove,mouseleave:this.hoverLeave}),!this.isTouchable||this.touchEvent||t.originalEvent.targetTouches.length>1?this.touchEnd(t):(this.$document.on({touchmove:this.touchMove,touchend:this.touchEnd,touchcancel:this.touchEnd}),this.touchEvent=new e.PositionEvent(this.$element,t.originalEvent.targetTouches[0],t.timeStamp,!1),e.makeCall(this.callbacks,"touchDown",[this.touchEvent])),!1},touchMove:function(t){if(this.isTouchable&&this.touchEvent){var n=this.findTouchEvent(t.originalEvent.touches);n===null?this.touchEnd(t):(this.touchEvent.move(n,t.timeStamp),e.makeCall(this.callbacks,"touchMove",[this.touchEvent]))}return!1},touchEnd:function(t){return this.isTouchable&&this.touchEvent&&(this.touchEvent.up(this.findTouchEvent(t.originalEvent.touches),t.timeStamp),e.makeCall(this.callbacks,"touchUp",[this.touchEvent]),this.touchEvent=null),this.$document.off(this.documentEvents),!1},hoverMove:function(t){return this.touchEvent?this.mouseMove(t):this.isHoverable&&(this.hoverEvent?this.hoverEvent.move(t,t.timeStamp):this.hoverEvent=new e.PositionEvent(this.$element,t,!0),e.makeCall(this.callbacks,"hoverMove",[this.hoverEvent])),!1},hoverLeave:function(t){return this.isHoverable&&this.hoverEvent&&(this.hoverEvent.move(t),e.makeCall(this.callbacks,"hoverLeave",[this.hoverEvent]),this.hoverEvent=null),!1},findTouchEvent:function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchEvent.event.identifier)return e[t];return null}},e.PositionEvent=function(){return this.init.apply(this,arguments)},e.PositionEvent.prototype={init:function(e,t,n,r){this.$element=e,this.globalPoint={x:t.pageX,y:t.pageY},this.translation={x:0,y:0},this.deltaTranslation={x:0,y:0},this.localPoint={x:0,y:0},this.updateLocalPoint(),this.event=t,this.startTimestamp=this.timestamp=n,this.hasMoved=!1,this.wasTap=!1,this.mouse=r},getTimeSinceGoingDown:function(){return this.timestamp-this.startTimestamp},resetDeltaTranslation:function(){this.deltaTranslation.x=0,this.deltaTranslation.y=0},inElement:function(){return this.localPoint.x>=0&&this.localPoint.x<=this.$element.outerWidth()&&this.localPoint.y>=0&&this.localPoint.y<=this.$element.outerHeight()},move:function(e,t){this.event=e,this.timestamp=t,this.updatePositions()},up:function(e,t){this.event=e||this.event,this.timestamp=t,this.wasTap=!this.hasMoved&&this.getTimeSinceGoingDown()<300},updatePositions:function(){var e=this.event.pageX-this.globalPoint.x,t=this.event.pageY-this.globalPoint.y;this.translation.x+=e,this.translation.y+=t,this.deltaTranslation.x+=e,this.deltaTranslation.y+=t,this.globalPoint.x=this.event.pageX,this.globalPoint.y=this.event.pageY,this.updateLocalPoint(),this.translation.x*this.translation.x+this.translation.y*this.translation.y>200&&(this.hasMoved=!0)},updateLocalPoint:function(){var e=this.$element.offset();this.localPoint.x=this.globalPoint.x-e.left,this.localPoint.y=this.globalPoint.y-e.top}},e.Scrubbable=function(){return this.init.apply(this,arguments)},e.Scrubbable.prototype={init:function(t,n,r){this.$element=t,this.callbacks=n,this.options=r||{},this.touchable=new e.Touchable(t,this),this.setScrubbable(!0)},remove:function(){this.touchable.remove()},setScrubbable:function(e){this.touchable.setTouchable(e),this.options.disableHover?this.touchable.setHoverable(!1):this.touchable.setHoverable(e)},hoverMove:function(t){e.makeCall(this.callbacks,"scrubMove",[t.localPoint.x,t.localPoint.y,!1])},hoverLeave:function(t){e.makeCall(this.callbacks,"scrubLeave",[])},touchDown:function(e){this.touchMove(e)},touchMove:function(t){e.makeCall(this.callbacks,"scrubMove",[t.localPoint.x,t.localPoint.y,!0])},touchUp:function(t){!t.mouse||!t.inElement()?e.makeCall(this.callbacks,"scrubLeave",[]):this.hoverMove(t),t.wasTap&&e.makeCall(this.callbacks,"scrubTap",[t.localPoint.x,t.localPoint.y])}},e.Slider=function(){return this.init.apply(this,arguments)},e.Slider.prototype={init:function(t,n,r,i){this.$element=t,this.$element.addClass("clayer-slider"),this.callbacks=n,this.valueWidth=r||1,this.markerValue=0,this.knobValue=0,this.$container=$('<div class="clayer-slider-container"></div>'),this.$element.append(this.$container),this.$bar=$('<div class="clayer-slider-bar"></div>'),this.$container.append(this.$bar),this.$segmentContainer=$('<div class="clayer-slider-segment-container"></div>'),this.$bar.append(this.$segmentContainer),this.$marker=$('<div class="clayer-slider-marker"></div>'),this.markerWidth=Math.min(this.valueWidth,10),this.$marker.width(this.markerWidth),this.$bar.append(this.$marker),this.$knob=$('<div class="clayer-slider-knob"></div>'),this.$container.append(this.$knob),this.scrubbable=new e.Scrubbable(this.$element,this,i),this.bounceTimer=null,this.renderKnob(),this.renderMarker()},remove:function(){this.scrubbable.remove(),this.$segmentContainer.remove(),this.$marker.remove(),this.$knob.remove(),this.$bar.remove(),this.$container.remove()},setSegments:function(e){this.$segmentContainer.html("");for(var t=0;t<e.length;t++){var n=e[t],r=$('<div class="clayer-slider-segment"></div>');this.$segmentContainer.append(r),r.css("left",n.start*this.valueWidth),r.width((n.end-n.start+1)*this.valueWidth),r.css("background-color",n.color)}},setValue:function(e){this.markerValue=this.knobValue=e,this.renderKnob(),this.renderMarker()},setKnobValue:function(e){this.knobValue=e,this.renderKnob()},changed:function(t){e.makeCall(this.callbacks,"sliderChanged",[this.knobValue,t])},updateKnob:function(e){e=Math.max(0,Math.min(this.$element.width()-1,e)),this.updateKnobValue(Math.floor(e/this.valueWidth))},updateKnobValue:function(e){this.knobValue!==e&&(this.knobValue=e,this.renderKnob(),this.changed(!1))},updateMarker:function(e){e=Math.max(0,Math.min(this.$element.width()-1,e));var t=Math.floor(e/this.valueWidth);this.markerValue!==t&&(this.knobValue=this.markerValue=t,this.renderKnob(),this.renderMarker(),this.changed(!0))},renderKnob:function(){this.$knob.css("left",(this.knobValue+.5)*this.valueWidth)},renderMarker:function(){this.$marker.css("left",(this.markerValue+.5)*this.valueWidth-this.markerWidth/2)},scrubMove:function(e,t,n){this.$knob.addClass("clayer-active"),n?(this.$knob.addClass("clayer-pressed"),this.updateMarker(e)):(this.$knob.removeClass("clayer-pressed"),this.updateKnob(e))},scrubLeave:function(){this.$knob.removeClass("clayer-active clayer-pressed"),this.updateKnobValue(this.markerValue),e.makeCall(this.callbacks,"sliderLeave")},scrubTap:function(){this.$knob.removeClass("clayer-slider-knob-jump"),setTimeout($.proxy(this.startJump,this),0)},startJump:function(){this.$knob.addClass("clayer-slider-knob-jump")}},e.Draggable=function(){return this.init.apply(this,arguments)},e.Draggable.prototype={init:function(t,n,r){this.$element=t,this.callbacks=n,this.$parent=r,this.touchable=new e.Touchable(t,this),this.setDraggable(!0)},remove:function(){this.touchable.remove()},setDraggable:function(e){this.touchable.setTouchable(e),this.touchable.setHoverable(!1)},touchDown:function(t){this.offsetX=t.localPoint.x+parseInt(this.$element.css("margin-left"),10),this.offsetY=t.localPoint.y+parseInt(this.$element.css("margin-top"),10),e.makeCall(this.callbacks,"dragStart",[this.offsetX,this.offsetY])},touchMove:function(t){var n=t.globalPoint.x-this.offsetX,r=t.globalPoint.y-this.offsetY;if(this.$parent!==undefined){var i=this.$parent.offset();n=Math.max(0,Math.min(this.$parent.outerWidth(),n-i.left)),r=Math.max(0,Math.min(this.$parent.outerHeight(),r-i.top)),this.$element.css("left",n),this.$element.css("top",r),e.makeCall(this.callbacks,"dragMove",[n,r,t.globalPoint.x,t.globalPoint.y])}else e.makeCall(this.callbacks,"dragMove",[n,r,t.globalPoint.x,t.globalPoint.y])},touchUp:function(t){e.makeCall(this.callbacks,"dragEnd"),t.wasTap&&e.makeCall(this.callbacks,"dragTap",[t.localPoint.x,t.localPoint.y])}},e.DragKnob=function(){return this.init.apply(this,arguments)},e.DragKnob.prototype={init:function(t,n,r){this.$element=t,this.$element.addClass("clayer-dragknob"),this.$element.append('<div class="clayer-dragknob-label">'+e.texts.drag+"</div>"),this.$parent=r,this.$parent!==undefined&&this.$parent.addClass("clayer-dragknob-parent"),this.callbacks=n,this.draggable=new e.Draggable(t,this,r)},remove:function(){this.draggable.remove(),this.$element.removeClass("clayer-dragknob"),this.$parent!==undefined&&this.$parent.addClass("clayer-dragknob-parent")},dragStart:function(){this.$element.addClass("clayer-pressed"),this.$element.removeClass("clayer-dragknob-show-label"),e.makeCall(this.callbacks,"dragStart")},dragMove:function(t,n){e.makeCall(this.callbacks,"dragMove",arguments)},dragEnd:function(){this.$element.removeClass("clayer-pressed"),e.makeCall(this.callbacks,"dragEnd")},dragTap:function(){this.$element.addClass("clayer-dragknob-show-label"),e.makeCall(this.callbacks,"dragTap")}},e})}(),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("views/backbone-forms/range",["jquery","libs/backbone-forms","libs/clayer"],function(e,n,r){return n.editors.Range=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.width=210,i.prototype.initialize=function(e){return i.__super__.initialize.call(this,e),this.min=this.schema.min||0,this.max=this.schema.max||100,this.step=this.schema.step||1},i.prototype.render=function(){var t;return this.$el.width(this.width),t=(this.max-this.min)/this.step+1,this.slider=new r.Slider(this.$el,this,this.width/t,{disableHover:!0}),this.$knob=e('<div class="clayer-slider-knob-value"></div>'),this.$(".clayer-slider-knob").append(this.$knob),this.setValue(this.value||0),this},i.prototype.sliderChanged=function(e){var t,n;return t=this._decimalPlaces(),n=Number((e*this.step+this.min).toFixed(t)),this.sliderValue=this._clamp(n),this.updateKnob(),this.trigger("change",this)},i.prototype._decimalPlaces=function(){var e;return e=(""+this.step).split(".")[1]||"",e.length},i.prototype._clamp=function(e){return Math.min(this.max,Math.max(this.min,e))},i.prototype.getValue=function(){return this.sliderValue},i.prototype.setValue=function(e){return this.sliderValue=e,this.slider.setValue((e-this.min)/this.step),this.updateKnob()},i.prototype.updateKnob=function(){return this.$knob.text(this.sliderValue)},i.prototype.focus=function(){this.hasFocus},i.prototype.blur=function(){!this.hasFocus},i}(n.editors.Base)})}.call(this),function(e){e.autocomplete=function(t,n,r){var i={url:!1,apply:function(e){o.val(e)}},s=this;s.settings={};var o=e(t),t=t;s.init=function(){s.settings=e.extend({},i,r),s.input=o,s.ignore=[],s.data={},s.open=!1,s.load(),s.blocker=e('<div class="autocomplete-blocker"></div>').css({position:"fixed",top:0,left:0,right:0,bottom:0,"z-index":1999}).hide(),s.box=e('<div class="autocomplete"></div>').css("z-index",2e3),s.tooltip=e('<div class="versal-tooltip versal-tooltip-white versal-tooltip-top versal-tooltip-align-left versal-tooltip-offset"><div class="versal-tooltip-arrow"></div></div>'),s.box.append(s.tooltip),s.ul=e("<ul></ul>"),s.tooltip.hide(),s.blocker.click(function(e){s.kill(),s.input.focus(),e.stopPropagation()}),o.keyup(function(t){s.pos=s.selection();switch(t.keyCode){case 13:s.apply();case 27:s.kill();case 38:case 40:return!1;case 39:var n=s.value();n.length>0&&s.pos==s.input.val().length&&s.apply();break;case 188:s.apply();default:s.complete(e(this).val())}}),o.keydown(function(e){s.pos=s.selection();switch(e.keyCode){case 9:return s.value().length>0?(s.apply(),!1):!0;case 38:return s.prev(),!1;case 40:return s.next(),!1}}),s.box.click(function(e){e.stopPropagation()}),e("body").append(s.box),e("body").append(s.blocker),e(window).resize(s.position),s.position()},s.load=function(){typeof n=="object"?s.data=n:e.getJSON(n,function(e){s.data=e})},s.complete=function(t){s.kill(),s.position();var n=0,t=e.trim(t);if(t.length==0)return!1;var r=new RegExp("^"+t,"i"),i=s.data.filter(function(e){if(s.ignore.indexOf(e)==-1&&e.match(r))return e});i=i.slice(0,5),e.each(i,function(r,i){var o='<span class="autocomplete-highlight">'+i.substring(0,t.length)+"</span>"+i.substring(t.length),u=e("<li>"+o+"</li>");u.click(function(){s.apply(i)}),u.mouseover(function(){s.ul.find(".selected").removeClass("selected"),u.addClass("over")}),u.mouseout(function(){u.removeClass("over")}),s.ul.append(u),n==0&&u.addClass("first selected"),n++}),n>0&&(s.tooltip.append(s.ul),s.tooltip.show(),s.blocker.show(),s.open=!0)},s.kill=function(){s.blocker.hide(),s.ul.empty(),s.tooltip.hide(),s.open=!1},s.apply=function(e){if(!e)var e=s.value();s.settings.apply.call(s,e)},s.value=function(){return s.selected().text()},s.selected=function(){return s.ul.find(".selected")},s.select=function(e){s.deselect(),e.addClass("selected")},s.deselect=function(){s.selected().removeClass("selected")},s.prev=function(){var e=s.selected(),t=e.prev();t.length>0&&s.select(t)},s.next=function(){var e=s.selected(),t=e.length>0?e.next():s.ul.find("li:first-child");t.length>0&&s.select(t)},s.selection=function(){var e=s.input[0],t=s.val;if(!e.createTextRange)return e.selectionStart;var n=document.selection.createRange().duplicate();return n.moveEnd("character",t.length),n.text==""?t.length:t.lastIndexOf(n.text)},s.position=function(){var e=o.offset(),t=o.innerHeight();e.top=e.top+t,s.box.css(e)},s.init()},e.fn.autocomplete=function(t,n){return this.each(function(){if(undefined==e(this).data("autocomplete")){var r=new e.autocomplete(this,t,n);e(this).data("autocomplete",r)}})}}(jQuery),function(e){e.tagbox=function(t,n){var r={url:!1,autocomplete:{},lowercase:!0,classname:"tagbox",separator:", ",duplicates:!1,minLength:1,maxLength:140,keydown:function(){},onAdd:function(){},onRemove:function(){},onDuplicate:function(){return i.input.focus()},onInvalid:function(){return i.input.focus()},onReady:function(){}},i=this,s=null;i.settings={};var o=e(t),t=t;i.init=function(){i.settings=e.extend({},r,n);var t=o.attr("name"),s=o.attr("id"),u=o.val();i.index=[],i.val="",i.focused=!1,i.origin=o.addClass("tagboxified").hide(),i.box=e('<div class="'+i.settings.classname+'"><ul><li class="new"><input autocomplete="off" tabindex="0" type="text" /></li></ul></div>'),i.input=i.box.find("input").css("width",20),i.bhits=0,i.lhits=0;if(i.settings.url){var a={apply:function(e){i.add(e),this.kill(),i.input.focus()}};i.input.autocomplete(i.settings.url,e.extend({},a,i.settings.autocomplete)),i.autocomplete=i.input.data("autocomplete"),i.settings.onAdd=function(e){i.autocomplete.ignore=i.serialize()},i.settings.onRemove=function(e){i.autocomplete.ignore=i.serialize()}}i.origin.before(i.box),i.measure=e('<div style="display: inline" />').css({"font-size":i.input.css("font-size"),"font-family":i.input.css("font-family"),visibility:"hidden",position:"absolute",top:-1e4,left:-1e4}),e("body").append(i.measure),i.box.click(function(e){i.focus(),i.input.focus(),e.stopPropagation()}),i.input.keydown(function(e){i.val=i.input.val(),i.position=i.selection(),i.settings.keydown.call(i,e,i.val)}),i.input.keyup(function(e){i.val=i.input.val(),i.position=i.selection(),i.resize(i.val),i.val.match(new RegExp(i.settings.separator))&&i.add(i.val)}),i.input.focus(function(e){i.input.focused=!0,i.deselect(),i.bhits=0,i.focus()}),i.input.blur(function(e){i.input.focused=!1,i.bhits=0,i.val.length==0&&i.blur()}),i.settings.onReady.call(this),e(document).keydown(function(e){if(!i.focused)return!0;switch(e.keyCode){case 8:if(!i.input.focused)return i.remove(),!1;if(i.val.length==0)return i.next(),!1;if(i.position==0){if(i.bhits>0)return i.bhits=0,i.next(),!1;i.bhits++}break;case 37:if(!i.input.focused)return i.previous();if(i.val.length==0)return i.next(),!1;if(i.position==0){if(i.lhits>0)return i.lhits=0,i.next(),!1;i.lhits++}break;case 39:if(!i.input.focused)return i.next(),!1;break;case 9:if(i.input.focused&&i.val.length>i.settings.minLength)return i.add(i.val),!1;if(i.selected().length>0)return i.deselect(),i.input.focus(),!1;break;case 13:case 188:if(i.input.focused)return i.settings.autocomplete||i.add(i.val),!1}}).click(function(e){i.val.length>0&&i.add(i.val)}),u.length>0&&i.add(u)},i.resize=function(e){i.measure.text(e),i.input.css("width",i.measure.width()+20)},i.focus=function(t){if(i.focused)return!0;e(".tagboxified").not(i.origin).each(function(){e(this).data("tagbox")&&e(this).data("tagbox").blur()}),i.box.addClass("focus"),i.focused=!0;if(t==undefined)var t=!0;t!==!1&&i.input.focus()},i.blur=function(){if(!i.focused)return!0;i.box.removeClass("focus"),i.focused=!1,i.input.blur(),i.deselect()},i.tag=function(t){return t=t.replace(/,/g,"").replace(/;/g,""),i.settings.lowercase&&(t=t.toLowerCase()),e.trim(t)},i.serialize=function(){return i.index},i.string=function(){return i.serialize().toString()},i.add=function(t){i.input.val("");if(!t&&i.val.length>0)return i.add(i.val);if(!t)return!0;if(e.isArray(t)||t.match(new RegExp(i.settings.separator))){var n=e.isArray(t)?t:t.split(i.settings.separator);return e.each(n,function(e,t){i.add(t)}),!0}var t=i.tag(t);if(t.length<i.settings.minLength||t.length>i.settings.maxLength)return i.settings.onInvalid.call(i,t,length);if(i.settings.duplicates==0&&e.inArray(t,i.index)>-1)return i.settings.onDuplicate.call(i,t);i.index.push(t);var r=e('<li><span class="tag"></span><span class="delete">&#215;</span></li>').data("tag",t);r.find(".tag").text(t),r.find(".delete").click(function(){i.remove(r)}),r.click(function(e){i.blur(),e.stopPropagation(),i.select(r)}),r.focus(function(e){i.select(r)}),i.input.parent().before(r),i.input.val(""),i.input.css("width",20);var s=i.serialize();i.origin.val(s.join(i.settings.separator)),i.settings.onAdd.call(i,t,s,r)},i.select=function(e){if(typeof e=="string"){var e=i.find(e);if(!e)return!1}if(e.length==0)return!1;i.input.blur(),this.deselect(),e.addClass("selected"),i.focus(!1)},i.selected=function(){return i.box.find(".selected")},i.deselect=function(){var e=i.selected();e.removeClass("selected")},i.find=function(t){var n=!1;return i.box.find("li").not(".new").each(function(){e(this).data("tag")==t&&(n=e(this))}),n},i.remove=function(e){i.input.val("");if(typeof e=="string"){var e=i.find(e);if(!e)return!1}var t=i.selected();if(!e&&t.length>0)var e=t.first();var n=i.previous(!0);n.length==0?i.next():i.select(n);var r=e.find(".tag").text();i.removeFromIndex(r),e.remove();var s=i.serialize();i.origin.val(s),i.settings.onRemove.call(i,r,s,e)},i.removeFromIndex=function(e){var t=i.index.indexOf(e);i.index.splice(t,1)},i.selection=function(){var e=i.input[0],t=i.val;if(!e.createTextRange)return e.selectionStart;var n=document.selection.createRange().duplicate();return n.moveEnd("character",t.length),n.text==""?t.length:t.lastIndexOf(n.text)},i.previous=function(e){var t=i.selected(),n=t.length==0?i.box.find("li").not(".new").first():t.prev().not(".new");return e?n:i.select(n)},i.next=function(e){var t=i.selected(),n=t.length==0?i.box.find("li").not(".new").last():t.next();return e?n:n.hasClass("new")?i.input.focus():i.select(n)},i.init()},e.fn.tagbox=function(t){return this.each(function(){if(undefined==e(this).data("tagbox")){var n=new e.tagbox(this,t);e(this).data("tagbox",n)}})}}(jQuery),n("libs/tags",function(){}),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("views/backbone-forms/tags",["underscore","libs/backbone-forms","libs/tags"],function(e,n,r){return n.editors.Tags=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.width=210,r.prototype.tagName="input",r.prototype.initialize=function(e){return r.__super__.initialize.call(this,e),this.tagboxValue=this.value||[]},r.prototype.render=function(){return e.defer(function(e){return function(){return e.renderTagbox()}}(this)),this},r.prototype.renderTagbox=function(){var e,t,n,r,i,s,o;return this.tagboxOptions=(n=this.schema.options)!=null?n:[],this.$el.tagbox({url:this.tagboxOptions,lowercase:(r=this.schema.lowercase)!=null?r:!0,duplicates:(i=this.schema.duplicates)!=null?i:!1,minLength:(s=this.schema.minLength)!=null?s:1,maxLength:(o=this.schema.maxLength)!=null?o:140}),this.tagbox=this.$el.data("tagbox"),e=this.tagbox.settings.onAdd,this.tagbox.settings.onAdd=function(t){return function(){e();if(t.updating)return;return t.onChange(),t.updateTagboxOptions()}}(this),t=this.tagbox.settings.onRemove,this.tagbox.settings.onRemove=function(e){return function(){t();if(e.updating)return;return e.onChange()}}(this),this.updateTagbox()},r.prototype.getValue=function(){return this.tagbox!=null&&(this.tagboxValue=this.tagbox.serialize().slice(0)),this.tagboxValue||[]},r.prototype.setValue=function(t){if(!e.isArray(t))return;if(e.isEqual(t,this.tagboxValue))return;return this.tagboxValue=t,this.updateTagbox()},r.prototype.updateTagbox=function(){var e,t,n,r;if(this.tagbox==null)return;this.updating=!0,this.clearValue(),r=this.tagboxValue;for(t=0,n=r.length;t<n;t++)e=r[t],this.tagbox.add(""+e);return this.updating=!1,this.updateTagboxOptions()},r.prototype.clearValue=function(){var e,t;t=[];while(((e=this.tagbox.serialize())!=null?e.length:void 0)>0)t.push(this.tagbox.remove(0));return t},r.prototype.onChange=function(){return this.trigger("change",this)},r.prototype.updateTagboxOptions=function(){var t,n,r,i,s;if(!this.schema.updateAutoComplete)return;i=e.difference(this.tagbox.serialize(),this.tagboxOptions),s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(this.tagboxOptions.push(t));return s},r}(n.editors.Base)})}.call(this),function(e,r){typeof exports=="object"?module.exports=r(t("backbone"),t("react"),t("react-dom"),t("underscore")):typeof n=="function"&&n.amd?n("react-backbone",["backbone","react","react-dom","underscore"],r):e.amdWeb=r(e.Backbone,e.React,e.ReactDOM,e._)}(this,function(e,t,n,r){var i={changeOptions:"add remove reset sort",updateScheduler:function(e){return r.debounce(e,0)}},s={changeOptions:"change",updateScheduler:r.identity},o=function(e,n,r){if(!n)return;var o=t.BackboneMixin.ConsiderAsCollection(n)?i:s,u=o.updateScheduler(function(){e.isMounted()&&(e.onModelChange||e.forceUpdate).call(e)}),a=r||e.changeOptions||o.changeOptions;n.on(a,u,e)},u=function(e,t){if(!t)return;t.off(null,null,e)};return t.BackboneMixin=function(e,t){var n,r;return typeof e=="object"?(t=e.renderOn,n=e.propName,r=e.modelOrCollection):n=e,r||(r=function(e){return e[n]}),{componentDidMount:function(){o(this,r(this.props),t)},componentWillReceiveProps:function(e){if(r(this.props)===r(e))return;u(this,r(this.props)),o(this,r(e),t),typeof this.componentWillChangeModel=="function"&&this.componentWillChangeModel()},componentDidUpdate:function(e,t){if(r(this.props)===r(e))return;typeof this.componentDidChangeModel=="function"&&this.componentDidChangeModel()},componentWillUnmount:function(){u(this,r(this.props))}}},t.BackboneMixin.ConsiderAsCollection=function(t){return t instanceof e.Collection},t.BackboneViewMixin={getModel:function(){return this.props.model},model:function(){return this.getModel()},getCollection:function(){return this.props.collection},collection:function(){return this.getCollection()},el:function(){return this.isMounted()&&n.findDOMNode(this)}},t.createBackboneClass=function(e){var n=e.mixins||[];return e.mixins=n.concat([t.BackboneMixin("model"),t.BackboneMixin("collection"),t.BackboneViewMixin]),t.createClass(e)},t}),function(){var e=[].slice;n("views/property_sheet",["underscore","react","react-dom","views/tether","libs/backbone-forms","plugins/backbone-forms.bootstrap","views/backbone-forms/color","views/backbone-forms/range","views/backbone-forms/tags","react-coffeescript-glue","react-backbone"],function(t,n,r,i,s){var o,u,a,f;return i=n.createFactory(i),o=n.createClass({componentDidMount:function(){return this.renderForm()},componentDidUpdate:function(){return this.renderForm()},componentWillUnmount:function(){return this.removeForm()},shouldComponentUpdate:function(n){var r,i;return t.isEqual(this.form.schema,n.schema)?(r=t.pick.apply(t,[this.form.getValue()].concat(e.call(Object.keys(n.config)))),i=t.pick.apply(t,[n.config].concat(e.call(Object.keys(n.schema)))),t.isEqual(r,i)?!1:!0):!0},render:function(){return _div([])},renderForm:function(){var e;return this.removeForm(),this.form=new s({data:this.props.config,schema:this.props.schema}),e=this.form.validate(),this.form.render(),r.findDOMNode(this).appendChild(this.form.el),this.form.on("change",this.onFormChange,this),this.form.el.addEventListener("submit",function(e){return e.preventDefault()}),this.form.el.addEventListener("change",this.onFormChange),this.props.onErrorCountChange(t.size(e))},removeForm:function(){if(this.form==null)return;return r.findDOMNode(this).removeChild(this.form.el),this.form.off(null,null,this),this.form=null},onFormChange:function(){return this.form.validate(),this.props.onConfigChange(this.form.getValue())}}),o=n.createFactory(o),a=n.createClass({getInitialState:function(){return{errorCount:0}},render:function(){return t(this.props.schema).isEmpty()?_div([{style:{display:"none"}}]):_div(["properties-dialog",{onClick:function(e){return e.stopPropagation()}}],_div(["properties-dialog-arrow"]),_div(["properties-dialog-header"],"Properties",this.state.errorCount>0?_div(["properties-dialog-error-count"],this.state.errorCount,"error",this.state.errorCount!==1?"s":void 0):void 0),o({config:this.props.config,schema:this.props.schema,onErrorCountChange:function(e){return function(t){return e.setState({errorCount:t})}}(this),onConfigChange:this.props.onConfigChange}))}}),a=n.createFactory(a),f=n.createClass({render:function(){return i({attachment:"top right",targetAttachment:"middle left",zIndex:900,offset:"22px 0",constraints:[{pin:["top","bottom"],to:"window"},{pin:["left"],to:"window",attachment:"together"}]},a(this.props))}}),f=n.createFactory(f),u=n.createClass({mixins:[n.BackboneMixin("config"),n.BackboneMixin("schema")],render:function(){return f({config:this.props.config.toJSON(),schema:this.props.schema.sanitizedSchema(),onConfigChange:function(e){return function(t){return e.props.config.save(t)}}(this)})}})})}.call(this),function(){n("views/gadget_draggable",["react","react-dom","views/gadget/drag_image","views/render_in_body","react-coffeescript-glue"],function(e,t,n,r){var i;return n=e.createFactory(n),r=e.createFactory(r),i=e.createClass({getInitialState:function(){return{setDragImage:null,renderCustomDragImage:!1,customDragImageX:null,customDragImageY:null}},_onDragStart:function(e){var t;return t=e.nativeEvent.dataTransfer,t!=null&&(t.effectAllowed="move"),t!=null&&t.setData("Text",JSON.stringify(this.props.dragData)),this._hackyDropHandler=function(e){return function(){return e._onDragEnd()}}(this),document.addEventListener("drop",this._hackyDropHandler),(t!=null?t.setDragImage:void 0)!=null?(this.setState({setDragImage:t.setDragImage.bind(t)}),setTimeout(this.props.onDragStart,100)):(this.props.onDragStart(),this.setState({renderCustomDragImage:!0}))},_onDragEnd:function(){return this._hackyDropHandler&&(document.removeEventListener("drop",this._hackyDropHandler),this._hackyDropHandler=null),this.setState(this.getInitialState()),this.props.onDragEnd()},_onDrag:function(e){return this.setState({customDragImageX:e.clientX,customDragImageY:e.clientY})},render:function(){return _div(["spec-gadget-draggable",this.props.className,{draggable:!0,onDragStart:this._onDragStart,onDragEnd:this._onDragEnd,onDrag:this._onDrag}],this.state.renderCustomDragImage?void 0:this.props.children,this.state.setDragImage!=null?r(null,n({className:"gadget-drag-image-dragging",manifest:this.props.gadgetManifest,ref:"dragImage"})):this.state.renderCustomDragImage?r(null,e.DOM.div({style:{position:"fixed",top:this.state.customDragImageY-30,left:this.state.customDragImageX-30,zIndex:3100,opacity:.5,pointerEvents:"none"}},n({className:"gadget-drag-image-dragging",manifest:this.props.gadgetManifest}))):void 0)},componentDidUpdate:function(){if(this.state.setDragImage!=null)return this.state.setDragImage(t.findDOMNode(this.refs.dragImage),30,30),_.defer(function(e){return function(){return e.setState({setDragImage:null})}}(this))}})})}.call(this),function(){n("views/gadget_toolbar",["react","models/settings","views/tether","views/gadget/drag_image","views/property_sheet","views/gadget_draggable","react-coffeescript-glue"],function(e,t,n,r,i,s){var o;return r=e.createFactory(r),s=e.createFactory(s),i=e.createFactory(i),n=e.createFactory(n),o=e.createClass({propTypes:{selected:e.PropTypes.bool,editing:e.PropTypes.bool,showSelectButton:e.PropTypes.bool,showEditButton:e.PropTypes.bool,showDeleteButton:e.PropTypes.bool,gadgetId:e.PropTypes.string,gadgetCid:e.PropTypes.string,config:e.PropTypes.object,schema:e.PropTypes.object,gadgetManifest:e.PropTypes.object,onDragStart:e.PropTypes.func,onDragEnd:e.PropTypes.func,onEditClick:e.PropTypes.func,onDeleteClick:e.PropTypes.func,onSelectedChange:e.PropTypes.func},getDefaultProps:function(){return{selected:!1,showSelectButton:!1,showEditButton:!1,showDeleteButton:!1}},getInitialState:function(){return{showingInfo:!1,dragging:!1}},render:function(){return _div(["gadget-toolbar",{onClick:function(e){return e.stopPropagation()}}],this.props.showSelectButton?_i(["js-select-gadget gadget-toolbar-icon",this.props.selected?"icon-check":"icon-check-empty",{onClick:function(e){return function(){return e.props.onSelectedChange(!e.props.selected)}}(this)}]):void 0,_div([{style:{display:this.props.selected?"none":"block"}}],s({gadgetManifest:this.props.gadgetManifest,dragData:{action:"reorder",gadgetId:this.props.gadgetId,gadgetCid:this.props.gadgetCid},onDragStart:function(e){return function(){return e.setState({dragging:!0}),e.props.onDragStart()}}(this),onDragEnd:function(e){return function(){return e.setState({dragging:!1}),e.props.onDragEnd()}}(this)},_i(["gadget-toolbar-icon gadget-toolbar-drag icon-reorder spec-toolbar-drag-icon"])),_i(["gadget-toolbar-icon gadget-toolbar-info icon-info",{onMouseEnter:function(e){return function(){return e.setState({showingInfo:!0})}}(this),onMouseLeave:function(e){return function(){return e.setState({showingInfo:!1})}}(this)}],this.state.showingInfo&&!this.state.dragging?n({attachment:"top right",targetAttachment:"top left",offset:"5px 0",zIndex:901,constraints:[{pin:["left"],to:"window",attachment:"together"}]},_div(["gadget-info-tooltip"],r({manifest:this.props.gadgetManifest}))):void 0),this.props.showEditButton?_i(["gadget-toolbar-icon gadget-toolbar-edit icon-cog spec-toolbar-edit-icon",this.props.editing?"gadget-toolbar-edit-editing":void 0,{onClick:this.props.onEditClick}],this.props.editing&&!this.state.dragging?i({config:this.props.config,schema:this.props.propertySheetSchema}):void 0):void 0,this.props.showDeleteButton?_i(["gadget-toolbar-icon gadget-toolbar-delete icon-trash spec-toolbar-trash-icon",{onClick:this.props.onDeleteClick}]):void 0))}})})}.call(this),function(){n("views/marionette_view_component",["marionette","react","react-dom","react-coffeescript-glue"],function(e,t,n){var r;return r=t.createClass({componentDidMount:function(){return this._region=new e.Region({el:n.findDOMNode(this)}),this._region.show(this.props.view)},componentDidUpdate:function(){return this._region.show(this.props.view)},componentWillUnmount:function(){return this._region.close()},render:function(){return _div([])}})})}.call(this),function(){n("views/gadget_lock",["views/marionette_view_component","collab/collab","react"],function(e,t,n){var r;return e=n.createFactory(e),r=n.createClass({render:function(){return e({view:t.lockViewForGadgetId(this.props.gadgetInstanceId)})}})})}.call(this),function(){n("views/gadget_comments",["views/marionette_view_component","collab/collab","react"],function(e,t,n){var r;return e=n.createFactory(e),r=n.createClass({render:function(){return e({view:t.commentsViewForGadgetId(this.props.gadgetInstanceId)})}})})}.call(this),function(){n("views/gadget_dialog",["react","react-coffeescript-glue"],function(e){var t;return t=e.createClass({render:function(){return _div(["gadget-dialog"],_div(["gadget-dialog-vertical-align"],_div(["gadget-dialog-message"],this.props.message),_div([],this.props.children)))}})})}.call(this),function(){n("launchers/react_launcher",["underscore","react"],function(e,t){var n;return n=t.createClass({propTypes:{manifest:t.PropTypes.object.isRequired,environment:t.PropTypes.object.isRequired,attributes:t.PropTypes.object,learnerState:t.PropTypes.object,isEditable:t.PropTypes.bool,launcherCtor:t.PropTypes.func,patchProps:t.PropTypes.func,patchLearnerState:t.PropTypes.func,legacyRequestAsset:t.PropTypes.func,legacySetPropertySheetAttributes:t.PropTypes.func,launch:t.PropTypes.func,autoLaunch:t.PropTypes.bool},getDefaultProps:function(){return{isEditable:!1}},render:function(){return this.props.launcherCtor?t.DOM.div({onClick:function(e){return function(e){return e.nativeEvent.stopImmediatePropagation()}}(this)},t.createElement(this.props.launcherCtor,this.launcherProps())):this.props.autoLaunch?t.DOM.div(null,"Loading..."):t.DOM.div(null,t.DOM.a({onClick:this.props.launch},"launch"))},componentDidMount:function(){var e;if(this.props.autoLaunch)return typeof (e=this.props).launch=="function"?e.launch():void 0},launcherProps:function(){return e.extend({},this.props.attributes,{gadget:this.gadgetInterface()})},gadgetInterface:function(){return e.extend({},e.pick(this.props,"isEditable","patchProps","patchLearnerState","learnerState"),this.props.environment,{baseUrl:this.props.manifest.baseUrl},{setPropertySheetAttributes:this.props.legacySetPropertySheetAttributes})}})})}.call(this),function(){n("launchers/iframe_launcher",["underscore","react","react-dom"],function(e,t,n){var r,i;return i=function(e){var t,n,r,i,s,o;i=/\/gadgets\/(.*?)\/(.*?)\/(.*?)\/?$/,n=e.match(i);if(n)return t=n[0],s=n[1],r=n[2],o=n[3],["gadget",s,r,o.replace(/\./g,"_")].join("-")},r=t.createClass({propTypes:{manifest:t.PropTypes.object.isRequired,environment:t.PropTypes.object.isRequired,attributes:t.PropTypes.object,learnerState:t.PropTypes.object,isEditable:t.PropTypes.bool,patchProps:t.PropTypes.func,patchLearnerState:t.PropTypes.func,legacyTrack:t.PropTypes.func,legacyChangeBlocking:t.PropTypes.func,legacySetPropertySheetAttributes:t.PropTypes.func,legacyEditingAllowed:t.PropTypes.bool,legacyRequestAsset:t.PropTypes.func},iframeStyle:{display:"block",border:"none",width:"100%",height:1},getDefaultProps:function(){return{isEditable:!1,attributes:{},learnerState:{},patchProps:function(e){return function(e){return console.warn("Your attributes patch is ignored. No one is listening.",e)}}(this),patchLearnerState:function(e){return function(e){return console.warn("Your learner state patch is ignored. No one is listening.",e)}}(this)}},render:function(){return t.DOM.iframe({ref:"gadgetIframe",src:this.src(),style:this.iframeStyle,allowFullScreen:"allowfullscreen",scrolling:"no"})},src:function(){return this.props.launchUrl||this.props.manifest.launchUrl},environment:function(){return this.props.manifest.launcher==="iframe"?this.props.environment:e.extend({},this.props.environment,{baseUrl:this.props.manifest.baseUrl,cssClassName:i(this.props.manifest.baseUrl)})},componentDidMount:function(){return window.addEventListener("message",this._handleMessage)},componentWillUnmount:function(){return window.removeEventListener("message",this._handleMessage)},shouldComponentUpdate:function(e,t){return e.isEditable!==this.props.isEditable&&this.postMessage({event:"editableChanged",data:{editable:e.isEditable}}),e.attributes!==this.props.attributes&&this.postMessage({event:"attributesChanged",data:e.attributes||{}}),e.learnerState!==this.props.learnerState&&this.postMessage({event:"learnerStateChanged",data:e.learnerState||{}}),!1},_handleMessage:function(e){var t,n;if(e.source!==((n=this.refs.gadgetIframe)!=null?n.contentWindow:void 0)||!e.data)return;return t=e.data,t.event==="startListening"?this._startListening():t.event==="setHeight"?this._setHeight(t.data.pixels):t.event==="setAttributes"?this.props.patchProps(t.data):t.event==="setLearnerState"?this.props.patchLearnerState(t.data):t.event==="setPropertySheetAttributes"?this.props.legacySetPropertySheetAttributes(t.data):t.event==="track"?this.props.legacyTrack(t.data):t.event==="changeBlocking"?this.props.legacyChangeBlocking(t.data):t.event==="requestAsset"?this.props.legacyRequestAsset(t.data):console.warn("Exotic API:",t.event)},_startListening:function(){return this.postMessage({event:"environmentChanged",data:this.environment()}),this.postMessage({event:"attributesChanged",data:this.props.attributes}),this.postMessage({event:"learnerStateChanged",data:this.props.learnerState}),this.postMessage({event:"editableChanged",data:{editable:this.props.isEditable}})},_setHeight:function(e){return this.refs.gadgetIframe.style.height=e+"px"},postMessage:function(e){var t,n;return(t=this.refs.gadgetIframe)!=null?(n=t.contentWindow)!=null?n.postMessage(e,"*"):void 0:void 0}})})}.call(this),function(){n("launchers/native_launcher",["underscore","react"],function(e,t){var n,r,i,s;return s=t.createClass({render:function(){return t.DOM.div({className:"native-text",dangerouslySetInnerHTML:{__html:this.htmlContent()}})},htmlContent:function(){return this.props.htmlData||this.props.cachedHtml||this.props.html||(this.props.content?"<p>"+this.props.content+"</p>":"")}}),s=t.createFactory(s),n={fontSize:18,height:37,lineHeight:"37px",fontWeight:"bold",fontFamily:"AvenirNextLTPro-Regular",color:"#524e47",whiteSpace:"nowrap",overflow:"hidden"},r=t.createClass({render:function(){return t.DOM.div({className:"js-sticky-header",style:n},this.props.content)}}),r=t.createFactory(r),i=t.createClass({propTypes:{manifest:t.PropTypes.object.isRequired,attributes:t.PropTypes.object},getDefaultProps:function(){return{manifest:{},attributes:{}}},render:function(){var e,n,i,o;return e=((i=this.props.attributes)!=null?i.content:void 0)||"",n=(o=this.props.manifest)!=null?o.name:void 0,n==="text"||n==="markdown"?s(this.props.attributes):n==="header"?r({content:e}):t.DOM.div(null,"Unknown gadget:",n)}})})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("views/gadget/instance",["jquery","underscore","marionette","react","react-dom","mediator","collab/collab","plugins/tracker","views/gadget/drag_image","models/property_sheet_schema","state/position","state/selection","templates/gadget_instance","tether","models/settings","player_palette","views/react_view","views/render_in_body","views/gadget_toolbar","views/gadget_lock","views/gadget_comments","views/gadget_dialog","launchers/react_launcher","launchers/iframe_launcher","launchers/native_launcher","react-coffeescript-glue"],function(t,n,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C){var k,L;return N=s.createFactory(N),C=s.createFactory(C),T=s.createFactory(T),l=s.createFactory(l),S=s.createFactory(S),x=s.createFactory(x),E=s.createFactory(E),w=s.createFactory(w),b=s.createFactory(b),k=1e4,L=function(i){function s(){return this._onGadgetSeen=e(this._onGadgetSeen,this),this._handleError=e(this._handleError,this),this._onSelectedChange=e(this._onSelectedChange,this),this._scrollIntoViewIfNeeded=e(this._scrollIntoViewIfNeeded,this),this._gadgetDropped=e(this._gadgetDropped,this),this.prevent=e(this.prevent,this),this.stopEditing=e(this.stopEditing,this),this._onSelectionClear=e(this._onSelectionClear,this),this._onGadgetUnlocked=e(this._onGadgetUnlocked,this),this._onGadgetLocked=e(this._onGadgetLocked,this),this._saveUserState=e(this._saveUserState,this),this._saveConfig=e(this._saveConfig,this),this._patchLearnerState=e(this._patchLearnerState,this),this._patchProps=e(this._patchProps,this),s.__super__.constructor.apply(this,arguments)}return r(s,i),s.prototype.template=n.template(d),s.prototype.className="gadget js-gadget",s.prototype.regions={commentsRegion:".toolbar-right",leftBarRegion:".js-left-bar-region",dialogRegion:".js-dialog-region"},s.prototype.events={"click .gadgetContent":"onContentClick","click .js-placeholder":"onPlaceholderClick","click .toolbar-right":"prevent"},s.prototype.modelEvents={destroy:"onModelDestroy"},s.prototype.ui={gadgetContent:".gadgetContent",commentsBox:".js-comments-box",placeholder:".js-placeholder",lockOverlay:".js-collab-lock-overlay"},s.prototype.initialize=function(e){var r,i;this.manifest=e.manifest,this.isEditable=e.isEditable,this.lesson=e.lesson,r=e.dropped;if(!this.manifest)throw new Error("Gadget manifest not found for gadget type "+this.model.get("type"));return this.gadgetRendering=t.Deferred(),this.selected=!1,this.gadgetRendering=t.Deferred(),i=window.setTimeout(function(e){return function(){return e.gadgetRendering.reject(new Error("Gadget took too long to load (call setHeight / watchBodyHeight?)"))}}(this),k),this.on("close",function(){return window.clearTimeout(i)}),this.gadgetRendering.always(function(e){return function(){return e.trigger("gadgetRendered"),window.clearTimeout(i)}}(this)),this.gadgetRendering.fail(function(e){return function(t){return e._handleError(t),e.showCouldNotLoad()}}(this)),r&&this.gadgetRendering.always(this._gadgetDropped),this.listenTo(this.model.config,"change",this._onGadgetConfigChange),this.listenTo(this.model.userState,"change",this._onGadgetUserStateChange),this.listenTo(this.model.userState,"sync",this._onGadgetUserStateSync),this.listenTo(this.model.userState,"change:progress",this._onGadgetProgressChanged),u.on("collab:gadget:locked",this._onGadgetLocked),u.on("collab:gadget:unlocked",this._onGadgetUnlocked),this.listenTo(p,"selection:clear",this._onSelectionClear),this._debouncedSaveConfig=n.debounce(this._saveConfig,500),this._debouncedSaveUserState=n.debounce(this._saveUserState,500),this._propertySheetSchema=new c},s.prototype.onRender=function(){var e;return this.el.setAttribute("id","gadget-"+this.model.cid),this.el.setAttribute("data-cid",this.model.cid),this.el.setAttribute("data-type",this.model.get("type")),this.el.addEventListener("elementWasSeen",this._onGadgetSeen),this._renderGadget(),this.gadgetRendering.resolve(),this._renderLeftBar(),this.commentsRegion.show(new y({component:S({gadgetInstanceId:this.model.id})})),e=this.manifest.launcher!=="react",this.$el.toggleClass("sandbox",e)},s.prototype._renderGadget=function(){var e,t,n,r;e=this.ui.gadgetContent[0],r=this._propsForReactAndIframeLaunchers(),n=this.launcher(this.manifest);try{return o.render(n(r),e)}catch(i){return t=i,this._handleError(t),this.showCouldNotLoad(t)}},s.prototype.launcher=function(e){if(!this.isEditable&&!e.launcher&&(e.name==="text"||e.name==="header"))return C;switch(e.launcher){case"react":return T;default:return N}},s.prototype.isIframeGadget=function(){return this.manifest.launcher!=="react"},s.prototype._propsForReactAndIframeLaunchers=function(){var e,t;return{manifest:this.manifest,attributes:this.model.config.toJSON(),learnerState:this.model.userState.toJSON(),isEditable:this.isEditing(),launcherCtor:this._reactCtor,autoLaunch:!0,environment:{assetUrlTemplate:u.assetUrlTemplate,sessionId:m.get("sessionId")||((e=m.get("api"))!=null?e.sessionId:void 0),apiUrl:m.get("apiUrl")||((t=m.get("api"))!=null?t.url:void 0),userId:u.userId,editingAllowed:u.isCourseEditable},patchProps:this._patchProps,patchLearnerState:this._patchLearnerState,launch:function(e){return function(){return g.installReactGadget(e.manifest.name,e.manifest.launchUrl).then(function(t){return e._reactCtor=t,e._renderGadget()})["catch"](function(t){return e._handleError(t),e.showCouldNotLoad(t)})}}(this),legacySetPropertySheetAttributes:function(e){return function(t){return e._propertySheetSchema.set(t)}}(this),legacySetEmpty:function(e){return function(){return e.toggleEmpty(!0)}}(this),legacyTrack:function(e){return function(t){return e._track(t["@type"],n.omit(t,"@type"))}}(this),legacyRequestAsset:function(e){return function(t){return u.trigger("asset:select",{type:t.type,success:function(n){if(t.attribute)return e.model.config.save(t.attribute,n)}})}}(this),legacyChangeBlocking:function(e){return function(){return u.trigger("blocking:changed")}}(this),legacyError:function(e){return function(t){var n;return"string"==typeof t?n=new Error(t):t&&t.message?n=t:(n=new Error("Misformatted error"),console.error(t)),e._handleError(n),e.showCouldNotLoad()}}(this)}},s.prototype._patchProps=function(e){return this.isEditing()?(this.model.config.set(e),this._debouncedSaveConfig()):(console.warn(this.manifest.title,"trying to update attributes while not editable."),this.isIframeGadget()&&this.model.config.set(e),this._debouncedSaveConfig())},s.prototype._patchLearnerState=function(e){return this.model.userState.set(e),this._debouncedSaveUserState()},s.prototype._saveConfig=function(){if(!this.model.isNew())return this.model.config.save().then(function(){return u.pendingConfig=!1})},s.prototype._saveUserState=function(){if(!this.model.isNew())return this.model.userState.save().then(function(){return u.pendingUserState=!1})},s.prototype.onClose=function(){return this.ui.gadgetContent.off()},s.prototype.ondragstart=function(e){return this._renderLeftBar(),this.$el.addClass("gadget-dragging"),u.trigger("gadget:dragstart")},s.prototype.ondragend=function(){return this.$el.removeClass("gadget-dragging"),u.trigger("gadget:dragend"),this._renderLeftBar()},s.prototype._onGadgetLocked=function(e){if(e!==this.model.id)return;return this._locked=!0,this._renderLeftBar()},s.prototype._onGadgetUnlocked=function(e){if(e!==this.model.id)return;return this._locked=!1,this._renderLeftBar()},s.prototype._onSelectionClear=function(){return this._onSelectedChange(!1)},s.prototype.onContentClick=function(e){if(this.manifest.noToggleSwitch)return this.startEditing()},s.prototype.onPlaceholderClick=function(e){return this.startEditing(),e.stopPropagation()},s.prototype.isEditing=function(){return this.manifest.noToggleSwitch&&this.isEditable?!0:!!this._isEditing},s.prototype._toggleEditing=function(){if(!this.isEditable)return;return this.isEditing()?this.stopEditing():this.startEditing()},s.prototype.startEditing=function(){if(!this.isEditable)return;if(this.isEditing())return;return this.trigger("before:startEditing"),this._isEditing=!0,this.$el.addClass("editing"),this._renderLeftBar(),this._renderGadget(),u.trigger("gadget:editing:start",this.model),u.trigger("collab:gadget:editing:start",this.model),t(window).one("click",this.stopEditing),this.trigger("after:startEditing")},s.prototype.stopEditing=function(){if(!this.isEditing())return;return this._isEditing=!1,this.$el.removeClass("editing"),this._renderLeftBar(),this._renderGadget(),u.trigger("gadget:editing:stop",this.model),u.trigger("collab:gadget:editing:stop",this.model),t(window).off("click",this.stopEditing)},s.prototype.prevent=function(e){var n,r;if(((n=this.leftBarRegion)!=null?n.$el:void 0)&&t.contains(this.leftBarRegion.$el[0],e.target))return;if(((r=this.dialogRegion)!=null?r.$el:void 0)&&t.contains(this.dialogRegion.$el[0],e.target))return;return e.stopPropagation()},s.prototype._gadgetDropped=function(){return this._scrollIntoViewIfNeeded(),this.startEditing()},s.prototype._scrollIntoViewIfNeeded=function(){var e;e=this.el.getBoundingClientRect();if(e.top<=0){this.el.scrollIntoView(!0);if(e.top<=0)return window.scrollBy(0,-37)}else if(e.bottom>t(window).height())return this.el.scrollIntoView(!1)},s.prototype.onModelDestroy=function(){var e;return e=this.ui.gadgetContent[0],o.unmountComponentAtNode(e),u.trigger("gadget:deleted",this.model)},s.prototype.showCouldNotLoad=function(){return this.dialogRegion.show(new y({component:x({message:"Something went wrong and this gadget didn't load properly.\nWe're on it. Please check back in a bit."},_button(["spec-gadget-dialog-error",{onClick:function(e){return function(){return e.$el.hide()}}(this)}],"close")," ",this.isEditable?_button(["action",{onClick:function(e){return function(){return e.stopEditing(),e.model.destroy()}}(this)}],"delete"):void 0)})),this.trigger("gadgetRendered"),this.$el.addClass("gadget-showing-dialog")},s.prototype.showDeleteMsg=function(){return this.dialogRegion.show(new y({component:x({message:"Are you sure you want to delete this gadget?"},_button([{onClick:function(e){return function(){return e.stopEditing(),e.dialogRegion.close(),e.$el.removeClass("gadget-showing-dialog")}}(this)}],"cancel")," ",_button(["action spec-gadget-dialog-delete",{onClick:function(e){return function(){return e.stopEditing(),e.model.destroy()}}(this)}],"delete"))})),this.$el.addClass("gadget-showing-dialog")},s.prototype.renderAfterMove=function(){return this._renderLeftBar()},s.prototype.onClose=function(){return p.off("selection:clear",this._onSelectionClear)},s.prototype._onSelectedChange=function(e){return this.stopEditing(),this.selected=e,this.$el.toggleClass("selected",e),this._renderLeftBar()},s.prototype._renderLeftBar=function(){var e,t;if(!this.isEditable)return;return(t=this.ui.lockOverlay)!=null&&typeof t.toggle=="function"&&t.toggle(!!this._locked),this._locked?e=E({gadgetInstanceId:this.model.id}):e=_div(["gadget-toolbar-container"],w({onDragStart:this.ondragstart.bind(this),onDragEnd:this.ondragend.bind(this),gadgetManifest:this.manifest,showSelectButton:m.get("feature_selection")===!0,showEditButton:this.manifest.noToggleSwitch!==!0,showDeleteButton:!0,editing:this.isEditing(),onEditClick:this._toggleEditing.bind(this),config:this.model.config,propertySheetSchema:this._propertySheetSchema,onDeleteClick:this.showDeleteMsg.bind(this),gadgetId:this.model.id,gadgetCid:this.model.cid,selected:this.selected,onSelectedChange:function(e){return function(t){return t?p.add(e.model.id):p.remove(e.model.id),e._onSelectedChange(t)}}(this)})),this.leftBarRegion.currentView!=null?this.leftBarRegion.currentView.renderComponent(e):this.leftBarRegion.show(new y({component:e}))},s.prototype._handleError=function(e){var t,r;if(!e)return;return n.extend(e,{gadgetType:(t=this.model)!=null?t.get("type"):void 0,gadgetId:(r=this.model)!=null?r.id:void 0}),typeof console.error=="function"&&console.error(e),this._track("gadget-error",e)},s.prototype._onGadgetSeen=function(){return this.trigger("gadgetSeen",n.pick(this.model.attributes,"id","type")),this._track("gadget-seen")},s.prototype.toggleEmpty=function(e){return e&&(this._emptyState=this.model.config.toJSON()),this.$el.toggleClass("empty",e)},s.prototype._onGadgetConfigChange=function(e){return this._emptyState&&!n.isEqual(e.toJSON(),this._emptyState)&&this.toggleEmpty(!1),this.model.isNew()||this.trigger("gadgetConfigChanged",n.pick(this.model.attributes,"id","type")),this._renderGadget(),u.trigger("collab:gadget:changed",this.model)},s.prototype._onGadgetUserStateChange=function(e){this._renderGadget();if(!this.model.isNew())return this.trigger("gadgetUserStateChanged",n.pick(this.model.attributes,"id","type"))},s.prototype._onGadgetUserStateSync=function(e,t,n){return this._renderGadget(),this.trigger("lessonIsCompleteMayHaveChanged")},s.prototype._track=function(e,t){var r,i,s;return r=n.extend({},t,{_source:"gadget",lessonId:(i=this.lesson)!=null?(s=i.model)!=null?s.id:void 0:void 0,gadgetId:this.model.id,gadgetType:this.manifest.type||this.manifest.manifestUrl}),f.track(e,r)},s}(i.Layout)})}.call(this),function(){n("plugins/feature-detection",[],function(){var e;return e=function(){function e(){}return e.prototype.userAgent=function(){return this._userAgent!=null?this._userAgent:this._userAgent=navigator.userAgent.toLowerCase()},e.prototype.edgeScroll=function(){return this.isChrome()},e.prototype.isIE=function(){return this.userAgent().indexOf("trident")>0},e.prototype.isChrome=function(){return this.userAgent().indexOf("chrome")>0},e}(),new e})}.call(this),function(){n("views/lesson_screen",["jquery","backbone","react","plugins/feature-detection"],function(e,t,n,r){var i,s;return s=n.DOM.div,i=n.createClass({getDefaultProps:function(){return{lessonView:{},lesson:{}}},getInitialState:function(){return{dropTargetTop:0,dropTargetVisible:!1}},render:function(){return s({className:"lesson-screen",onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop},s({style:{position:"fixed",opacity:this.state.dropTargetVisible?.7:0,top:this.state.dropTargetTop+"px"},className:"lesson-drop-target"}))},_scrollSpeed:25,_scrollDuration:50,_scrollDirection:0,componentWillMount:function(){return this._scrollContainer=e(".js-main-container"),this._edgeScrollEnabled=r.edgeScroll()},onDragEnter:function(e){return e.preventDefault(),e.dataTransfer.dropEffect="move",this.setState({dropTargetVisible:!0,dropTargetTop:e.clientY}),this._scrollContainer.on("scroll",this.onScroll)},onDragLeave:function(e){return this.setState({dropTargetVisible:!1}),this._stopScrolling(),this._scrollContainer.off("scroll",this.onScroll)},onDragOver:function(e){var t,n,r;e.preventDefault(),e.dataTransfer.dropEffect="move",this.setState({dropTargetTop:this._dropTargetPosition(e.clientY),dropTargetVisible:!0});if(!this._edgeScrollEnabled&&this._scrollContainer)return n=this._scrollContainer.get(0).getBoundingClientRect(),r=e.clientY-n.top,t=n.bottom-e.clientY,0<r&&r<50?this._startScrolling(-1):0<t&&t<50?this._startScrolling(1):this._stopScrolling()},onDrop:function(e){var t,n,r;return e.preventDefault(),e.stopPropagation(),this._stopScrolling(),n=this._gadgetAtCursor(e.clientY),r=this._dropTargetIndex(e.clientY,n),t=JSON.parse(e.dataTransfer.getData("text")),_.defer(function(e){return function(){switch(t.action){case"reorder":return e.props.lessonView.moveGadgetToIndex(t.gadgetCid,r);case"create":return e.props.lessonView.createManifestInstanceAt(t.manifestUrl,r,!0);case"paste":return e.props.lessonView.pasteGadgetInstancesAt(t,r)}}}(this))},onScroll:function(){return this.setState({dropTargetVisible:!1})},_dropTargetPosition:function(e){var t,n;return t=this._gadgetAtCursor(e),t?this._dropTargetPositionAtGadgetBox(e,t.getBoundingClientRect()):(n=this._gadgetContainerRect(),this.props.lesson.gadgets.length>0&&e>=n.top?n.bottom:n.top)},_gadgetAtCursor:function(e){return _(this.props.lessonView.el.querySelectorAll(".js-gadget")).find(function(t){var n;return n=t.getBoundingClientRect(),e>=n.top&&e<n.bottom})},_dropTargetIndex:function(t,n){var r,i;return n?(i=n.getBoundingClientRect(),r=this._cursorPositionMultiplier(t,i),e(n).index()+r):t<=this._gadgetContainerRect().top?0:this.props.lessonView.$el.find(".js-gadget").length},_dropTargetPositionAtGadgetBox:function(e,t){return t.top+t.height*this._cursorPositionMultiplier(e,t)},_gadgetContainerRect:function(){return this.props.lessonView.el.querySelector(".js-lesson-gadgets").getBoundingClientRect()},_startScrolling:function(e){if(this._scrollDirection===e)return;return this._scrollDirection=e,setTimeout(this._scrollOneStep.bind(this),250)},_scrollOneStep:function(){var e;if(this._scrollDirection===0)return;return e=this._scrollContainer.scrollTop()+this._scrollDirection*this._scrollSpeed,this._scrollContainer.animate({scrollTop:e},this._scrollDuration,"linear",this._scrollOneStep.bind(this))},_stopScrolling:function(){if(this._scrollDirection===0)return;return this._scrollDirection=0},_cursorPositionMultiplier:function(e,t){return e-t.top>=t.height/2?1:0}})})}.call(this),function(){n("views/inline_input",["react","react-coffeescript-glue"],function(e){var t;return t=e.createClass({render:function(){return _input(["inline-input",{ref:"input"},this.props])},componentDidMount:function(){return this._afterRender()},componentDidUpdate:function(e,t){return this._afterRender()},_afterRender:function(){return this.refs.input.focus()}})})}.call(this),function(){n("views/lesson_title",["underscore","react","views/inline_input","react-coffeescript-glue","react-backbone"],function(e,t,n){var r,i;return n=t.createFactory(n),i=t.createClass({getInitialState:function(){return{editing:!1}},_finishEditing:function(){return this.setState({editing:!1}),this.props.onFinishEditing()},render:function(){return _h1([],_div(["lesson-title",this.props.editable&&!this.state.editing?"lesson-title-with-outline":void 0],this.state.editing?n({value:this.props.title,placeholder:"Enter lesson title",onClick:function(e){return e.stopPropagation()},onBlur:function(e){return function(){return e._finishEditing()}}(this),onKeyDown:function(e){return function(t){var n;if((n=t.key)==="Enter"||n==="Escape")return e._finishEditing()}}(this),onChange:function(e){return function(t){return e.props.onChangeTitle(t.target.value)}}(this)}):_div([{onClick:function(e){return function(){if(e.props.editable)return e.setState({editing:!0})}}(this)}],this.props.title)))}}),i=t.createFactory(i),r=t.createClass({mixins:[t.BackboneMixin("lesson")],render:function(){return i({title:this.props.lesson.get("title"),editable:this.props.editable,onChangeTitle:function(e){return function(t){return e.props.lesson.set({title:t})}}(this),onFinishEditing:function(e){return function(){return e.props.lesson.save()}}(this)})}})})}.call(this),function(){n("plugins/backbone.move",["backbone","underscore"],function(e,t){return e.Collection.prototype.move=function(e,t,n){var r;r=this.indexOf(e);if(r===-1)throw new Error("Can't move a model that's not in the collection");if(r===t)return;this.models.splice(t,0,this.models.splice(r,1)[0]),this.trigger("sort",this);if(n!=null?!n.silent:!void 0)return this._syncOrder(n)},e.Collection.prototype._getIndexes=function(){return t.map(this.models,function(e){return e.id})},e.Collection.prototype._syncOrder=function(e){var n;e==null&&(e={}),n=this._getIndexes();if(!n.length)return;return e.url==null&&(e.url=t.result(this,"url")+"/order"),e.attrs==null&&(e.attrs=n),this.sync("update",this,e)},e})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("views/lesson",["react","underscore","async","jquery","marionette","mediator","player_palette","plugins/tracker","models/settings","models/gadget","models/lesson","templates/lesson","views/gadget/instance","views/lesson_screen","state/position","state/selection","views/react_view","views/lesson_title","plugins/backbone.move"],function(t,n,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b){var w;return v=t.createFactory(v),b=t.createFactory(b),w=function(t){function o(){return this.showGadget=e(this.showGadget,this),this._onDragEnd=e(this._onDragEnd,this),this._onDragStart=e(this._onDragStart,this),this._onGadgetInserted=e(this._onGadgetInserted,this),this.addGadgetToTheEnd=e(this.addGadgetToTheEnd,this),this.itemViewOptions=e(this.itemViewOptions,this),o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.template=n.template(p),o.prototype.ui={gadgets:".gadgets",lessonTitle:".js-lesson-title",lessonContent:".js-lesson-content",screen:".js-lesson-screen",canvasMessage:".canvas-message"},o.prototype.className="lesson",o.prototype.itemViewContainer=".gadgets",o.prototype.itemView=d,o.prototype.itemViewOptions=function(e){return{manifest:a.findManifestByShortType(e.get("type")),isEditable:this.isEditable,lesson:this,dropped:e.dropped}},o.prototype.initialize=function(e){return this.isEditable=e.isEditable,this.collection=this.model.gadgets,this.activeView=null,this.on("itemview:lessonIsCompleteMayHaveChanged",function(e){return function(){return e.trigger("lessonIsCompleteMayHaveChanged")}}(this)),this.on("itemview:before:startEditing",this.onBeforeStartEditingGadget),this.on("itemview:gadgetRendered",this._onGadgetRendered),this.on("itemview:gadgetConfigChanged",this._onGadgetConfigChanged,this),this.on("itemview:gadgetUserStateChanged",this._onGadgetUserStateChanged,this),this.on("itemview:gadgetSeen",this._onGadgetSeen,this),this.listenTo(this.model.gadgets,"remove",this.onGadgetDeleted),this.listenTo(this.model.gadgets,"change:isEditing",this.onGadgetEditingChanged),this.listenTo(this,"composite:collection:rendered",this.onCollectionRender),this.listenTo(this.model.gadgets,"add remove",this.fixCanvasMessage),u.on("tray:gadgetSelected",this.addGadgetToTheEnd,this),u.on("gadget:dragstart",this._onDragStart,this),u.on("gadget:dragend",this._onDragEnd,this),this.listenTo(g,"selection:copy",this._onSelectionCopy,this),this.listenTo(g,"selection:delete",this._onSelectionDelete,this)},o.prototype.isTitleVisible=function(){var e;return this.isEditable?!0:(e=this.model.get("title"),e&&e!==h.prototype.defaults.title)},o.prototype.onRender=function(){this.fixCanvasMessage(),m.set({lessonCid:this.model.cid,gadgetCid:null}),g.clear(),this.isEditable&&(this.lessonScreenReactView=new y({component:v({lessonView:this,lesson:this.model})}),this.lessonScreenReactView.render().$el.appendTo(this.ui.screen),this.lessonScreenReactView.onShow()),this.children.length===0&&u.trigger("lesson:allGadgetsRendered",this.model),this.isTitleVisible()?(this.lessonTitleReactView=new y({component:b({editable:this.isEditable,lesson:this.model})}),this.lessonTitleReactView.render().$el.appendTo(this.ui.lessonTitle),this.lessonTitleReactView.onShow()):this.ui.lessonTitle.css({marginTop:"20px"});if(!this.isEditable)return f.track("Viewed lesson",{courseId:l.get("courseId"),lessonId:this.model.id})},o.prototype.onClose=function(){u.off("tray:gadgetSelected",this.addGadgetToTheEnd,this),g.off("selection:delete",this._onSelectionDelete,this),g.off("selection:copy",this._onSelectionCopy,this);if(this.lessonTitleReactView)return this.lessonTitleReactView.close()},o.prototype.onGadgetEditingChanged=function(e,t){return this.$el.toggleClass("has-editing-gadget",t)},o.prototype._onGadgetConfigChanged=function(e,t){return f.track("Edited gadget",{courseId:l.get("courseId"),lessonId:this.model.id,gadgetId:t.id,gadgetType:t.type})},o.prototype._onGadgetUserStateChanged=function(e,t){if(this.isEditable)return;return f.track("Changed learner state",{courseId:l.get("courseId"),lessonId:this.model.id,gadgetId:t.id,gadgetType:t.type})},o.prototype._onGadgetSeen=function(e,t){if(this.isEditable)return;return f.track("Viewed Gadget",{courseId:l.get("courseId"),lessonId:this.model.id,gadgetId:t.id,gadgetType:t.type})},o.prototype.onBeforeStartEditingGadget=function(e){var t;return(t=this._currentlyEditingGadget)!=null&&t.stopEditing(),this._currentlyEditingGadget=e},o.prototype.onBeforeStartCommentingGadget=function(e){var t;return(t=this._currentlyCommentingGadget)!=null&&t.stopCommenting(),this._currentlyCommentingGadget=e},o.prototype.createManifestInstanceAt=function(e,t,n){var r;return n==null&&(n=!1),r=a.createGadgetInstance(e),this.insertGadgetInstanceAt(r,t,n)},o.prototype.insertGadgetInstanceAt=function(e,t,n){var r;return n==null&&(n=!1),r=this.createGadgetInstanceAt(e,t,n),this.collection.create(r,{at:t,success:this._onGadgetInserted})},o.prototype.createGadgetInstanceAt=function(e,t,n){var r;return r=new c(e),r.set("index",t),r.dropped=n,r},o.prototype.addGadgetToTheEnd=function(e){return this.createManifestInstanceAt(e,this.children.length,this.isEditable)},o.prototype.pasteGadgetInstancesAt=function(e,t){var n,r,s,o;return n=e.gadgets,r=e.manifests,r&&r.forEach(function(e){return e.manifestUrl=e.baseUrl+"versal.json",a.registerManifest(e)}),s=n.map(function(e){return function(n,r){return e.createGadgetInstanceAt(n,t+r)}}(this)),this.collection.add(s,{at:t}),o=s.map(function(e){return function(t,n){return function(n){return t.save({},{error:n,success:function(r){return e._onGadgetInserted(t),n()}})}}}(this)),i.series(o,function(e){if(e)return console.error(e)})},o.prototype.pasteGadgetInstancesAtSaveWithPut=function(e,t){var n;return e.forEach(function(e){return function(n,r){var i;return i=e.createGadgetInstanceAt(n,t+r),i.set("id",Math.random().toString(36).substring(7)),e.collection.add(i,{at:t+r})}}(this)),n=this.model.toJSON({gadgets:!0}),this.model.save(n).then(function(t){return function(){return e.forEach(t._onGadgetInserted)}}(this))},o.prototype._onGadgetInserted=function(e){return f.track("Added gadget",{courseId:l.get("courseId"),lessonId:this.model.id,gadgetId:e.id,gadgetType:e.get("type")}),u.trigger("collab:lesson:gadget:added",this,e)},o.prototype.onGadgetDeleted=function(e){return f.track("Deleted gadget",{courseId:l.get("courseId"),lessonId:this.model.id,gadgetId:e.id,gadgetType:e.get("type")}),u.trigger("collab:lesson:gadget:deleted",this,e)},o.prototype.moveGadgetToIndex=function(e,t){var r,i,s;return i=this.collection.get(e),this.collection.indexOf(i)<t&&t--,this.collection.move(i,t),s=this.children.findByModel(i),r=s.$el.detach(),n.defer(function(e){return function(){var n;return t===0?e.ui.gadgets.prepend(r):(n=e.children.findByModel(e.collection.at(t-1)),r.insertAfter(n.el)),u.trigger("collab:lesson:gadget:moved",e),e._relegateChildGadgets(),s.renderAfterMove()}}(this))},o.prototype._onDragStart=function(e){return this.$el.addClass("dragover")},o.prototype._onDragEnd=function(){return this.$el.removeClass("dragover")},o.prototype._serializeSelection=function(e){var t,r,i,s,o,u,f,l;return s=(u=this.model.gadgets)!=null?(f=u.models)!=null?f.filter(function(t){return n.contains(e,t.id)}).map(function(e){return n.pick(e.toJSON(),"config","type")}):void 0:void 0,r=a.findManifestByShortType((l=s[0])!=null?l.type:void 0),t=new Date,o=t.toString().split(" ").slice(0,4).slice(1,3).join(" "),o+=" "+t.toTimeString().substring(0,8),i=e.length===1?r.distributedIconPath:"",{gadgets:s,title:o,icon:i}},o.prototype._onSelectionCopy=function(){var e;e=g.keys();if(!e.length)return;return g.trigger("clipboard:item:add",this._serializeSelection(e))},o.prototype._onSelectionDelete=function(){var e,t;e=g.keys();if(!e.length)return;return t=this.collection.filter(function(t){return e.indexOf(t.id)>=0}),t!=null&&t.forEach(function(e){return e.destroy()}),g.clear()},o.prototype.onCollectionRender=function(){return this._currentlyCommentingGadget=null,this._currentlyEditingGadget=null},o.prototype.appendHtml=function(e,t,n){var r;return r=this.ui.gadgets.children(),r.size()<=n?this.ui.gadgets.append(t.el):r.eq(n).before(t.el)},o.prototype._onGadgetRendered=function(e){var t;e.rendered=!0,t=this.children.every(function(e){return e.rendered});if(t)return u.trigger("lesson:allGadgetsRendered",this.model)},o.prototype.showHoverables=function(e){return e==null&&(e=!0),this.children.each(function(t){return t.showHoverables(e)})},o.prototype.showGadget=function(e){var t,r;return t=s(".js-main-container"),r=this.children.findByModel(this.model.gadgets.at(e-1)),this._showGadget==null&&(this._showGadget=n.debounce(function(e){return e.gadgetRendering.done(function(){var n;return n=e.$el.offset().top+t.scrollTop(),n+=5,t.animate({scrollTop:n},"fast")})},250,!0)),this._showGadget(r)},o.prototype.isComplete=function(){if(this.model.collection.indexOf(this.model)<this.model.collection.length-1)throw"Only call isComplete on the last lesson";return this.model.gadgets.every(function(e){var t;return e.get("type")!=="6/quiz@1.0.04"||((t=e.userState.get("results"))!=null?t.pass:void 0)===!0})},o.prototype._relegateChildGadgets=function(){var e;return e=[],this.collection.each(function(t){return function(n){if(n.isChild)return e.push(n),t.collection.remove(n,{silent:!0})}}(this)),this.collection.add(e,{silent:!0})},o.prototype.fixCanvasMessage=function(){return this.ui.canvasMessage.toggleClass("hidden",!!this.collection.length)},o}(o.CompositeView)})}.call(this),function(){n("templates/loading",[],function(){return'<div class="loading-overlay">\n  <span class="loading-content">\n    <span class="js-loading-indicator-region loading-indicator"></span>\n    Loading...\n  </span>\n</div>'})}.call(this),function(){n("views/loading_indicator",["react","react-coffeescript-glue"],function(e){var t;return t=e.createClass({render:function(){var e;return _div(["loading-indicator"],function(){var t,n;n=[];for(e=t=0;t<=14;e=++t)n.push(_div(["loading-indicator-line","loading-indicator-line-"+e,{key:"line-"+e}]));return n}())}})})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("views/loading",["react","marionette","templates/loading","views/react_view","views/loading_indicator"],function(e,n,r,i,s){var o;return s=e.createFactory(s),o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=_.template(r),n.prototype.regions={loadingIndicatorRegion:".js-loading-indicator-region"},n.prototype.onRender=function(){return this.loadingIndicatorRegion.show(new i({component:s()}))},n.prototype.hide=function(){return this.$(".loading-overlay").fadeOut(400,function(e){return function(){return e.close()}}(this))},n}(n.Layout)})}.call(this),function(){n("templates/nav_buttons",[],function(){return"<div class=\"nav-wrapper\">\n  <div class=\"nav\">\n    <%= buttonIf(previousAvailable(), 'js-prev previous-button', 'previous', 'left') %>\n    <%= buttonIf(nextAvailable(), 'js-next next-button', 'next', 'right') %>\n    <%= buttonIf(isComplete() && !nextAvailable(), 'js-finish finish-button', 'finish', 'right') %>\n    <div class=\"clearfix\"></div>\n  </div>\n</div>"})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("models/current_user",["backbone"],function(e){var n,r;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.url="/user",n}(e.Model),r=null,{fetchDeferred:function(){return r==null&&(r=(new n).fetch()),r}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("views/nav_buttons",["marionette","templates/nav_buttons","mediator","models/current_user","plugins/tracker"],function(t,n,i,s,o){var u;return u=function(t){function u(){return this.templateHelpers=e(this.templateHelpers,this),this.buttonIf=e(this.buttonIf,this),this.isComplete=e(this.isComplete,this),this.nextAvailable=e(this.nextAvailable,this),this.previousAvailable=e(this.previousAvailable,this),this._onCourseEnd=e(this._onCourseEnd,this),u.__super__.constructor.apply(this,arguments)}return r(u,t),u.prototype.className="nav-buttons",u.prototype.initialize=function(){return i.on("lesson:rendered",this.updateButtons,this),this._isEditable=this.model.get("isEditable")},u.prototype.onClose=function(){return i.off("lesson:rendered",this.updateButtons)},u.prototype.events={"click .js-prev":"onPreviousClick","click .js-next":"onNextClick","click .js-finish":"onFinishClick"},u.prototype.ui={finishButton:".js-finish",nextButton:".js-next",prevButton:".js-prev"},u.prototype.template=_.template(n),u.prototype.updateButtons=function(e){var t,n,r;return(t=this.lessonView)!=null&&t.off("lessonIsCompleteMayHaveChanged",this.render),(n=this.next)!=null&&n.off("change:isAccessible",this.render),this.lessonView=e,this.prev=this.model.lessons.at(this.model.lessons.indexOf(this.lessonView.model)-1),this.next=this.model.lessons.at(this.model.lessons.indexOf(this.lessonView.model)+1),this.lessonView.on("lessonIsCompleteMayHaveChanged",this.render,this),(r=this.next)!=null&&r.on("change:isAccessible",this.render,this),this.render()},u.prototype.onPreviousClick=function(){var e;return this.ui.prevButton.addClass("disabled"),e=1+this.model.lessons.indexOf(this.prev),i.trigger("navigate:lesson",e)},u.prototype.onNextClick=function(){var e;return this.ui.nextButton.addClass("disabled"),e=1+this.model.lessons.indexOf(this.next),i.trigger("navigate:lesson",e)},u.prototype._fetchCurrentUser=function(){return s.fetchDeferred()},u.prototype._onCourseEnd=function(e){return i.trigger("parent:notify",{event:"player:course:completed",user:_.pick(e,"email","id")}),this.ui.finishButton.removeClass("disabled")},u.prototype.onFinishClick=function(){if(this.ui.finishButton.hasClass("disabled"))return;return o.track("Finished course",{courseId:this.model.id}),this.ui.finishButton.addClass("disabled"),this.model.complete().then(this._fetchCurrentUser).then(this._onCourseEnd)},u.prototype.previousAvailable=function(){return this.prev!=null&&(this.prev.get("isAccessible")||this._isEditable)},u.prototype.nextAvailable=function(){return this.next!=null&&(this.next.get("isAccessible")||this._isEditable)},u.prototype.isComplete=function(){var e;return!this.next&&((e=this.lessonView)!=null?e.isComplete():void 0)},u.prototype.buttonIf=function(e,t,n,r){if(e)return"<a class='nav-button "+t+" pull-"+r+"'>\n  <i class='icon-caret-"+r+" pull-"+r+"'></i>\n  <span class='nav-button-text'>"+n+"</span>\n</a>"},u.prototype.templateHelpers=function(){return{previousAvailable:this.previousAvailable,nextAvailable:this.nextAvailable,isComplete:this.isComplete,buttonIf:this.buttonIf}},u}(t.CompositeView)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("views/course",["jquery","marionette","templates/course","views/lesson","views/loading","mediator","plugins/tracker","views/nav_buttons","models/settings"],function(t,n,i,s,o,u,a,f,l){var c;return c=function(n){function c(){return this._refetchSections=e(this._refetchSections,this),c.__super__.constructor.apply(this,arguments)}return r(c,n),c.prototype.initialize=function(e){return e==null&&(e={}),this.listenTo(this.model.lessons,"add",this.onLessonsAdd,this),u.on("tray:gadgetUpdated",this.rerenderLesson,this),u.on("blocking:changed",this._onBlockingChanged,this),u.on("collab:populate:updateBar",this._onPopulateUpdateBar,this),this._isEditable=this.model.get("isEditable"),this.singleLesson=e.singleLesson},c.prototype.onClose=function(){return u.off("tray:gadgetUpdated",this.rerenderLesson,this),u.off("blocking:changed",this._onBlockingChanged,this),u.off("collab:populate:updateBar",this._onPopulateUpdateBar,this),u.off("course:save:error",this.showSaveErrorMsg,this),u.off("course:save:success",this.hideSaveErrorMsg,this)},c.prototype.ui={saveErrorMsg:".saveErrorMsg"},c.prototype.regions={updateNotificationContainer:".js-update-notification-container",lessonRegion:".js-lessons",loadingRegion:".js-loading",nav:".js-nav"},c.prototype.template=_.template(i),c.prototype.className=function(){return this._isEditable?"course editable":"course"},c.prototype.getLessonView=function(e){return this.children.findByModel(e)},c.prototype.activeLessonIndex=function(){return this.model.lessons.indexOf(this._activeLesson)},c.prototype.activateLesson=function(e){return this.loadingLesson&&this.loadingLesson.abort(),this.renderingLesson=t.Deferred(),this.model.lessons.indexOf(e)===-1||e===this._activeLesson?(this.renderingLesson.resolve(),!1):(this.loadingLesson=e.fetch(),a.timeXHR(this.loadingLesson,"fetch-lesson",{courseId:this.model.id,lessonId:e.id}),this._activeLesson&&(this._loadingView=new o,this.loadingRegion.show(this._loadingView)),this._activeLesson=null,this.loadingLesson.done(function(t){return function(){return t.displayLesson(e)}}(this)))},c.prototype.displayLesson=function(e){var n,r,i,o,a,f;return r=this._activeLesson,this._activeLesson=e,this._loadingView&&this._loadingView.hide(function(e){return function(){return e.loadingRegion.close()}}(this)),i=this.activeLessonIndex()+1,n=this.model.progress.get("lessonIndex")===i,o=!l.get("isProgressReportingEnabled"),!n&&!o&&(a=this.renderingLesson)!=null&&a.done(function(e){return function(){return e.model.progress.save({lessonIndex:i,currentLessonId:e._activeLesson.id})}}(this)),(f=this._lessonView)!=null&&f.close(),this._lessonView=new s({model:this._activeLesson,isEditable:this._isEditable}),this.lessonRegion.show(this._lessonView),t(".js-main-container").scrollTop(0),this.renderingLesson&&this.renderingLesson.resolve(),u.trigger("lesson:rendered",this._lessonView),r&&(u.trigger("collab:lesson:closed",r),u.trigger("stickyHeaders:refresh")),u.trigger("collab:lesson:opened",this._activeLesson)},c.prototype.startEditing=function(e){if(!this._isEditable)return;return e.toggleEdit(!0),e.$el.parent().addClass("editing"),this._lessonView.showHoverables(!1)},c.prototype.onRender=function(){return this._rendered=!0,this.el.className=this.className(),this.activateLesson(this._activeLesson||this.model.lessons.first()),this.navView=new f({model:this.model}),this.singleLesson||this.nav.show(this.navView),u.on("course:save:error",this.showSaveErrorMsg,this),u.on("course:save:success",this.hideSaveErrorMsg,this)},c.prototype._onPopulateUpdateBar=function(e){return this.updateNotificationContainer.show(e)},c.prototype.onShow=function(){return u.trigger("collab:player:course:ready")},c.prototype.showLesson=function(e){return this.showGadget(e,null)},c.prototype.showGadget=function(e,n){var r;return(r=this.model.lessons.at(e-1))&&this.activateLesson(r),this.renderingLesson.done(function(e){return function(){return n?e._lessonView.showGadget(n):t(".js-main-container").animate({scrollTop:0})}}(this))},c.prototype.showSaveErrorMsg=function(){if(!this.saveErrorShowing&&!!this._isEditable)return this.ui.saveErrorMsg.slideDown(50),this.saveErrorShowing=!0},c.prototype.hideSaveErrorMsg=function(){if(this.saveErrorShowing)return this.saveErrorShowing=!1,this.ui.saveErrorMsg.slideUp(50)},c.prototype._onBlockingChanged=function(){return setTimeout(this._refetchSections,100)},c.prototype._refetchSections=function(){var e;return e=this.model.fetch({data:{depth:"sections"},success:function(e){return function(){return e.navView.updateButtons(e._lessonView)}}(this)}),a.timeXHR(e,"fetch-sections",{courseId:this.model.id})},c.prototype.rerenderLesson=function(){return this.displayLesson(this._activeLesson)},c}(n.Layout)})}.call(this),function(){n("views/sidebar/sidebar_course_component",["react","react-dom","views/inline_input","models/settings","react-coffeescript-glue"],function(e,t,n,r){var i,s,o,u,a,f,l,c,h,p;return n=e.createFactory(n),p=10,i=e.createClass({render:function(){var e;return e=this.props.children.trim(),e?_span([],e):_span(["sidebar-placeholder-text"],this.props.placeholder)}}),i=e.createFactory(i),c=e.createClass({_onClick:function(e){if(!this.props.isAccessible)return;return this.props.onClick(),e.stopPropagation()},render:function(){return _div(["sidebar-section-title",this.props.hasCompletedSection||this.props.isCurrentSection?"sidebar-toc-progressed":void 0,this.props.isCurrentSection?"sidebar-toc-active":void 0,{onClick:this._onClick}],this.props.title)}}),c=e.createFactory(c),a=e.createClass({_dragYOffset:function(){return this.isMounted()?t.getDOMNode(this).offsetHeight/2:0},render:function(){return _div(["sidebar-lesson sidebar-lesson-drag-image",{style:{left:this.props.x-p,top:this.props.y-this._dragYOffset(),width:this.props.width}}],_div(["sidebar-lesson-title"],_div(["sidebar-lesson-title-readonly"],i({placeholder:this.props.placeholder},this.props.title))))}}),a=e.createFactory(a),s=e.createClass({componentWillMount:function(){return this._elementInBody=document.createElement("div"),document.body.appendChild(this._elementInBody)},componentWillUnmount:function(){return t.unmountComponentAtNode(this._elementInBody),document.body.removeChild(this._elementInBody)},render:function(){return _span()},componentDidMount:function(){return this._renderElementInBody()},componentDidUpdate:function(){return this._renderElementInBody()},_renderElementInBody:function(){return t.render(this.props.children,this._elementInBody)}}),s=e.createFactory(s),l=e.createClass({_onClick:function(e){if(!this.props.isAccessible)return;return this.props.onClick(),e.stopPropagation()},_renderSections:function(){return this.props.gadgets.map(function(e){return function(t,n){var r;if(t.type!==e.props.sectionGadgetType)return;r=(t.config.content||"").trim();if(r==="")return;return c({key:t.id,title:r,isAccessible:e.props.isAccessible,hasCompletedSection:e.props.hasCompletedLesson||e.props.isCurrentLesson&&n<=e.props.currentGadgetIndex,isCurrentSection:e.props.isCurrentLesson&&n===e.props.currentGadgetIndex,onClick:function(){return e.props.onClickSection(n)}})}}(this))},getInitialState:function(){return{editing:!1,dragImageContainer:null,customDragImageX:null,customDragImageY:null}},_onDragEnter:function(e){return e.preventDefault(),e.dataTransfer.dropEffect="move"},_onDragOver:function(e){var n,r,i;return e.preventDefault(),i=e.clientY-t.findDOMNode(this).getBoundingClientRect().top,r=t.findDOMNode(this).offsetHeight/2,n=i>r,this.props.onDragMove(n)},_onDrag:function(e){return this.setState({customDragImageX:e.clientX,customDragImageY:e.clientY})},_onDragEnd:function(){return this.setState({renderCustomDragImage:!1,customDragImageX:null,customDragImageY:null})},_onDrop:function(e){return e.preventDefault()},_dragHandleOnDragStart:function(e){var n;return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("Text",this.props.title),e.dataTransfer.setDragImage?(n=this.refs.title.offsetHeight/2,e.dataTransfer.setDragImage(t.findDOMNode(this),p,n),setTimeout(this.props.onDragStart,0)):(this.props.onDragStart(),this.setState({renderCustomDragImage:!0}))},_dragHandleOnDragEnd:function(){return this.props.onDragEnd(),this.props.onHoverStart(),setTimeout(function(e){return function(){return e.props.onHoverStart()}}(this),50)},render:function(){var e,r;return e="Untitled lesson",_div(["sidebar-lesson",this.props.isAccessible?void 0:"sidebar-lesson-disabled",this.state.editing?"sidebar-lesson-editing":void 0,this.props.editable?"sidebar-lesson-editable":void 0,this.props.hovered?"sidebar-lesson-hovered":void 0,this.props.dragging?"sidebar-lesson-dragging":void 0,this.props.hasCompletedLesson||this.props.isCurrentLesson?"sidebar-toc-progressed":void 0,this.props.isCurrentLesson?"sidebar-toc-active":void 0,{onClick:this._onClick,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDrag:this._onDrag,onDragEnd:this._onDragEnd,onDrop:this._onDrop,onMouseEnter:this.props.onHoverStart,onMouseMove:this.props.onHoverStart,onMouseLeave:this.props.onHoverEnd}],this.props.editable?_div([],_div(["sidebar-lesson-drag-handle",{draggable:!0,onDragStart:this._dragHandleOnDragStart,onDragEnd:this._dragHandleOnDragEnd}],_i(["icon-reorder"])),_div(["sidebar-lesson-delete-button",{onClick:function(e){return e.stopPropagation()},onMouseDown:function(e){return function(t){if(confirm("Are you sure you want to delete this lesson?"))return e.props.onDelete()}}(this)}],_i(["icon-remove"])),this.state.editing?_div(["sidebar-lesson-edit-button",{key:"edit-button-editing"}],_i(["icon-pencil"])):_div(["sidebar-lesson-edit-button",{key:"edit-button-not-editing",onClick:function(e){return function(t){return t.stopPropagation(),e.setState({editing:!e.state.editing})}}(this)}],_i(["icon-pencil"]))):void 0,_div(["sidebar-lesson-title",{ref:"title"}],this.state.editing?n({value:this.props.title,placeholder:e,onClick:function(e){return function(e){return e.stopPropagation()}}(this),onBlur:function(e){return function(){return e.setState({editing:!1})}}(this),onKeyDown:function(e){return function(t){var n;if((n=t.key)==="Enter"||n==="Escape")return e.setState({editing:!1})}}(this),onChange:function(e){return function(t){return e.props.onChangeTitle(t.target.value)}}(this)}):_div(["sidebar-lesson-title-readonly"],i({placeholder:e},this.props.title))),_div([],this._renderSections()),_i(["sidebar-lesson-lock icon-lock",{title:"This lesson is locked by one or more quizzes"}]),this.state.renderCustomDragImage?s({},a({title:this.props.title,x:this.state.customDragImageX,y:this.state.customDragImageY,width:(r=t.findDOMNode(this))!=null?r.offsetWidth:void 0,placeholder:e})):void 0)},componentDidMount:function(){return this._afterRender(!1)},componentDidUpdate:function(e,t){return this._afterRender(e.isCurrentLesson)},_afterRender:function(e){var n,r;if(!t.findDOMNode(this).offsetParent)return console.warn("Invariant violation: SidebarLessonComponent has no offsetParent, probably not attached to the DOM yet");if(!t.findDOMNode(this).offsetParent.className.match("sidebar-body"))return console.warn("Invariant violation: SidebarLessonComponent offsetParent is not the sidebar body!");if(this.props.isCurrentLesson&&!e){n=t.findDOMNode(this).offsetParent;if(!(n.scrollTop<=(r=t.findDOMNode(this).offsetTop)&&r<=n.scrollTop+n.offsetHeight))return n.scrollTop=t.findDOMNode(this).offsetTop-n.offsetHeight/2}}}),l=e.createFactory(l),u=e.createClass({getInitialState:function(){return{editing:!1}},render:function(){var e;return e="Untitled course",_div(["sidebar-course-title"],this.state.editing?n({value:this.props.title,placeholder:e,onBlur:function(e){return function(){return e.setState({editing:!1})}}(this),onKeyDown:function(e){return function(t){var n;if((n=t.key)==="Enter"||n==="Escape")return e.setState({editing:!1})}}(this),onChange:function(e){return function(t){return e.props.onChange(t.target.value)}}(this)}):_div([{onClick:function(e){return function(){return e.props.onClick()}}(this)}],i({placeholder:e},this.props.title)),this.props.editable?this.state.editing?_i(["sidebar-course-title-edit-icon icon-pencil",{key:"edit-button-editing"}]):_i(["sidebar-course-title-edit-icon icon-pencil",{key:"edit-button-not-editing",onClick:function(e){return function(){return e.setState({editing:!0})}}(this)}]):void 0)}}),u=e.createFactory(u),f=e.createClass({getInitialState:function(){return{opened:!1}},_onDocumentClick:function(e){if(t.findDOMNode(this).contains(e.target))return;return this.setState({opened:!1})},componentDidMount:function(){return document.addEventListener("click",this._onDocumentClick,!0)},componentWillUnmount:function(){return document.removeEventListener("click",this._onDocumentClick,!0)},render:function(){return _div([],_div(["sidebar-course-title-options-toggle",{onClick:function(e){return function(){return e.setState({opened:!e.state.opened})}}(this)}],this.state.opened?_i(["icon-caret-up"]):_i(["icon-caret-down"])),this.state.opened?_div(["sidebar-course-title-options-dropdown spec-sidebar-course-title-options-dropdown"],_div(["sidebar-course-title-options-dropdown-list"],this.props.children)):void 0)}}),f=e.createFactory(f),h=e.createClass({_timeSince:function(e){var t,n,r,i,s,o,u,a,f,l;t=+(new Date)-e;if(t<=3e4)n="seconds";else if(3e4<t&&t<=6e4)n="less than a minute";else{f=[["minute",6e4,36e5],["hour",36e5,864e5],["day",864e5,Infinity]];for(u=0,a=f.length;u<a;u++)l=f[u],s=l[0],i=l[1],r=l[2],i<t&&t<=r&&(o=Math.floor(t/i),n=""+o+" "+s,o>1&&(n+="s"))}return n},componentDidMount:function(){return this._interval=setInterval(function(e){return function(){return e.forceUpdate()}}(this),1e4)},componentWillUnmount:function(){return clearInterval(this._interval)},render:function(){return _span([],this._timeSince(this.props.date))}}),h=e.createFactory(h),o=e.createClass({getInitialState:function(){return{dragFromIndex:null,dragToIndex:null,hoveredId:null}},_addDropTargetToLessons:function(e){var t;return t=e.slice(),this.state.dragToIndex!=null&&t.splice(this.state.dragToIndex,0,_div(["sidebar-lesson-drop-target"])),t},_draggingSomeLesson:function(){return this.state.dragFromIndex!=null},_renderLesson:function(e,t){var n,r;return n=t<this.props.currentLessonIndex,r=t===this.props.currentLessonIndex,l({key:e.id,title:e.title,isAccessible:e.isAccessible,gadgets:e.gadgets,hovered:this.state.hoveredId===e.id,sectionGadgetType:this.props.sectionGadgetType,hasCompletedLesson:n&&!this._draggingSomeLesson(),isCurrentLesson:r&&!this._draggingSomeLesson(),dragging:t===this.state.dragFromIndex,currentGadgetIndex:this.props.currentGadgetIndex,editable:this.props.editable,onClick:function(e){return function(){return e.props.onClickLesson(t)}}(this),onClickSection:function(e){return function(n){return e.props.onClickSection(t,n)}}(this),onChangeTitle:function(e){return function(n){return e.props.onChangeLessonTitle(t,n)}}(this),onDelete:function(e){return function(){return e.props.onLessonDelete(t)}}(this),onDragStart:function(e){return function(){return e.setState({dragFromIndex:t})}}(this),onDragMove:function(e){return function(n){if(e.state.dragFromIndex==null)return;return e.setState({dragToIndex:t+(n?1:0)})}}(this),onDragEnd:function(e){return function(){var t,n;if(e.state.dragFromIndex==null)return;return t=e.props.course.lessons[e.state.dragFromIndex].id,n=e.state.dragToIndex,n>e.state.dragFromIndex&&n--,e.props.onLessonMove(t,n),e.setState({dragFromIndex:null,dragToIndex:null})}}(this),onHoverStart:function(t){return function(){return t.setState({hoveredId:e.id})}}(this),onHoverEnd:function(e){return function(){return e.setState({hoveredId:null})}}(this)})},_addLesson:function(e){return e.preventDefault(),this.props.onLessonAdd()},render:function(){var e,t,n;return _div(["sidebar"],_div(["sidebar-course-title-container"],u({title:this.props.course.title,onClick:this.props.onClickCourseTitle,onChange:this.props.onChangeCourseTitle,editable:this.props.editable}),this.props.editable?(e=r.get("site"),t=e+"/learn/"+this.props.course.id+"?draft=true",n=e+"/learn/"+this.props.course.id,f({},_div([],_b([],"view as learner")),_div([],_a([{target:"_blank",href:t}],"this revision")),this.props.course.isPublished?_div([],_a([{target:"_blank",href:n}],"published course")):void 0)):void 0),_div(["sidebar-body","custom-scrollbar",this._draggingSomeLesson()?"sidebar-dragging-some-lesson":void 0,{style:{position:"relative"}}],_div([],this._addDropTargetToLessons(this.props.course.lessons.map(this._renderLesson))),this.props.editable?_div(["sidebar-lesson"],_a(["sidebar-add-lesson",{onClick:this._addLesson}],"Add a lesson")):void 0),this.props.editable?_div(["sidebar-footer"],_div(["sidebar-last-saved"],h({date:this.props.lastSavedDateTime})),this.props.contributorsComponent?_div(["sidebar-contributors"],this.props.contributorsComponent):void 0):void 0)},componentDidMount:function(){if(!t.findDOMNode(this).offsetParent)return console.warn("Invariant violation: SidebarCourseComponent has no offsetParent, probably not attached to the DOM yet")}})})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("views/sidebar/author",["jquery","marionette","mediator","state/position","./sidebar_course_component","plugins/tracker","react","react-dom","react-backbone","react-coffeescript-glue","plugins/backbone.move"],function(e,n,r,i,s,o,u,a){var f,l,c;return s=u.createFactory(s),c=u.createClass({componentDidMount:function(){return this._contribRegion=new n.Region({el:a.findDOMNode(this)}),this.props.mediator.on("collab:populate:contributorsRegion",this._onPopulateContributors)},componentWillUnmount:function(){return this.props.mediator.off("collab:populate:contributorsRegion",this._onPopulateContributors),this._contribRegion.close()},render:function(){return _div([])},_onPopulateContributors:function(e){return this._contribRegion.show(e)}}),c=u.createFactory(c),l=u.createClass({mixins:[u.BackboneMixin("course"),u.BackboneMixin("currentPosition")],getInitialState:function(){return{lastSavedTime:+(new Date)}},componentDidMount:function(){return this.props.course.lessons.on("add remove reset sort change",function(){return this.forceUpdate()},this),e(document).on("ajaxComplete",this._onAjaxComplete),this.props.mediator.trigger("collab:player:authorSideBar:ready"),this._ensureLesson()},componentWillReceiveProps:function(e){if(this.props.course.lessons!==e.course.lessons)return this.props.course.lessons.off(null,null,this),e.course.lessons.on("add remove reset sort change",function(){return this.forceUpdate()},this)},componentWillUnmount:function(){return this.props.course.lessons.off(null,null,this),e(document).off("ajaxComplete",this._onAjaxComplete)},_onAjaxComplete:function(){return this.setState({lastSavedTime:+(new Date)})},_ensureLesson:function(e){return e==null&&(e=function(){}),this.props.course.lessons.length===0?this.props.course.lessons.create({},{success:e}):e()},render:function(){var e,t,n,r,i,u,a,f,l;r=this.props.course.lessons.get(this.props.currentPosition.get("lessonCid")),r&&(i=this.props.course.lessons.indexOf(r),t=r.gadgets.get(this.props.currentPosition.get("gadgetCid")),n=r.gadgets.indexOf(t)),e=this.props.course.toJSON({lessons:!0,gadgets:!0}),l=e.lessons;for(a=0,f=l.length;a<f;a++)u=l[a],u.isAccessible=!0;return s({course:e,currentLessonIndex:i,currentGadgetIndex:n,sectionGadgetType:"versal/header",editable:!0,lastSavedDateTime:this.state.lastSavedTime,contributorsComponent:c({mediator:this.props.mediator}),onClickCourseTitle:function(e){return function(){return e.props.mediator.trigger("parent:notify",{event:"publishCourse"})}}(this),onChangeCourseTitle:function(e){return function(t){return e.props.course.set({title:t}),e.props.course.debouncedSave()}}(this),onClickLesson:function(e){return function(t){return e.props.mediator.trigger("navigate:lesson",t+1)}}(this),onClickSection:function(e){return function(t,n){return e.props.mediator.trigger("navigate:gadget",t+1,n+1)}}(this),onChangeLessonTitle:function(e){return function(t,n){return u=e.props.course.lessons.at(t),u.set({title:n}),u.debouncedSave()}}(this),onLessonDelete:function(e){return function(t){return u=e.props.course.lessons.at(t),u.destroy(),e.props.mediator.trigger("lesson:deleted",u),o.track("Removed lesson",{lessonId:u.id,courseId:e.props.course.id}),e._ensureLesson(function(){return e.props.mediator.trigger("navigate:lesson",null)})}}(this),onLessonMove:function(e){return function(t,n){var r;return r=e.props.course.lessons.get(t),e.props.course.lessons.move(r,n)}}(this),onLessonAdd:function(e){return function(){return e.props.course.lessons.create({},{success:function(t){var n;return t.set("isAccessible",!0),n=e.props.course.lessons.indexOf(t),o.track("Added lesson",{lessonId:t.id,courseId:e.props.course.id}),e.props.mediator.trigger("navigate:lesson",n+1)}})}}(this)})}}),l=u.createFactory(l),f=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="spec-author-sidebar",n.prototype.template=function(){return""},n.prototype.onShow=function(){var e;return this.$el.css("height","100%"),e=l({course:this.model,currentPosition:i,mediator:r}),a.render(e,this.el)},n.prototype.onClose=function(){return a.unmountComponentAtNode(this.el)},n}(n.ItemView)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("views/sidebar/learner",["marionette","mediator","state/position","./sidebar_course_component","react","react-dom","react-backbone","react-coffeescript-glue"],function(e,n,r,i,s,o){var u,a;return i=s.createFactory(i),a=s.createClass({mixins:[s.BackboneMixin("course"),s.BackboneMixin("currentPosition")],render:function(){var e,t,r,s;return r=this.props.course.lessons.get(this.props.currentPosition.get("lessonCid")),r&&(s=this.props.course.lessons.indexOf(r),e=r.gadgets.get(this.props.currentPosition.get("gadgetCid")),t=r.gadgets.indexOf(e)),i({course:this.props.course.toJSON({lessons:!0,gadgets:!0}),currentLessonIndex:s,currentGadgetIndex:t,sectionGadgetType:"versal/header",onClickCourseTitle:function(){return n.trigger("parent:notify",{event:"publishCourse"})},onClickLesson:function(e){return n.trigger("navigate:lesson",e+1)},onClickSection:function(e,t){return n.trigger("navigate:gadget",e+1,t+1)}})}}),a=s.createFactory(a),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="spec-learner-sidebar",n.prototype.template=function(){return""},n.prototype.onShow=function(){return this.$el.css("height","100%"),o.render(a({course:this.model,currentPosition:r}),this.el)},n.prototype.onClose=function(){return o.unmountComponentAtNode(this.el)},n}(e.ItemView)})}.call(this),function(){n("views/tray/tray_slider",["underscore","react","mediator","react-coffeescript-glue"],function(e,t,n){var r,i;return r=72,i=t.createClass({propTypes:{scrollIndex:t.PropTypes.number,itemsPerRow:t.PropTypes.number},getInitialState:function(){return{scrollIndex:0,itemsPerRow:10}},componentDidMount:function(){return n.on("tray:catalog:changed",function(e){return function(){return e.setState({scrollIndex:0})}}(this))},_scrollNext:function(){var e,t;return e=this.props.children.length,t=Math.min(e-1,this.state.scrollIndex+this.state.itemsPerRow),this.setState({scrollIndex:t})},_scrollPrev:function(){var e;return e=Math.max(0,this.state.scrollIndex-this.props.itemsPerRow),this.setState({scrollIndex:e})},_scrollPositionStyle:function(){var e;return e="translateX(-"+this.state.scrollIndex*r+"px)",{style:{transform:e,WebkitTransform:e,MsTransform:e,MozTransform:e,OTransform:e}}},render:function(){var e,t;return e=this.state.scrollIndex===0,t=this.state.scrollIndex+this.props.itemsPerRow>=this.props.children.length,_div(["tray-slider-container"],_div(["tray-slider"],_div(["tray-gadgets-scroller"],_div(["prev-arrow",e?"invisible-tray-arrow":void 0,{onClick:this._scrollPrev}],_i(["icon-caret-left"])),_div(["tray-gadgets",this._scrollPositionStyle()],this.props.children),_div(["next-arrow",t?"invisible-tray-arrow":void 0,{onClick:this._scrollNext}],_i(["icon-caret-right"])))))}})})}.call(this),function(){n("views/gadget_info_overview",["react","models/settings"],function(e,t){var n;return n=e.createClass({propTypes:{title:e.PropTypes.string,description:e.PropTypes.string,version:e.PropTypes.string,exampleUrl:e.PropTypes.string,documentationUrl:e.PropTypes.string,onMouseEnter:e.PropTypes.func,onMouseLeave:e.PropTypes.func,onSetExpanded:e.PropTypes.func,exampleAvailable:e.PropTypes.bool,expanded:e.PropTypes.bool},render:function(){var t,n;return t="gadget-info-overview-tooltip",this.props.expanded&&(t+=" expanded"),n="",this.props.tooltipOffsetLeft&&(n=this.props.tooltipOffsetLeft+"px"),e.DOM.div({className:t,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e.DOM.div({className:"tooltip-arrow-bottom",style:{left:n}}),e.DOM.div({className:"gadget-info-overview"},e.DOM.div({className:"gadget-info-overview-top-row"},e.DOM.div({className:"gadget-info-overview-title"},this.props.title),e.DOM.div({className:"gadget-info-overview-version"},this.props.version)),e.DOM.div({className:"gadget-info-overview-description"},this.props.description),e.DOM.div({className:"gadget-info-overview-bottom-row"},this.props.documentationUrl?e.DOM.a({className:"gadget-info-more-info-link",href:this.props.documentationUrl,target:"_blank"},"more info..."):void 0,this.props.exampleUrl&&!this.props.expanded&&this.props.exampleAvailable?e.DOM.a({className:"gadget-info-show-more-link",onClick:function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.props.onSetExpanded(!e.props.expanded)}}(this)},"see example"):void 0),this.props.expanded?e.DOM.iframe({className:"gadget-info-example-iframe",src:this.props.exampleUrl+"?singleLesson=true&embed=true&display-footer=false&isProgressReportingEnabled=false",scrolling:"no",allowFullScreen:!0}):void 0))}})})}.call(this),!function(e,t,r,i){function s(e,t,n){return setTimeout(l(e,n),t)}function o(e,t,n){return Array.isArray(e)?(u(e,n[t],n),!0):!1}function u(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function a(t,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=e.console&&(e.console.warn||e.console.log);return s&&s.call(e.console,i,r),t.apply(this,arguments)}}function f(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&ht(r,n)}function l(e,t){return function(){return e.apply(t,arguments)}}function c(e,t){return typeof e==vt?e.apply(t?t[0]||i:i,t):e}function h(e,t){return e===i?t:e}function p(e,t,n){u(g(t),function(t){e.addEventListener(t,n,!1)})}function d(e,t,n){u(g(t),function(t){e.removeEventListener(t,n,!1)})}function v(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function g(e){return e.trim().split(/\s+/g)}function y(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function b(e){return Array.prototype.slice.call(e,0)}function w(e,t,n){for(var r=[],i=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];y(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function E(e,t){for(var n,r,s=t[0].toUpperCase()+t.slice(1),o=0;o<pt.length;){if(n=pt[o],r=n?n+s:t,r in e)return r;o++}return i}function S(){return Et++}function x(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function T(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){c(e.options.enable,[e])&&n.handler(t)},this.init()}function N(e){var t,n=e.options.inputClass;return new(t=n?n:Tt?I:Nt?U:xt?W:F)(e,C)}function C(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&Mt&&r-i===0,o=t&(Dt|Pt)&&r-i===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,k(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function k(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=O(t)),i>1&&!n.firstMultiple?n.firstMultiple=O(t):1===i&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,u=o?o.center:s.center,a=t.center=M(r);t.timeStamp=yt(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=H(u,a),t.distance=P(u,a),L(n,t),t.offsetDirection=D(t.deltaX,t.deltaY);var f=_(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=f.x,t.overallVelocityY=f.y,t.overallVelocity=gt(f.x)>gt(f.y)?f.x:f.y,t.scale=o?j(o.pointers,r):1,t.rotation=o?B(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,A(n,t);var l=e.element;v(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function L(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};t.eventType!==Mt&&s.eventType!==Dt||(i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function A(e,t){var n,r,s,o,u=e.lastInterval||t,a=t.timeStamp-u.timeStamp;if(t.eventType!=Pt&&(a>Ot||u.velocity===i)){var f=t.deltaX-u.deltaX,l=t.deltaY-u.deltaY,c=_(a,f,l);r=c.x,s=c.y,n=gt(c.x)>gt(c.y)?c.x:c.y,o=D(f,l),e.lastInterval=t}else n=u.velocity,r=u.velocityX,s=u.velocityY,o=u.direction;t.velocity=n,t.velocityX=r,t.velocityY=s,t.direction=o}function O(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:mt(e.pointers[n].clientX),clientY:mt(e.pointers[n].clientY)},n++;return{timeStamp:yt(),pointers:t,center:M(t),deltaX:e.deltaX,deltaY:e.deltaY}}function M(e){var t=e.length;if(1===t)return{x:mt(e[0].clientX),y:mt(e[0].clientY)};for(var n=0,r=0,i=0;t>i;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:mt(n/t),y:mt(r/t)}}function _(e,t,n){return{x:t/e||0,y:n/e||0}}function D(e,t){return e===t?Ht:gt(e)>=gt(t)?0>e?Bt:jt:0>t?Ft:It}function P(e,t,n){n||(n=zt);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function H(e,t,n){n||(n=zt);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function B(e,t){return H(t[1],t[0],Wt)+H(e[1],e[0],Wt)}function j(e,t){return P(t[0],t[1],Wt)/P(e[0],e[1],Wt)}function F(){this.evEl=Vt,this.evWin=$t,this.pressed=!1,T.apply(this,arguments)}function I(){this.evEl=Qt,this.evWin=Gt,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Zt,this.evWin=en,this.started=!1,T.apply(this,arguments)}function R(e,t){var n=b(e.touches),r=b(e.changedTouches);return t&(Dt|Pt)&&(n=w(n.concat(r),"identifier",!0)),[n,r]}function U(){this.evTarget=nn,this.targetIds={},T.apply(this,arguments)}function z(e,t){var n=b(e.touches),r=this.targetIds;if(t&(Mt|_t)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,s,o=b(e.changedTouches),u=[],a=this.target;if(s=n.filter(function(e){return v(e.target,a)}),t===Mt)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&u.push(o[i]),t&(Dt|Pt)&&delete r[o[i].identifier],i++;return u.length?[w(s.concat(u),"identifier",!0),u]:void 0}function W(){T.apply(this,arguments);var e=l(this.handler,this);this.touch=new U(this.manager,e),this.mouse=new F(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function X(e,t){e&Mt?(this.primaryTouch=t.changedPointers[0].identifier,V.call(this,t)):e&(Dt|Pt)&&V.call(this,t)}function V(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(i,rn)}}function $(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(t-i.x),o=Math.abs(n-i.y);if(sn>=s&&sn>=o)return!0}return!1}function J(e,t){this.manager=e,this.set(t)}function K(e){if(m(e,cn))return cn;var t=m(e,hn),n=m(e,pn);return t&&n?cn:t||n?t?hn:pn:m(e,ln)?ln:fn}function Q(){if(!un)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=n?e.CSS.supports("touch-action",r):!0}),t}function G(e){this.options=ht({},this.defaults,e||{}),this.id=S(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=vn,this.simultaneous={},this.requireFail=[]}function Y(e){return e&wn?"cancel":e&yn?"end":e&gn?"move":e&mn?"start":""}function Z(e){return e==It?"down":e==Ft?"up":e==Bt?"left":e==jt?"right":""}function et(e,t){var n=t.manager;return n?n.get(e):e}function tt(){G.apply(this,arguments)}function nt(){tt.apply(this,arguments),this.pX=null,this.pY=null}function rt(){tt.apply(this,arguments)}function it(){G.apply(this,arguments),this._timer=null,this._input=null}function st(){tt.apply(this,arguments)}function ot(){tt.apply(this,arguments)}function ut(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(e,t){return t=t||{},t.recognizers=h(t.recognizers,at.defaults.preset),new ft(e,t)}function ft(e,t){this.options=ht({},at.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=N(this),this.touchAction=new J(this,this.options.touchAction),lt(this,!0),u(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function lt(e,t){var n=e.element;if(n.style){var r;u(e.options.cssProps,function(i,s){r=E(n.style,s),t?(e.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function ct(e,n){var r=t.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var ht,pt=["","webkit","Moz","MS","ms","o"],dt=t.createElement("div"),vt="function",mt=Math.round,gt=Math.abs,yt=Date.now;ht="function"!=typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])}return t}:Object.assign;var bt=a(function(e,t,n){for(var r=Object.keys(t),s=0;s<r.length;)(!n||n&&e[r[s]]===i)&&(e[r[s]]=t[r[s]]),s++;return e},"extend","Use `assign`."),wt=a(function(e,t){return bt(e,t,!0)},"merge","Use `assign`."),Et=1,St=/mobile|tablet|ip(ad|hone|od)|android/i,xt="ontouchstart"in e,Tt=E(e,"PointerEvent")!==i,Nt=xt&&St.test(navigator.userAgent),Ct="touch",kt="pen",Lt="mouse",At="kinect",Ot=25,Mt=1,_t=2,Dt=4,Pt=8,Ht=1,Bt=2,jt=4,Ft=8,It=16,qt=Bt|jt,Rt=Ft|It,Ut=qt|Rt,zt=["x","y"],Wt=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(x(this.element),this.evWin,this.domHandler)}};var Xt={mousedown:Mt,mousemove:_t,mouseup:Dt},Vt="mousedown",$t="mousemove mouseup";f(F,T,{handler:function(e){var t=Xt[e.type];t&Mt&&0===e.button&&(this.pressed=!0),t&_t&&1!==e.which&&(t=Dt),this.pressed&&(t&Dt&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Lt,srcEvent:e}))}});var Jt={pointerdown:Mt,pointermove:_t,pointerup:Dt,pointercancel:Pt,pointerout:Pt},Kt={2:Ct,3:kt,4:Lt,5:At},Qt="pointerdown",Gt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Qt="MSPointerDown",Gt="MSPointerMove MSPointerUp MSPointerCancel"),f(I,T,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Jt[r],s=Kt[e.pointerType]||e.pointerType,o=s==Ct,u=y(t,e.pointerId,"pointerId");i&Mt&&(0===e.button||o)?0>u&&(t.push(e),u=t.length-1):i&(Dt|Pt)&&(n=!0),0>u||(t[u]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(u,1))}});var Yt={touchstart:Mt,touchmove:_t,touchend:Dt,touchcancel:Pt},Zt="touchstart",en="touchstart touchmove touchend touchcancel";f(q,T,{handler:function(e){var t=Yt[e.type];if(t===Mt&&(this.started=!0),this.started){var n=R.call(this,e,t);t&(Dt|Pt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ct,srcEvent:e})}}});var tn={touchstart:Mt,touchmove:_t,touchend:Dt,touchcancel:Pt},nn="touchstart touchmove touchend touchcancel";f(U,T,{handler:function(e){var t=tn[e.type],n=z.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ct,srcEvent:e})}});var rn=2500,sn=25;f(W,T,{handler:function(e,t,n){var r=n.pointerType==Ct,i=n.pointerType==Lt;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)X.call(this,t,n);else if(i&&$.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var on=E(dt.style,"touchAction"),un=on!==i,an="compute",fn="auto",ln="manipulation",cn="none",hn="pan-x",pn="pan-y",dn=Q();J.prototype={set:function(e){e==an&&(e=this.compute()),un&&this.manager.element.style&&dn[e]&&(this.manager.element.style[on]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return u(this.manager.recognizers,function(t){c(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),K(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,i=m(r,cn)&&!dn[cn],s=m(r,pn)&&!dn[pn],o=m(r,hn)&&!dn[hn];if(i){var u=1===e.pointers.length,a=e.distance<2,f=e.deltaTime<250;if(u&&a&&f)return}return o&&s?void 0:i||s&&n&qt||o&&n&Rt?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var vn=1,mn=2,gn=4,yn=8,bn=yn,wn=16,En=32;G.prototype={defaults:{},set:function(e){return ht(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=et(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=et(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=et(e,this),-1===y(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=et(e,this);var t=y(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;yn>r&&t(n.options.event+Y(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=yn&&t(n.options.event+Y(r))},tryEmit:function(e){return this.canEmit()?this.emit(e):void (this.state=En)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(En|vn)))return!1;e++}return!0},recognize:function(e){var t=ht({},e);return c(this.options.enable,[this,t])?(this.state&(bn|wn|En)&&(this.state=vn),this.state=this.process(t),void (this.state&(mn|gn|yn|wn)&&this.tryEmit(t))):(this.reset(),void (this.state=En))},process:function(e){},getTouchAction:function(){},reset:function(){}},f(tt,G,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(mn|gn),i=this.attrTest(e);return r&&(n&Pt||!i)?t|wn:r||i?n&Dt?t|yn:t&mn?t|gn:mn:En}}),f(nt,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ut},getTouchAction:function(){var e=this.options.direction,t=[];return e&qt&&t.push(pn),e&Rt&&t.push(hn),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&qt?(i=0===s?Ht:0>s?Bt:jt,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?Ht:0>o?Ft:It,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return tt.prototype.attrTest.call(this,e)&&(this.state&mn||!(this.state&mn)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Z(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),f(rt,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[cn]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&mn)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),f(it,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fn]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Dt|Pt)&&!i)this.reset();else if(e.eventType&Mt)this.reset(),this._timer=s(function(){this.state=bn,this.tryEmit()},t.time,this);else if(e.eventType&Dt)return bn;return En},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===bn&&(e&&e.eventType&Dt?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=yt(),this.manager.emit(this.options.event,this._input)))}}),f(st,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[cn]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&mn)}}),f(ot,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:qt|Rt,pointers:1},getTouchAction:function(){return nt.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(qt|Rt)?t=e.overallVelocity:n&qt?t=e.overallVelocityX:n&Rt&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&gt(t)>this.options.velocity&&e.eventType&Dt},emit:function(e){var t=Z(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),f(ut,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ln]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&Mt&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=Dt)return this.failTimeout();var o=this.pTime?e.timeStamp-this.pTime<t.interval:!0,u=!this.pCenter||P(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,u&&o?this.count+=1:this.count=1,this._input=e;var a=this.count%t.taps;if(0===a)return this.hasRequireFailures()?(this._timer=s(function(){this.state=bn,this.tryEmit()},t.interval,this),mn):bn}return En},failTimeout:function(){return this._timer=s(function(){this.state=En},this.options.interval,this),En},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==bn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.7",at.defaults={domEvents:!1,touchAction:an,enable:!0,inputTarget:null,inputClass:null,preset:[[st,{enable:!1}],[rt,{enable:!1},["rotate"]],[ot,{direction:qt}],[nt,{direction:qt},["swipe"]],[ut],[ut,{event:"doubletap",taps:2},["tap"]],[it]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Sn=1,xn=2;ft.prototype={set:function(e){return ht(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?xn:Sn},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&bn)&&(i=t.curRecognizer=null);for(var s=0;s<r.length;)n=r[s],t.stopped===xn||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(mn|gn|yn)&&(i=t.curRecognizer=n),s++}},get:function(e){if(e instanceof G)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=y(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return u(g(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==i){var n=this.handlers;return u(g(e),function(e){t?n[e]&&n[e].splice(y(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ct(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&lt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(at,{INPUT_START:Mt,INPUT_MOVE:_t,INPUT_END:Dt,INPUT_CANCEL:Pt,STATE_POSSIBLE:vn,STATE_BEGAN:mn,STATE_CHANGED:gn,STATE_ENDED:yn,STATE_RECOGNIZED:bn,STATE_CANCELLED:wn,STATE_FAILED:En,DIRECTION_NONE:Ht,DIRECTION_LEFT:Bt,DIRECTION_RIGHT:jt,DIRECTION_UP:Ft,DIRECTION_DOWN:It,DIRECTION_HORIZONTAL:qt,DIRECTION_VERTICAL:Rt,DIRECTION_ALL:Ut,Manager:ft,Input:T,TouchAction:J,TouchInput:U,MouseInput:F,PointerEventInput:I,TouchMouseInput:W,SingleTouchInput:q,Recognizer:G,AttrRecognizer:tt,Tap:ut,Pan:nt,Swipe:ot,Pinch:rt,Rotate:st,Press:it,on:p,off:d,each:u,merge:wt,extend:bt,assign:ht,inherit:f,bindFn:l,prefixed:E});var Tn="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};Tn.Hammer=at,"function"==typeof n&&n.amd?n("hammerjs",[],function(){return at}):"undefined"!=typeof module&&module.exports?module.exports=at:e[r]=at}(window,document,"Hammer"),function(){n("views/tray/item",["react","react-dom","views/gadget_draggable","views/gadget_info_overview","views/tether","mediator","hammerjs","react-coffeescript-glue"],function(e,t,n,r,i,s,o){var u;return n=e.createFactory(n),r=e.createFactory(r),i=e.createFactory(i),u=e.createClass({propTypes:{gadgetProject:e.PropTypes.object,paletteModel:e.PropTypes.object,onShowModal:e.PropTypes.func,onDragStart:e.PropTypes.func,onDragEnd:e.PropTypes.func,onGadgetSelected:e.PropTypes.func,isRevertable:e.PropTypes.bool,onMouseEnter:e.PropTypes.func,onMouseLeave:e.PropTypes.func},render:function(){return _div(["tray-gadget"],n({gadgetManifest:this.props.gadgetProject,dragData:{action:"create",type:this.props.gadgetProject.shortType,manifestUrl:this.props.gadgetProject.manifestUrl},onDragStart:this.props.onDragStart,onDragEnd:this.props.onDragEnd},_div(["spec-tray-item",{onDoubleClick:this.selectGadget}],_div([{onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},"gadget-icon",{style:{backgroundImage:"url("+this.props.gadgetProject.distributedIconPath+")"}}]),_div(["tray-gadget-title"],this.props.gadgetProject.title),this.props.gadgetProject.isUpgradable?_div(["upgrade-icon spec-tray-item-upgrade",{onClick:function(e){return function(){return e.props.onShowModal(e.props.paletteModel)}}(this)}],_i(["arrow-icon icon-circle-arrow-up"])):this.props.isRevertable?_div(["revert-icon spec-tray-item-revert",{onClick:function(e){return function(){return e.props.onShowModal(e.props.paletteModel)}}(this)}],_i(["arrow-icon icon-circle-arrow-down"])):void 0)))},componentDidMount:function(){var e;return e=new o.Manager(t.findDOMNode(this)),e.add(new o.Tap({event:"doubleTap",taps:2})),e.on("doubleTap",function(e){return function(t){if("mouse"!==t.pointerType)return e.selectGadget()}}(this))},selectGadget:function(){return this.props.onGadgetSelected(this.props.gadgetProject.manifestUrl)}})})}.call(this),function(){n("views/tray/clipboard_item",["react","views/gadget_draggable"],function(e,t){var n,r,i,s,o,u;return t=e.createFactory(t),r="../../assets/img/clipboard_item.png",u=e.DOM,i=u.div,o=u.textarea,s=u.i,n=e.createClass({propTypes:{bundle:e.PropTypes.shape({title:e.PropTypes.string,icon:e.PropTypes.string,gadgets:e.PropTypes.array}),onDragStart:e.PropTypes.func,onDragEnd:e.PropTypes.func,onRemoveClick:e.PropTypes.func},render:function(){var n,u,a,f,l,c,h;return h=this.props.bundle,c=h.title,f=h.icon,a=h.gadgets,l=h.manifests,u=function(){switch(!1){case a.length!==1:return"";case!(a.length>99):return"99+";default:return a.length}}(),n=f||r,i({className:"tray-gadget"},t({className:"tray-gadget-draggable",dragData:{action:"paste",gadgets:a,manifests:l},gadgetManifest:{title:c,author:"Gadget clipboard",version:"",distributedIconPath:n},onDragStart:this.props.onDragStart,onDragEnd:this.props.onDragEnd},e.DOM.div({className:"gadget-icon clipboard-icon",style:{backgroundImage:"url("+n+")"}},u)),s({className:"tray-item-remove icon-remove",onClick:this.props.onRemoveClick}),o({key:"gadget-title-${bundle.id}",className:"tray-gadget-title tray-gadget-title--editable",value:c,onChange:this.props.onTitleChange,onKeyDown:function(e){if(e.keyCode===13)return e.preventDefault(),e.target.blur()}}))}})})}.call(this),function(){n("views/tray/clipboard_controls",["underscore","react","mediator","react-coffeescript-glue"],function(e,t,n){var r;return r=t.createClass({propTypes:{clearSelection:t.PropTypes.func,copySelection:t.PropTypes.func,deleteSelection:t.PropTypes.func,isClipboardSelected:t.PropTypes.bool,isSelectionAvailable:t.PropTypes.bool},render:function(){return _div(["clipboard-controls",this.props.isClipboardSelected?"visible":void 0],_div(["clipboard-control","clipboard-control-button",this.props.isSelectionAvailable?void 0:"clipboard-control-disabled",this.props.isSelectionAvailable?"clipboard-control-cut":void 0,{onClick:this.props.clearSelection}],"clear selection"),_div(["clipboard-control","clipboard-control-button",this.props.isSelectionAvailable?void 0:"clipboard-control-disabled",this.props.isSelectionAvailable?"clipboard-control-copy":void 0,{onClick:this.props.copySelection}],"copy"),_div(["clipboard-control","clipboard-control-button",this.props.isSelectionAvailable?void 0:"clipboard-control-disabled",this.props.isSelectionAvailable?"clipboard-control-clear":void 0,{onClick:this.props.deleteSelection}],"delete"),_div(["clipboard-control","clipboard-control-button","clipboard-control-button-right","clipboard-control-cut",{onClick:this.handleClearClipboard}],"clear clipboard"))},handleClearClipboard:function(){if(confirm("Are you sure you want to delete all items from your clipboard?"))return this.props.clearClipboard()}})})}.call(this),function(){n("views/tray/downloads_controls",["underscore","react","mediator","react-coffeescript-glue"],function(e,t,n){var r;return r=t.createClass({propTypes:{marketplaceUrl:t.PropTypes.string},render:function(){return _div(["clipboard-controls","visible"],_div(["clipboard-control","clipboard-control-button","clipboard-control-cut",{onClick:this.handleDownloadClick}],"download more gadgets"),_div(["clipboard-control","clipboard-control-button","clipboard-control-button-right","clipboard-control-cut",{onClick:this.handleClearDownloads}],"clear downloads"))},handleDownloadClick:function(){return window.open(this.props.marketplaceUrl,"VersalMarketplace")},handleClearDownloads:function(){if(confirm("Are you sure you want to delete all your downloaded items?"))return this.props.clearDownloads()}})})}.call(this),function(){n("views/tray/tray_filters",["underscore","react","models/settings","react-coffeescript-glue"],function(e,t,n){var r;return r=t.createClass({propTypes:{catalogs:t.PropTypes.array.isRequired,onSelectTab:t.PropTypes.func.isRequired,onToggleTrayExpanded:t.PropTypes.func.isRequired,expanded:t.PropTypes.bool,selectedTab:t.PropTypes.string},getDefaultProps:function(){return{catalogs:[]}},getInitialState:function(){return{selectedTab:"core"}},render:function(){return _footer(["footer-container"],_div(["tray-filters"],e.map(this.props.catalogs,function(t){return _a(["tray-filter","spec-tray-filter",t===this.props.selectedTab&&this.props.expanded?"active":void 0,{onClick:e.partial(this.props.onSelectTab,t),key:t}],t)},this),_a(["tray-filter tray-toggle",this.props.expanded?"expanded":void 0,{onClick:this.props.onToggleTrayExpanded}],_i([this.props.expanded?"tray-toggle-collapse icon-double-angle-down":void 0,this.props.expanded?void 0:"tray-toggle-expand icon-double-angle-up"])),n.get("feature_selection")?_a(["tray-filter","tray-filter-right",this.props.selectedTab==="gadgetClipboard"&&this.props.expanded?"active":void 0,{onClick:e.partial(this.props.onSelectTab,"gadgetClipboard")}],"clipboard"):void 0,n.get("feature_marketplace_downloads")?_a(["tray-filter","tray-filter-right",this.props.selectedTab==="gadgetDownloads"&&this.props.expanded?"active":void 0,{onClick:e.partial(this.props.onSelectTab,"gadgetDownloads")}],"downloads"):void 0))}})})}.call(this),function(){n("views/tray/version_modal",["react","views/loading_indicator","mediator","react-coffeescript-glue"],function(e,t,n){var r;return t=e.createFactory(t),r=e.createClass({propTypes:{close:e.PropTypes.func,model:e.PropTypes.object,changeVersion:e.PropTypes.func,fromVersion:e.PropTypes.string,toVersion:e.PropTypes.string},getInitialState:function(){return{tryAgain:!1,showLoading:!1,doneLoading:!1,showError:!1}},onVersionChangeClick:function(){return this.setState({showLoading:!0,showError:!1}),this.props.changeVersion(this.props.model.type().split("@")[0],this.props.toVersion).done(this.onVersionChangeSuccess).fail(this.onVersionChangeFailed)},onVersionChangeSuccess:function(){return this.setState({doneLoading:!0,showLoading:!1,doneLoading:!0}),n.trigger("tray:gadgetUpdated",this.props.model)},onVersionChangeFailed:function(e){return function(){return e.setState({showError:!0,showLoading:!1,tryAgain:!0})}}(this),_isUpgradable:function(){var e,t;return e=this.props.fromVersion.split("."),t=this.props.toVersion.split("."),parseInt(e[0])<parseInt(t[0])?!0:parseInt(e[1])<parseInt(t[1])?!0:parseInt(e[2])<parseInt(t[2])?!0:!1},instructions:function(e){return this.state.tryAgain?"try again":this.state.doneLoading?"All instances of this gadget have been "+(e?"upgraded":"reverted"):e?"Upgrade each instance of this gadget in the current course":"Revert each instance of this gadget back to its previous version"},render:function(){var e,n,r;return e=this._isUpgradable(),n=e?"upgrade":"revert",_div([],_div(["gadget-version-modal modal"],_div(["instructions"],this.instructions(e)),_div(["gadget-info"],_div(["icon",r="background-image: url("+this.props.model.icon()+")"]),_div(["title"],this.props.model.get("title")),_div(["author"],this.props.model.get("author")),_div(["version"],""+this.props.fromVersion+" → "+this.props.toVersion)),this.state.showError?void 0:_div(["error-text"],"Gadget "+n+" failed, please check your connection and try again"),this.state.doneLoading?_div(["button-controls done-controls"],_button(["action",{onClick:this.props.close}],"okay")):_div(["button-controls"],_button(["version-change-cancel",{onClick:this.props.close}],"maybe later"),_button(["version-change-ok action",{onClick:this.onVersionChangeClick}],_span(["okay-text",this.state.showLoading?"invisible":void 0],n),this.state.showLoading?_div(["js-loading-indicator-region spinner"],t()):void 0))),_div(["modal-backdrop",{onClick:this.props.close}]))}})})}.call(this),function(){n("views/tray/tray_component",["underscore","backbone","react","models/settings","state/selection","views/render_in_body","views/tray/tray_slider","views/tray/item","views/tray/clipboard_item","views/tray/clipboard_controls","views/tray/downloads_controls","views/tray/tray_filters","views/tray/version_modal","views/gadget_info_overview","views/tether","react-coffeescript-glue"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){var v,m,g,y,b,w,E,S,x,T;return p=n.createFactory(p),s=n.createFactory(s),d=n.createFactory(d),f=n.createFactory(f),a=n.createFactory(a),l=n.createFactory(l),u=n.createFactory(u),c=n.createFactory(c),o=n.createFactory(o),h=n.createFactory(h),m="You have not downloaded any gadgets yet. Explore the market for gadgets created by the Versal community.",v="Select one or more gadgets to copy or cut. The clipboard will hold these gadgets so that you can add them in other places.",S=72,x=760,E=20,b=262,g=20,w=15,y=40,T=n.createClass({propTypes:{mediator:n.PropTypes.object.isRequired,trackToggleTray:n.PropTypes.func,trackCatalogClick:n.PropTypes.func,catalogs:n.PropTypes.object.isRequired,palette:n.PropTypes.object.isRequired,marketplaceItems:n.PropTypes.object},getDefaultProps:function(){return{catalogs:{},initialCatalog:"core"}},getInitialState:function(){var e,t,n,r;e=!0;if(typeof localStorage!="undefined"&&localStorage!==null?localStorage.hasOwnProperty("versalTrayExpanded"):void 0)e=localStorage.versalTrayExpanded==="true";return t=this.props.initialCatalog,e&&!((n=this.props.catalogs)!=null?(r=n.core)!=null?r.length:void 0:void 0)&&(t="sandbox"),{selectedTab:t,previouslySelectedTab:t,expanded:e,activeModalComponent:null,isSelectionAvailable:!1,gadgetInfoTooltipExpanded:!1}},componentDidMount:function(){return this.props.mediator.on("tray:gadget:dragstart",this._onGadgetDragStart),this.props.mediator.on("tray:gadget:dragend",this._onGadgetDragEnd),this.props.mediator.on("gadget:dragstart",this._onGadgetDragStart),this.props.mediator.on("gadget:dragend",this._onGadgetDragEnd),this.props.mediator.on("gadget:editing:start",this._onStartEditingGadget),this.props.mediator.on("gadget:editing:stop",this._onStopEditingGadget),i.on("clipboard:item:selected",this._onClipboardItemSelected),i.on("selection:empty",this._onClipboardSelectionEmpty),i.on("selection:clear",this._onClipboardSelectionClear)},_onGadgetDragStart:function(){return this._setTrayExpanded(!1)},_onGadgetDragEnd:function(){return this._setTrayExpanded(!0)},_onClipboardItemSelected:function(){return this._selectTab("gadgetClipboard"),this._setTrayExpanded(!0),this.setState({isSelectionAvailable:!0})},_onClipboardSelectionClear:function(){return this.setState({isSelectionAvailable:!1})},_onClipboardSelectionEmpty:function(){return this._selectTab(this.state.previouslySelectedTab),this._setTrayExpanded(localStorage.versalTrayExpanded==="true"),this.setState({isSelectionAvailable:!1})},_onStartEditingGadget:function(){return this._setTrayExpanded(!1)},_onStopEditingGadget:function(){return this._setTrayExpanded(!0)},_toggleTrayExpanded:function(e){var t;return this._setTrayExpanded(e),localStorage.versalTrayExpanded=e,typeof (t=this.props).trackToggleTray=="function"?t.trackToggleTray(e):void 0},_setTrayExpanded:function(e){return this.setState({expanded:e})},_selectTab:function(e){var t;return this.props.mediator.trigger("tray:catalog:changed",e),this.setState({selectedTab:e}),typeof (t=this.props).trackCatalogClick=="function"?t.trackCatalogClick(e):void 0},onSelectTab:function(e){return this._selectTab(e),this._setTrayExpanded(!0),this.setState({previouslySelectedTab:e})},_showVersionModal:function(e){var t;return t={model:e,changeVersion:this.props.palette.changeVersion.bind(this.props.palette),fromVersion:typeof e.get=="function"?e.get("version"):void 0,toVersion:typeof e.get=="function"?e.get("latestVersion"):void 0,close:function(e){return function(){return e.setState({activeModalComponent:null})}}(this)},this.setState({activeModalComponent:h(t)})},_gadgetInfoExpandedTooltipOffsetLeft:function(){var e;return e=this.state.gadgetInfoTargetIndex*S+S/2+E,e-y},_gadgetInfoOverflowOffset:function(){var e,t;return this.state.gadgetInfoTooltipTarget?(e=((t=this.state.gadgetInfoTooltipTarget.getBoundingClientRect())!=null?t.left:void 0)+S/2-g/2,e<b/2?e-w:e>window.innerWidth-b/2?b-(window.innerWidth-e)+w:null):null},render:function(){var n;return n=function(){switch(this.state.selectedTab){case"gadgetClipboard":return this._renderTrayBundles(this.props.clipboardItems,v);case"gadgetDownloads":return this._renderTrayBundles(this.props.marketplaceItems,m);default:return this._renderTrayGadgetItems()}}.call(this),_div([],_div(["expandable-tray",this.state.selectedTab==="gadgetClipboard"?"controls-visible":void 0,this.state.selectedTab==="gadgetDownloads"?"controls-visible":void 0,this.state.expanded?"expandable-tray-expanded":void 0],this.state.selectedTab==="gadgetClipboard"?f({isClipboardSelected:this.state.selectedTab==="gadgetClipboard",isSelectionAvailable:this.state.isSelectionAvailable,clearSelection:function(e){return function(){return i.clear()}}(this),copySelection:function(e){return function(){return i.trigger("selection:copy")}}(this),deleteSelection:function(e){return function(){return i.trigger("selection:delete")}}(this),clearClipboard:function(e){return function(){return i.trigger("clipboard:clear"),e.props.clipboardItems.reset(),t.sync("update",e.props.clipboardItems)}}(this)}):void 0,this.state.selectedTab==="gadgetDownloads"?l({marketplaceUrl:r.get("marketplaceUrl"),clearDownloads:function(e){return function(){return i.trigger("downloads:clear"),e.props.marketplaceItems.reset(),t.sync("update",e.props.marketplaceItems)}}(this)}):void 0,_div([{ref:"tetherTrayTarget"},"tether-tray-target"]),o({itemsPerRow:10},n),this.state.gadgetInfoTooltipProps&&r.get("feature_gadget_info")?this._renderGadgetInfo():void 0),c({catalogs:Object.keys(this.props.catalogs),selectedTab:this.state.selectedTab,expanded:this.state.expanded,onSelectTab:this.onSelectTab,onToggleTrayExpanded:e.partial(this._toggleTrayExpanded,!this.state.expanded)}),this.state.activeModalComponent?s({},this.state.activeModalComponent):void 0)},_renderTrayBundles:function(e,t){return e.length===0?[_div(["empty-clipboard-copy"],t)]:e.map(function(t){return function(n){return a({bundle:n.toJSON(),onDragStart:function(){return t.props.mediator.trigger("gadget:dragstart"),t.props.mediator.trigger("tray:gadget:dragstart")},onDragEnd:function(){return t.props.mediator.trigger("gadget:dragend"),t.props.mediator.trigger("tray:gadget:dragend")},onRemoveClick:function(t){return t.stopPropagation(),n.destroy({wait:!0}).then(function(){return e.remove(n)})},onTitleChange:function(e){return n.set("title",e.target.value),t._debouncedSaveBundle(n)}})}}(this))},_debouncedSaveBundle:e.debounce(function(e){return e.save()},500),_renderTrayGadgetItems:function(){var t,n;return t=((n=this.props.catalogs[this.state.selectedTab])!=null?n.models:void 0)||[],t.map(function(t){return function(n,r){var i,s,o,a;return s=n.type().split("@")[0],a=t.props.palette.findByType(s),i=a?a.toJSON():n.toJSON(),o=a!=null?a.get("version"):void 0,u({key:i.id,paletteModel:a,gadgetProject:i,isRevertable:o&&o!==(a!=null?a.get("latestVersion"):void 0),onShowModal:t._showVersionModal,onMouseEnter:function(n){return t.showGadgetInfoTooltip(e.pick(i,"title","description","version","exampleUrl","documentationUrl"),n.target,r%10)},onMouseLeave:t.hideGadgetInfoTooltip,onDragStart:function(){return t._hideGadgetInfoTooltip(),t.props.mediator.trigger("gadget:dragstart"),t.props.mediator.trigger("tray:gadget:dragstart")},onDragEnd:function(){return t.props.mediator.trigger("gadget:dragend"),t.props.mediator.trigger("tray:gadget:dragend")},onGadgetSelected:function(e){return t.props.mediator.trigger("tray:gadgetSelected",e)}})}}(this))},_renderGadgetInfo:function(){var t,n,r,i;if((i=this.state.selectedTab)!=="core"&&i!=="viewers"&&i!=="sandbox")return;return this.state.gadgetInfoTooltipExpanded?(r="0px -"+y+"px",n=[{to:"window",pin:["left","right"]}]):(r="10px 0px",n=[{to:[w,0,window.innerWidth-w,0],pin:["left","right"]}]),t=window.innerWidth-x-2*y>0,d({attachment:"bottom center",targetAttachment:"top center",zIndex:26,offset:r,target:this.state.gadgetInfoTooltipExpanded?this.refs.tetherTrayTarget:this.state.gadgetInfoTooltipTarget,constraints:n},_div([{onMouseEnter:function(e){return function(){return clearTimeout(e._hideGadgetInfoTooltipTimeout)}}(this),onMouseLeave:function(e){return function(){return e.hideGadgetInfoTooltip()}}(this)}],p(e.extend(this.state.gadgetInfoTooltipProps,{expanded:this.state.gadgetInfoTooltipExpanded,exampleAvailable:t,tooltipOffsetLeft:this.state.gadgetInfoTooltipExpanded?this._gadgetInfoExpandedTooltipOffsetLeft():this._gadgetInfoOverflowOffset(),onSetExpanded:function(e){return function(t){return e.setState({gadgetInfoTooltipExpanded:t}),setTimeout(function(){return clearTimeout(e._hideGadgetInfoTooltipTimeout)},1)}}(this)}))))},showGadgetInfoTooltip:function(e,t,n){var r,i;return clearTimeout(this._hideGadgetInfoTooltipTimeout),r=e,i={gadgetInfoTooltipProps:r,gadgetInfoTooltipTarget:t,gadgetInfoTargetIndex:n},n!==this.state.gadgetInfoTargetIndex&&(i.gadgetInfoTooltipExpanded=!1),this.setState(i)},hideGadgetInfoTooltip:function(){return clearTimeout(this._hideGadgetInfoTooltipTimeout),this._hideGadgetInfoTooltipTimeout=setTimeout(this._hideGadgetInfoTooltip,250)},_hideGadgetInfoTooltip:function(){return this.setState({gadgetInfoTooltipProps:null,gadgetInfoTooltipTarget:null,gadgetInfoTooltipExpanded:!1})}})})}.call(this),function(){n("templates/header",[],function(){return'<i class="toc-icon js-toggle-toc icon-reorder"></i>\n<span class="course-title"><%- title %></span>'})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("views/header",["marionette","templates/header","mediator"],function(e,n,r){var i;return i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.template=_.template(n),i.prototype.className="player-header",i.prototype.events={"click .js-toggle-toc":"onToggleClick"},i.prototype.initialize=function(){return this.listenTo(this.model,"change",this.render)},i.prototype.onToggleClick=function(e){return e.stopPropagation(),r.trigger("toc:toggle")},i}(e.ItemView)})}.call(this),function(){n("plugins/vs-sticky",["underscore","jquery"],function(e,t){var n,r;return r=["","-webkit-","-moz-","-ms-","-o-"],n=function(){function n(n){this.el=n,this.refresh=e.throttle(this.refresh.bind(this),10),this._current=null,this._stickyContainer=t('<div class="vs-sticky-container" />'),this.enable()}return n.prototype.selector=".js-sticky-header",n.prototype.enable=function(){return t(this.el).on("scroll",this.refresh)},n.prototype.disable=function(){return t(this.el).off("scroll",this.refresh)},n.prototype.refresh=function(){var t,n,r,i,s;return r=this.el.getBoundingClientRect().top,t=this.el.querySelectorAll(this.selector),t.length?(s=e.reduce(t,e.partial(this.findCurrent,r),null),n=s.current,i=s.next,this._sticky!==n&&this.setStickyHeader(n),this.adjustCurrent(r,n,i)):this.setStickyHeader(null)},n.prototype.findCurrent=function(e,t,n){return t==null&&(t={current:null,next:null}),t.next||(n.getBoundingClientRect().top<=e&&(t.current=n),t.current!==n&&(t.next=n)),t},n.prototype.setStickyHeader=function(n){var r,i,s;return this._sticky&&(t(this._sticky).css("visibility","visible"),this._sticky.dispatchEvent(new CustomEvent("unstuck",{bubbles:!0}))),this._sticky=n,n?(n.dispatchEvent(new CustomEvent("stuck",{bubbles:!0})),r=window.getComputedStyle(n),i=n.textContent||((s=n.querySelector("input"))!=null?s.value:void 0)||"",this._stickyContainer.text(i).css(e.pick(r,"color","fontSize","fontFamily","fontWeight","fontVariant")).appendTo(this.el),t(this._sticky).css("visibility","hidden")):this._stickyContainer.detach()},n.prototype.adjustCurrent=function(n,i,s){var o,u,a;if(!i)return;return u=((s!=null?s.getBoundingClientRect().top:void 0)||this.el.getBoundingClientRect().bottom)-n,o=u-i.getBoundingClientRect().height,a=o<=0?"translateY("+o+"px)":"none",t(this._stickyContainer).css(e.object(e.map(r,function(e){return[""+e+"transform",a]})))},n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};n("plugins/vs-element-seeing-observer",["jquery","underscore","mediator","state/position"],function(t,n,r,i){var s,o;return o="versal/header",s=function(){function r(r){this.el=r,this._observeCurrentSection=e(this._observeCurrentSection,this),this._viewportChanged=e(this._viewportChanged,this);if(!this.el)return;this._debouncedViewportChanged=n.debounce(this._viewportChanged,this._delay),t(this.el).on("scroll",this._debouncedViewportChanged),t(this.el).on("scroll",this._observeCurrentSection),t(window).on("resize",this._debouncedViewportChanged)}return r.prototype._viewportBottomOffset=28,r.prototype._delay=150,r.prototype.destroy=function(){return t(this.el).off("scroll",this._debouncedViewportChanged),t(this.el).off("scroll",this._observeCurrentSection),t(window).off("resize",this._debouncedViewportChanged)},r.prototype._viewportChanged=function(){var e;return e=this.el.querySelectorAll(".gadget"),n.each(e,function(e){return function(t){var n;if(t.hasAttribute("element-was-seen"))return;n=e._isInViewport(t,window.innerHeight);if(n)return t.dispatchEvent(new CustomEvent("elementWasSeen")),t.setAttribute("element-was-seen",1)}}(this))},r.prototype._isInViewport=function(e,t){var n,r;return n=t+10,r=e.getBoundingClientRect(),r.bottom<n},r.prototype._observeCurrentSection=function(e){var t,r,s;return s=this.el.getBoundingClientRect(),r=this.el.querySelectorAll(".gadget[data-type='"+o+"']"),t=null,n.each(r,function(e){if(e.getBoundingClientRect().top<=s.top)return t=e}),this.el.scrollTop>=this.el.scrollHeight-this.el.offsetHeight-this._viewportBottomOffset&&(t=n.last(r)),t?i.set("gadgetCid",t.getAttribute("data-cid")):i.unset("gadgetCid")},r}()})}.call(this),function(){n("templates/layout",[],function(){return'<div>\n  <header class="header-container js-header-container"></header>\n\n  <aside class="sidebar-container js-sidebar-container"></aside>\n\n  <div class="main-container js-main-container custom-scrollbar">\n    <div class="course-container js-course-container"></div>\n  </div>\n\n  <div class="tray-container js-tray-container"></div>\n\n  <footer class="js-footer-container"></footer>\n\n  <div class="dialogs"></div>\n  <div class="loading-container js-loading-container"></div>\n</div>'})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("views/player_layout",["marionette","jquery","mediator","models/settings","plugins/vs-sticky","plugins/vs-element-seeing-observer","templates/layout","views/loading"],function(t,n,i,s,o,u,a,f){var l,c;return l=1e3,c=function(t){function c(){return this.onGadgetEditingEnd=e(this.onGadgetEditingEnd,this),this.onGadgetEditingStart=e(this.onGadgetEditingStart,this),this.toggleSidebar=e(this.toggleSidebar,this),c.__super__.constructor.apply(this,arguments)}return r(c,t),c.prototype.template=a,c.prototype.regions={header:".js-header-container",sidebar:".js-sidebar-container",dialogs:".dialogs",courseContainer:".js-course-container",tray:".js-tray-container",loading:".js-loading-container"},c.prototype.ui={footer:".js-footer-container",mainContainer:".js-main-container"},c.prototype.events={click:"onClick"},c.prototype.initialize=function(){return this.listenTo(i,"toc:toggle",this.toggleSidebar),this.listenTo(i,"gadget:dragstart",function(){return this.$el.addClass("drag-in-progress")}),this.listenTo(i,"gadget:dragend",function(){return this.$el.removeClass("drag-in-progress")}),this.listenTo(i,"gadget:editing:start",this.onGadgetEditingStart),this.listenTo(i,"gadget:editing:stop",this.onGadgetEditingEnd),this.listenTo(i,"course:collab:open",function(){return this.$el.addClass("collab-connected")}),this.listenTo(i,"course:collab:close",function(){return this.$el.removeClass("collab-connected")}),this.listenTo(i,"lesson:allGadgetsRendered",function(){var e;return(e=this.loading.currentView)!=null?e.hide():void 0}),setTimeout(function(e){return function(){var t;return(t=e.loading.currentView)!=null?t.hide():void 0}}(this),l)},c.prototype.onRender=function(){var e,t;if(s.get("feature_stickyHeaders")!==!1)try{t=new o(this.ui.mainContainer.get(0)),this.listenTo(i,"stickyHeaders:refresh",t!=null?t.refresh.bind(t):void 0)}catch(n){e=n,console.warn("Sticky headers:",e)}return new u(this.ui.mainContainer.get(0)),this.loading.show(new f)},c.prototype.onClick=function(e){if(n(e.target).parents(".js-sidebar-container").length>0)return;return this.toggleSidebar(!1)},c.prototype.toggleSidebar=function(e){return this.$el.toggleClass("sidebar-expanded",e)},c.prototype.onGadgetEditingStart=function(){return this.$el.addClass("edit-in-progress"),this.toggleSidebar(!1)},c.prototype.onGadgetEditingEnd=function(){return this.$el.removeClass("edit-in-progress")},c}(t.Layout)})}.call(this),function(){n("views/error_overlay",["react"],function(e){var t;return t=e.createClass({propTypes:{title:e.PropTypes.string,description:e.PropTypes.string},render:function(){return e.DOM.div({className:"error-overlay-backdrop"},e.DOM.div({className:"error-content"},e.DOM.h2({className:"error-overlay-header"},this.props.title),e.DOM.p({className:"error-overlay-text"},this.props.description)))}})})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};n("hardcoded_gadget_catalogs",["collections/gadget_projects","underscore"],function(t,n){var r,i,s,o;return i={core:["Section header","Text","Image","Video","Quiz","Categories","Short response","Deeper diagram","Map","Slideshow","Whiteboard","Expression","Data viewer","Essay","Survey","Markdown","References","Timeline","Visual ranker"],viewers:["Generic embed","Quizlet","Google Docs","Disqus","Learnosity","Sketchfab","Wolfram","Prezi","Microsoft OneDrive","Dropbox","Desmos","flowkey","Educreations","Sound","PDF","Word","Brainshark","GeoGebra","ThingLink"]},s=function(e){var t,n,r,s;if(e.hidden)return"hidden";s=Object.keys(i);for(n=0,r=s.length;n<r;n++){t=s[n];if(i[t].some(function(t){return t===e.title}))return t}return"labs"},o=function(e){return function(t,n){var r,i;return r=e.indexOf(t.get("title")),i=e.indexOf(n.get("title")),r===i?0:0<=i&&i<r?1:i>=0&&r<0?1:-1}},r=function(){function r(e){this._gadgetsByCatalog=n.groupBy(e,s),this.core=this._buildCatalog("core"),this.viewers=this._buildCatalog("viewers"),this.labs=this._buildCatalog("labs"),this.hidden=this._buildCatalog("hidden")}return r.prototype._buildCatalog=function(r){var s;return s={},e.call(n.keys(i),r)>=0&&(s.comparator=o(i[r])),new t(this._gadgetsByCatalog[r],s)},r}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("combined_catalogue",["underscore","jquery","mediator","collections/gadget_projects","hardcoded_gadget_catalogs"],function(e,n,r,i,s){var o;return o=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.initialize=function(){return this.ready=new n.Deferred},r.prototype.getHiddenGadgets=function(e){var t;return t=this.hidden.select(function(t){return t.get("username")===e}),new i(t)},r.prototype.fetchAll=function(e){return e==null&&(e={}),this.approved=new i,this.sandbox=new i,n.when(this.approved.fetchApproved(),this.sandbox.fetchSandbox()).then(function(e){return function(){var t,n;return t=function(t,n){return e.add(n.models.map(function(e){return e.get("catalog")||e.set({catalog:t}),e}))},t("approved",e.approved),t("sandbox",e.sandbox),n=new s(e.approved.toJSON()),e.core=n.core,e.viewers=n.viewers,e.labs=n.labs,e.hidden=n.hidden,e.trigger("reset"),e.trigger("sync"),e.ready.resolve()}}(this))},r}(i)})}.call(this),function(){n("plugins/localstorage-migration",["underscore","plugins/tracker"],function(e,t){return function(n){var r,i;if(localStorage&&localStorage.clipboardItems){r=JSON.parse(localStorage.clipboardItems);if(r&&r.length){t.track("Has items in local clipboard",{howMany:r.length}),i=0,r.forEach(function(t){return n.findWhere({title:t.title})?i++:n.create(e.extend(t,{index:0,icon:""}),{at:0})});if(i===r.length)return console.log("clipboard has already been migrated"),t.track("All local clipboard items are migrated"),localStorage.removeItem("clipboardItems")}}}})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("models/gadget_bundle",["backbone","underscore","collections/gadgets"],function(e,n){var r;return r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.defaults={title:"Untitled",icon:"",gadgets:[],providerId:null,manifests:[]},n.prototype.url=function(){return this.id?_.result(this.collection,"url")+"/bundles/"+encodeURIComponent(this.id):_.result(this.collection,"url")},n}(e.Model)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collections/gadget_bundles",["backbone","models/gadget_bundle"],function(e,n){var r;return r=function(e){function r(e){this.userId=e.userId,this.trayLabel=e.trayLabel,r.__super__.constructor.call(this,{},{parse:!0})}return t(r,e),r.prototype.model=n,r.prototype.url=function(){return"/users/"+this.userId+"/trays/"+this.trayLabel},r.prototype.parse=function(e){return this.title=e.title,e.bundles},r}(e.Collection)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collections/lessons",["backbone","underscore","models/lesson"],function(e,n,r){var i;return i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.model=r,i.prototype.url=function(){if(this.course)return n.result(this.course,"url")+"/lessons"},i.prototype.initialize=function(e,t){if(t!=null?!t.course:!void 0)throw new Error("Course reference is mandatory for the Lessons");return this.course=t.course},i}(e.Collection)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("collections/gadget_palette",["jquery","backbone","underscore","collections/gadget_projects"],function(e,n,r,i){var s;return s=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.initialize=function(e,t){t==null&&(t={});if(t!=null?t.course:void 0)return this.url=function(){return r.result(t.course,"url")+"/palette"}},i.prototype.upgrade=function(e,t){return this.changeVersion(e,null,t)},i.prototype.changeVersion=function(t,n,r){var i,s;return r==null&&(r={}),i=this.findByType(t),i?(s=i.url(),r.url||(r.url=s),n||(n=i.get("latestVersion")),i.save({version:n},r)):e.Deferred().reject("Gadget project not found")},i}(i)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n("models/course",["backbone","underscore","collections/lessons","collections/gadget_palette"],function(e,n,r,i){var s;return s=function(s){function o(t,s){t==null&&(t={}),s==null&&(s={}),this.authors=new e.Collection,this.authors.url=function(e){return function(){return n.result(e,"url")+"/users"}}(this),this.lessons=new r([],{course:this}),this.progress=new e.Model,this.progress.isNew=function(){return!1},this.progress.url=function(e){return function(){return n.result(e,"url")+"/progress"}}(this),this.palette=new i([],{course:this}),this.debouncedSave=n.debounce(this.save.bind(this),1e3),s.parse=!0,e.Model.call(this,t,s)}return t(o,s),o.prototype.urlRoot="/courses",o.prototype.defaults={title:"Untitled course",isEditable:!1,shortDesc:"",longDesc:"",authorBio:"",tags:[],catalogs:[]},o.prototype.parse=function(e){return e.authors&&this.authors.set(e.authors,{parse:!0}),e.lessons&&this.lessons.set(e.lessons,{parse:!0}),e.palette&&this.palette.set(e.palette,{parse:!0}),e.currentPosition&&this.progress.set({lessonIndex:e.currentPosition.currentLesson}),n.omit(e,"lessons","authors","progress","palette")},o.prototype.toJSON=function(e){var t;return e==null&&(e={}),t=n.clone(this.attributes),t.isPublished=this._isPublished(),e.lessons&&(t.lessons=this.lessons.toJSON(e)),e.palette&&(t.palette=this.palette.toJSON(e)),t},o.prototype.validate=function(e,t){if(!e.title)return"Title must be not empty"},o.prototype.start=function(e){return e==null&&(e={}),e.attrs={},e.url=n.result(this,"url")+"/start",this.sync("create",this,e)},o.prototype.complete=function(e){return e==null&&(e={}),e.attrs={},e.url=n.result(this,"url")+"/completion",this.sync("update",this,e)},o.prototype.isStaged=function(){return n.contains(this.get("catalogs"),"staged")},o.prototype._isPublished=function(){return this.isStaged()||n.contains(this.get("catalogs"),"labs")},o.prototype.title=function(){return this.get("title")||"Untitled course"},o}(e.Model)})}.call(this),function(){n("templates/asset_picker",[],function(){return'<div class="assets-modal modal">\n  <div class="header">\n    <div class="modal-title">file picker</div>\n    <div class="modal-controls">\n      <button class="cancel js-close">cancel</button>\n      <button class="action js-use-file js-upload">use file</button>\n    </div>\n    <div class="clearfix"></div>\n  </div>\n  <div class="content">\n    <div class="preview-region">\n      <% if(allowUploading()) { %>\n        <div class="uploading-overlay">\n          <div class="uploading-spinner js-loading-indicator-region"></div>\n        </div>\n         <div class="choose-overlay">\n          <div class="drop-image"></div>\n          <div class="drop-blurb">\n            drag file here\n            <span class="click-blurb">or click to upload</span>\n          </div>\n          <div class="dropzone"></div>\n        </div>\n        <input class="hidden-uploader" type="file">\n      <% } %>\n      <div class="file-preview"></div>\n      <div class="status-message"></div>\n    </div>\n    <% if (getType() == "video") { %>\n      <input class="video-link" placeholder="paste YouTube, Vimeo or Wistia link" />\n    <% } %>\n  </div>\n</div>\n<div class="modal-backdrop"></div>'})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("views/modal",["jquery","marionette"],function(t,n){var i;return i=function(n){function i(){return this._onKeyDown=e(this._onKeyDown,this),i.__super__.constructor.apply(this,arguments)}return r(i,n),i.prototype.onClose=function(){return t(document).off("keydown",this._onKeyDown),this.remove()},i.prototype._onBackdropClick=function(){return this.close()},i.prototype._onModalClick=function(e){return e.stopPropagation()},i.prototype._onCloseModalClick=function(){return this.close()},i.prototype._onKeyDown=function(e){if(e.keyCode===27)return this.close()},i.prototype.onRender=function(){return t(document).on("keydown",this._onKeyDown)},i.prototype._prevent=function(e){return e.stopPropagation(),e.preventDefault()},i.prototype.events={click:"_onModalClick","click .js-close":"_onCloseModalClick","click .modal-backdrop":"_onBackdropClick"},i}(n.Layout)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};n("views/asset_picker/asset_picker",["react","jquery","underscore","mediator","plugins/tracker","marionette","templates/asset_picker","views/modal","models/asset","models/settings","views/react_view","views/loading_indicator"],function(t,n,i,s,o,u,a,f,l,c,h,p){var d;return p=t.createFactory(p),d=function(t){function s(){return this.onUploadError=e(this.onUploadError,this),this.onAssetRefetchError=e(this.onAssetRefetchError,this),this.onAssetRefetch=e(this.onAssetRefetch,this),this.onUploadSuccess=e(this.onUploadSuccess,this),this.onDrop=e(this.onDrop,this),this.templateHelpers=e(this.templateHelpers,this),s.__super__.constructor.apply(this,arguments)}return r(s,t),s.prototype.template=i.template(a),s.prototype.templateHelpers=function(){return{getType:function(e){return function(){return e.type}}(this),allowUploading:function(e){return function(){return e.type!=="video"}}(this)}},s.prototype.initialize=function(e){this.options=e,n(window).on("dragenter dragexit dragover dragleave drop",this._prevent),this.type=this.options.type;if(!this.type)throw new Error("Asset type is required");return this.formats=this.type==="image"?["jpg","jpeg","png","gif"]:this.type==="video"?["mp4","ogg","webm","avi","mov"]:void 0},s.prototype.ui={preview:".preview-region",filePreview:".file-preview",uploading:".uploading-overlay",choose:".choose-overlay",status:".status-message",useButton:".js-use-file",hiddenUploader:".hidden-uploader",videoInput:".video-link"},s.prototype.events=i.extend({},s.prototype.events,{"click .choose-overlay":"onChooseClick","dragenter .dropzone":"onOverlayDragEnter","dragleave .dropzone":"onOverlayDragLeave","dragenter .preview-region":"onRegionDragEnter","dragexit .dropzone":"_prevent","dragover .dropzone":"_prevent","drop .dropzone":"onDrop","click .js-use-file":"onUseClick","input .video-link":"onVideoInputChange","paste .video-link":"onVideoInputChange"}),s.prototype.regions={loadingIndicatorRegion:".js-loading-indicator-region"},s.prototype.onOverlayDragEnter=function(e){return this.ui.choose.addClass("dragenter"),e.preventDefault()},s.prototype.onOverlayDragLeave=function(e){return this.ui.choose.removeClass("dragenter fromRegion"),this.hasFile&&this.ui.choose.hide(),e.preventDefault()},s.prototype.onRegionDragEnter=function(e){if(!this.hasFile)return;return this.ui.choose.addClass("dragenter fromRegion"),this.ui.choose.show(),e.preventDefault()},s.prototype.onDrop=function(e){var t,n;t=e.originalEvent,t.stopPropagation(),t.preventDefault();if(t.dataTransfer.files.length)return this.onChooseComplete((n=t.dataTransfer.files)!=null?n[0]:void 0)},s.prototype.showStatus=function(e,t){return t==null&&(t=!1),this.ui.status.toggleClass("error",t),this.ui.status.text(e)},s.prototype.showPreviewError=function(e){return this.ui.filePreview.text(e)},s.prototype.showUploading=function(){return this.ui.choose.hide(),this.ui.uploading.show(),this.loadingIndicatorRegion.show(new h({component:p()})),this.showStatus("uploading...")},s.prototype.showChoose=function(){return this.ui.uploading.hide(),this.ui.choose.show(),this.showStatus("Accepted file types: "+this.formats.join(", ")),this.hasFile=!1},s.prototype.showFilePreview=function(e){var t;return t=e.size/1048576,t>5?this.showPreviewError("File too large to preview"):typeof FileReader!="undefined"&&FileReader!==null?(this.fr=new FileReader,this.fr.onload=function(t){return function(n){return t.onPreviewLoaded.call(t,n,e)}}(this),this.fr.readAsDataURL(e)):this.showPreviewError("No preview available")},s.prototype.onPreviewLoaded=function(e,t){var r;if(t.type.split("/")[0]!==this.type)return this.showPreviewError("No preview available");if(this.type==="image")return this.ui.filePreview.html(n("<img>").attr("src",e.target.result));if(this.type==="video")return r=n("<video>")[0],!r.canPlayType||!r.canPlayType(t.type).replace(/no/,"")?this.showPreviewError("No preview available"):this.ui.filePreview.html("<video preload='metadata' controls='controls'>\n  <source src='"+e.target.result+"'>\n</video>")},s.prototype.onUploadSuccess=function(e){var t,n,r;return this.ui.uploading.hide(),t=i.partial(i.omit,i,"location"),n=i.map(e.representations.toJSON(),t),this.assetJSON=i.extend(e.toJSON(),{representations:n}),this.showStatus("processing..."),typeof (r=this.options).processing=="function"&&r.processing(),this.checkProcessingStatus(e)},s.prototype.checkProcessingStatus=function(e){return e.fetch({success:this.onAssetRefetch,error:this.onAssetRefetchError})},s.prototype.onAssetRefetch=function(e){return e.representations.findWhere({available:!1})?i.delay(this.checkProcessingStatus.bind(this),3e3,e):this.onProcessingComplete()},s.prototype.onAssetRefetchError=function(e){return this.showStatus("Server error",!0)},s.prototype.onProcessingComplete=function(e){return this.ui.useButton.prop("disabled",!1),this.showStatus("Processing complete")},s.prototype.onUploadError=function(){return this.ui.uploading.hide(),this.showStatus("Error uploading",!0)},s.prototype.onChooseClick=function(){return this.ui.hiddenUploader.one("change",function(e){return function(){var t;return e.onChooseComplete((t=e.ui.hiddenUploader[0].files)!=null?t[0]:void 0)}}(this)),this.ui.hiddenUploader.click()},s.prototype.onChooseComplete=function(e){var t,n,r,s,u;return e?(s=i.last(e.name.split(".")),i.contains(this.formats,s.toLowerCase())?(r=e.type||""+this.type+"/x-"+s,n={title:"New File",tags:[this.type],content:e,contentType:r},t=new l,u=t.save(n,{upload:!0,success:this.onUploadSuccess,error:this.onUploadError}),o.timeXHR(u,"upload-asset",{contentType:r,name:e.name,courseId:c.get("courseId")}),this.showUploading(),this.ui.videoInput.css({visibility:"hidden"}),this.showFilePreview(e),this.hasFile=!0):this.showStatus("Unsupported file type chosen. Acceptable formats: "+this.formats.join(", "),!0)):this.showStatus("No file chosen",!0)},s.prototype.onUseClick=function(){return this.options.success(this.assetJSON),this.close(),o.track("use-asset",{courseId:c.get("courseId"),assetJSON:this.assetJSON})},s.prototype.close=function(){return n(window).off("dragenter dragexit dragover dragleave drop",this._prevent),s.__super__.close.apply(this,arguments)},s.prototype.onVideoInputChange=function(){return i.defer(function(e){return function(){var t,n,r,i;t=e.ui.videoInput.val();if(e.oldInput===t)return;e.oldInput=t;if(t.length===0){e.render(),e.ui.videoInput.focus();return}i=e.getYoutubeId(t),n=e.getVimeoId(t),r=e.getWistiaId(t);if(i||n||r)e.ui.choose.hide(),e.ui.useButton.prop("disabled",!1),e.showStatus("");return i?(e.assetJSON={type:"youtube",youtube_id:i},e.ui.filePreview.html(e.getYoutubeEmbed(i))):n?(e.assetJSON={type:"vimeo",vimeo_id:n},e.ui.filePreview.html(e.getVimeoEmbed(n))):r?(e.assetJSON={type:"wistia",wistia_id:r},e.ui.filePreview.html(e.getWistiaEmbed(r))):(e.showStatus("That is not a valid YouTube or Vimeo video url",!0),e.ui.useButton.prop("disabled",!0))}}(this))},s.prototype.getWistiaId=function(e){var t,n;return t=/https?:\/\/.*(?:(?:(?:wistia.com|wi.st)\/(?:medias|embed))|(?:fast.wistia.net\/embed\/iframe))\/([0-9a-z]+)/,(n=e.match(t))!=null?n[1]:void 0},s.prototype.getYoutubeId=function(e){var t,n;return t=/(?:(?:https?:\/\/)?(?:[a-zA_Z]{2,3}.)?)?(?:(?:youtube\.com\/watch\?)(?:[a-z=_&]+|(?:[\w\d\-\_\=]+&amp;(?:amp;)?))*v(?:&lt;[A-Z]+&gt;)?=|youtu.be\/)([0-9a-zA-Z\-\_]+)/,(n=e.match(t))!=null?n[1]:void 0},s.prototype.getVimeoId=function(e){var t,n;return t=/(?:(?:https?:\/\/)?(?:[a-zA_Z]{2,3}.)?)?(?:vimeo\.com\/)([0-9]+)/,(n=e.match(t))!=null?n[1]:void 0},s.prototype.onRender=function(){return s.__super__.onRender.apply(this,arguments),this.ui.useButton.prop("disabled",!0),this.showChoose()},s.prototype.getEmbedCode=function(e){var t;if(e==="asset")return t=i.filter(this.get("representations"),function(e){return e.contentType.indexOf("video/")===0}),t=i.sortBy(t,function(e){return e.contentType==="video/webm"?0:1}),i.template('<video class="myVideo" preload="none" controls="controls">\n  <% _.each(videos, function(vid) { %>\n    <source src="<%= vid.location %>" type="<%= vid.contentType %>">\n  <% }) %>\n</video>',{videos:t})},s.prototype.getWistiaEmbed=function(e){return'<iframe src="//fast.wistia.net/embed/iframe/'+e+'?version=v1" width="100%" height="100%"  allowtransparency="true" frameborder="0" scrolling="no" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen></iframe>'},s.prototype.getYoutubeEmbed=function(e){return'<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="//www.youtube.com/embed/'+e+'" frameborder="0"/>'},s.prototype.getVimeoEmbed=function(e){return'<iframe src="//player.vimeo.com/video/'+e+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},s}(f)})}.call(this),function(){n("messages/handlers/asset_select",["jquery","views/asset_picker/asset_picker"],function(e,t){return function(n,r){var i,s;return i=this,s=new t(_.pick(n,"success","type","processing")),e("body").append(s.render().$el)}})}.call(this),function(){n("messages/handlers/parent_notify",[],function(){return function(e){return window.parent.postMessage(JSON.stringify(e),"*")}})}.call(this),function(){n("messages/decorate",["mediator","messages/handlers/asset_select","messages/handlers/parent_notify"],function(e,t,n){var r;return r={"asset:select":t,"parent:notify":n},_.each(r,function(t,n){return e.on(n,t,e)})})}.call(this),function(){n("react_test_utils_for_selenium",["react"],function(e){return window.ReactTestUtilsForSelenium=e.addons.TestUtils})}.call(this),function(){n("legacy_cdn_defines_noconflict",["jquery","backbone"],function(e,t){return e.noConflict(!0),t.noConflict()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};n("player",["underscore","jquery","marionette","react","react-dom","models/patch_backbone_sync","collab/collab","views/react_view","views/course","views/sidebar/author","views/sidebar/learner","views/tray/tray_component","views/header","views/player_layout","views/error_overlay","combined_catalogue","mediator","player_palette","models/current_user","plugins/tracker","plugins/localstorage-migration","models/settings","state/selection","collections/gadget_projects","collections/gadget_bundles","models/course","messages/decorate","react_test_utils_for_selenium","legacy_cdn_defines_noconflict"],function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C){var k,L;return v=i.createFactory(v),h=i.createFactory(h),window.React=i,window.versal={ReactRef:i},window._=t,window.VersalGadgets={},L=function(){function e(e,t){this.trayCollection=t,this._willNotifyOtherTrays=!1,this.storageKey="/versal/trays/"+e+"/users/"+this.trayCollection.userId+"/stamp",x.on(e+":clear",function(e){return function(){return e._doNotifyOtherTrays()}}(this)),this.trayCollection.on("sync destroy",function(e){return function(){if(e._willNotifyOtherTrays)return e._doNotifyOtherTrays()}}(this)),this.trayCollection.on("change remove",function(e){return function(){return e._willNotifyOtherTrays=!0}}(this)),window.addEventListener("storage",function(e){return function(t){if(t.key===e.storageKey)return e._willNotifyOtherTrays=!1,e.trayCollection.fetch({reset:!0})}}(this))}return e.prototype._doNotifyOtherTrays=function(){var e;this._willNotifyOtherTrays=!1;if(window.localStorage)return e=Math.random()+"",setTimeout(function(t){return function(){return window.localStorage.setItem(t.storageKey,e)}}(this),1500)},e}(),k=function(){function r(t){this._onNavigateGadget=e(this._onNavigateGadget,this),this._onNavigateLesson=e(this._onNavigateLesson,this),this.onCourseLoad=e(this.onCourseLoad,this),this._onClipboardItemAdd=e(this._onClipboardItemAdd,this),this._onLearnerStateChanged=e(this._onLearnerStateChanged,this);var r,i,s,u,a;t&&S.set(t),o(S.get("api")),n(document).ajaxError(function(){return g.trigger("course:save:error")}),n(document).ajaxSuccess(function(){return g.trigger("course:save:success")}),this._courseRendering=n.Deferred(),this._courseRendering.done(function(e){return function(){return g.trigger("course:rendered",e.courseView)}}(this)),s=S.get("courseId");if(s==null)return this.renderErrorOverlay("cannot start the player without a courseId");if(!(((u=S.get("api"))!=null?u.url:void 0)||S.get("apiUrl")))return this.renderErrorOverlay("cannot start the player without an apiUrl");if(!(((a=S.get("api"))!=null?a.sessionId:void 0)||S.get("sessionId")))return this.renderErrorOverlay("cannot start the player without a sessionId");this.installNavigation(s),this.installSelectionHooks(),window.onbeforeunload=function(){if(g.pendingConfig||g.pendingUserState)return"You have unsaved changes. They will be lost if you decide to leave the course."},i=S.get("container"),r=n(S.get("container")),r.addClass("versal-player"),this.layout=new d({el:r.get(0)}),this.layout.render(),g.on("lesson:allGadgetsRendered",this._onAllGadgetsRendered,this),b.fetchDeferred().done(function(e){return function(t){return S.get("embedded")&&w.track("Loaded course embed",{courseId:s,email:t.email}),g.userId=t.id,e.marketplaceItems=new N({userId:t.id,trayLabel:"downloads"}),e.marketplaceItems.fetch(),e.clipboardItems=new N({userId:t.id,trayLabel:"clipboard"}),e.clipboardItems.fetch().then(function(){return E(e.clipboardItems)})}}(this)),this.loadCourse(s)}return r.prototype.renderErrorOverlay=function(e){var t;return t=v({title:"Sorry, we've encountered an error",description:e}),s.render(t,document.body)},r.prototype._installDependency=function(e,t){var n;return e==="stylesheet"?(n=document.createElement("link"),n.rel="stylesheet",n.href=t):(n=document.createElement("script"),n.src=t),document.head.appendChild(n)},r.prototype._onLearnerStateChanged=function(e){if(e.data.event==="learnerStateChanged")return this._courseRendering.done(function(t){return function(){var n,r,i;return i=e.data.data,i.gadgetIndex!=null?t.courseView.showGadget(i.lessonIndex,i.gadgetIndex):i.lessonIndex!=null?t.courseView.showLesson(i.lessonIndex):(n=t.course.progress.get("gadgetIndex")||null,r=t.course.progress.get("lessonIndex")||1,r=Math.min(r,t.course.lessons.length),window.parent.postMessage({event:"setLearnerState",data:{lessonIndex:r,gadgetIndex:n}},"*"))}}(this))},r.prototype.installNavigation=function(e){return this.uninstallNavigation(),g.on("navigate:lesson",this._onNavigateLesson),g.on("navigate:gadget",this._onNavigateGadget),window.addEventListener("message",this._onLearnerStateChanged)},r.prototype.uninstallNavigation=function(){window.removeEventListener("message",this._onLearnerStateChanged),this._onNavigateLesson&&g.off("navigate:lesson",this._onNavigateLesson);if(this._onNavigateGadget)return g.off("navigate:gadget",this._onNavigateGadget)},r.prototype.installSelectionHooks=function(){return x.on("clipboard:item:add",this._onClipboardItemAdd)},r.prototype.uninstallSelectionHooks=function(){return x.off("clipboard:item:add",this._onClipboardItemAdd)},r.prototype._onClipboardItemAdd=function(e){var n;return n=t.extend(e,{index:0}),this.clipboardItems.create(n,{at:0})},r.prototype.close=function(){return this.layout.sidebar.close(),this.uninstallNavigation(),this.uninstallSelectionHooks(),g.off("lesson:allGadgetsRendered",this._onAllGadgetsRendered,this)},r.prototype.initializeCollab=function(){if(S.get("collabUrl"))return u.init(g,S.toJSON())},r.prototype.loadCourse=function(e){var t,n,r;return r=new C({id:e}),S.get("revision")&&(t=r.url(),r.url=function(e){return function(){return"/catalogs/staged"+t}}(this)),n=r.fetch({data:{depth:"sections"},silent:!0,error:this.onCourseLoadError,success:this.onCourseLoad}),w.timeXHR(n,"fetch-course",{courseId:e.toString()}),this._renderTimer=w.createTimer("render-course",{courseId:e.toString()})},r.prototype.renderTray=function(e){var t,n,r,i,o,u;i=function(e){return w.track("Clicked gadget tray tab",{name:e?"open":"close"})},r=function(e){return w.track("Clicked gadget tray tab",{name:e})},t={core:this.combinedCatalogue.core,viewers:this.combinedCatalogue.viewers,labs:this.combinedCatalogue.labs,course:e.palette},n=this.combinedCatalogue.getHiddenGadgets(g.userId);if(n!=null?n.length:void 0)t.hidden=n;if((u=this.combinedCatalogue.sandbox)!=null?u.length:void 0)t.sandbox=this.combinedCatalogue.sandbox;return o=h({initialCatalog:"core",mediator:g,catalogs:t,trackCatalogClick:r,trackToggleTray:i,palette:e.palette,marketplaceItems:this.marketplaceItems,clipboardItems:this.clipboardItems}),this.layout.ui.footer.show(),this.trayComponent=s.render(o,this.layout.ui.footer[0])},r.prototype.onCourseLoad=function(e){var t,r,i,s;return this.course=e,this.course.palette.forEach(function(e){return y.registerManifest(e.toJSON())}),S.get("noEditable")&&e.set({isEditable:!1}),g.assetUrlTemplate=e.get("assetUrlTemplate"),g.isCourseEditable=e.get("isEditable"),this.course.get("isEditable")||(i=S.get("orgId"),t=this.course.get("currentPosition")?"Continued course":"Started course",w.track(t,{courseId:e.id,orgId:i})),e.get("isEditable")&&this.initializeCollab(),this.layout.header.show(new p({model:e})),e.get("isEditable")?(this.layout.sidebar.show(new l({model:e})),this.combinedCatalogue=new m,this.combinedCatalogue.fetchAll(),this.combinedCatalogue.ready.done(function(t){return function(){return t.combinedCatalogue.models.forEach(function(e){return y.registerManifest(e.toJSON())}),t.renderTray(e),e.palette.on("sync",t.renderTray.bind(t,e)),t.marketplaceItems.on("sync remove reset change:title",function(){return t.trayComponent.setProps({marketplaceItems:t.marketplaceItems})}),t.clipboardItems.on("sync remove reset change:title",function(){return t.trayComponent.setProps({clipboardItems:t.clipboardItems})}),new L("clipboard",t.clipboardItems),new L("downloads",t.marketplaceItems)}}(this)),n(this.layout.el).addClass("editable")):(S.get("singleLesson")&&this.layout.$el.addClass("hide-toc"),this.layout.sidebar.show(new c({model:e}))),this.courseView=new f({model:e,singleLesson:S.get("singleLesson")}),this.layout.courseContainer.show(this.courseView),r=!!e.get("currentPosition"),s=!S.get("isProgressReportingEnabled"),!r&&!s&&e.start(),this._notifyTitleChanged(e),e.on("change:title",this._notifyTitleChanged),e.get("org")&&this._addOneOffOrgStyles(e.get("org")),this._courseRendering.resolve()},r.prototype.onCourseLoadError=function(e,t,n){return g.trigger("parent:notify",{event:"player:loadingError",data:{status:t.status,message:t.responseText}})},r.prototype._onAllGadgetsRendered=function(e){var t;return(t=this._renderTimer)!=null&&t.stop(),this._renderTimer=null},r.prototype._onNavigateLesson=function(e){return window.parent.postMessage({event:"setLearnerState",data:{lessonIndex:e,gadgetIndex:null}},"*")},r.prototype._onNavigateGadget=function(e,t){return window.parent.postMessage({event:"setLearnerState",data:{lessonIndex:e,gadgetIndex:t}},"*")},r.prototype._notifyTitleChanged=function(e){var t;return t={event:"player:course:title:changed",data:e.title()},g.trigger("parent:notify",t)},r.prototype._addOneOffOrgStyles=function(e){if(e.id==="321993843")return n('<link rel="stylesheet" href="./one-offs/spider-learning.css">').appendTo("head")},r}(),window.VersalPlayer=k,k})}.call(this),t(["player"])})();