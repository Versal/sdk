@import 'nib/gradients'
@import 'nib/vendor'
@import 'variables'

$sidebarpadding = 10px
$innerWidth = $sidebarWidth - $sidebarpadding * 2

$baseUrl = '../assets/img/authorSidebar/icon_'

.authorSidebar
  .hidden
    display none

  .ui-sortable-helper
    width 725px !important
    padding-left 0
    box-shadow $boxShadow
    padding-right 0
    transform scale(1)
    cursor move
    cursor -moz-grabbing
    cursor -webkit-grabbing
    cursor grabbing

    .content
      background-color white

  .pull-right
    text-align right
    padding 10px

    .lastSaved
      color $sidebarBorder
      font-size 11px
      text-overflow ellipsis
      white-space nowrap
      overflow hidden

    button.publish
      padding 2px 7px
      font-size 12px
      background #486b6d
      color white
      border 0
      margin-bottom 3px

      &:hover
        background #385455

      &:active
        background #283d3d

  .search-outer
    margin 5px $sidebarpadding

    .search
      font 13px $primaryFont
      width $innerWidth
      box-sizing border-box
      padding 5px 10px
      height auto
      margin 0
      background #fff url('../assets/img/authorSidebar/icon_search.png') 96% center no-repeat

      &::-webkit-input-placeholder, &::-moz-placeholder, &:-ms-input-placeholder
        font-style italic

  .card-options
    padding 7px $sidebarpadding 3px
    box-shadow 0px 2px 3px 0px $sidebarBackground
    z-index 200
    position relative

    .marketplace-link
      padding-top 6px
      color $sidebarBorder
      cursor pointer

      &:hover
        opacity 0.8

    .tiny-arrow-icon
      background-image url($baseUrl + 'tiny_arrow.png')
      width 6px
      height 6px
      display inline-block

    .view-modes
      list-style none
      padding 0
      margin 0

      li
        margin 0
        padding 0
        line-height 1
        display inline-block

      i
        height 13px
        width 18px
        margin 4px
        display inline-block
        cursor pointer


      .list-view
        background-image url($baseUrl + 'list_active.png')

        &.inactive
          background-image url($baseUrl + 'list_normal.png')

        &:active
          background-image url($baseUrl + 'list_pressed.png')

      .tile-view
        background-image url($baseUrl + 'thumb_active.png')

        &.inactive
          background-image url($baseUrl + 'thumb_normal.png')

        &:active
          background-image url($baseUrl + 'thumb_pressed.png')

  .gadgetCards
    list-style none
    padding 0px 6px 0px 6px

    &.tile-view
      .gadgetCard
        width 52px
        display inline-block !important
        margin 1px

        &> .author, &> .title, &> .version
          display none

        .icon
          margin-bottom 0

    &.list-view
      overflow-x hidden
      overflow-y auto
      .gadgetCard
        display block
        margin-bottom 10px

        .icon
          margin-right 8px
          float left
          margin-bottom 0

      .expansion
        display none

    .hidden
      display none

    .atom.ui-sortable-helper
      box-sizing border-box
      transform scale(1)
      cursor move
      cursor -moz-grabbing
      cursor -webkit-grabbing
      cursor grabbing
      .bar
        opacity 1.0

      .content
        background-color white

    .header
      display none
      margin 0 5px
      padding 10px 0
      line-height 1
      font-size 14px

      &.approved
        margin-top 20px
        border-top 1px solid $sidebarBorder
        padding-top 20px

    .gadgetCard
      margin 3px
      border 1px solid $gray7
      background-color white
      padding 3px
      position relative
      cursor move
      transition box-shadow 200ms ease-in-out

      &:hover
        box-shadow 1px 1px 1px 0 rgba(108, 106, 95, 0.25)

      &:active
        border 1px solid $border
        box-shadow 1px 1px 1px 0 rgba(108, 106, 95, 0.5)

      &.dragging
        cursor move
        outline 1px solid transparent // Potentially fixes Chrome repaint issue

      .expansion
        width 180px
        position absolute
        top -1px
        right -180px
        background-color white
        z-index 1000
        height 100%
        height vendor-value(calc(100% \+ 2px))
        overflow hidden
        transition all 200ms ease-in-out
        padding 5px
        box-sizing border-box
        border 1px solid $gray7
        border-left 0

        .stars
          position absolute
          bottom 42px
          .star
            color #FF7404

        .dropdown
          position absolute
          bottom 8px
          padding 5px 12px
          font-size 13px
          background-color #A0A766
          border-radius 3px
          color white
          text-shadow rgba(0,0,0,0.3) 0 1px

          i
            margin-left 7px

      &:not(.expanded)
        .expansion
          opacity 0
          width 0
          right 0

      .icon
        width 52px
        height 52px
        background-size 52px 52px
        margin-bottom 9px
        border-radius 1px
        background-position center center
        background-repeat no-repeat

        &.greenbg
          background-color #99cc34

        &.orangebg
          background-color #e67600

        &.bluebg
          background-color #69cadc

        &.pinkbg
          background-color #BD2957

        &.graybg
          background-color $gray4

      .title
        color $gray4
        font-size 14px
        font-family $primaryFont
        margin-top 6px
        white-space nowrap
        overflow-x hidden
        text-overflow ellipsis

      .author
        color $gray2
        margin-top 3px
        margin-bottom 4px
        font-size 12px
        white-space nowrap
        overflow-x hidden
        text-overflow ellipsis

      .version
        position absolute
        bottom 5px
        right 8px
        font-size 12px
        color $gray2
